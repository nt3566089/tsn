/*
* このソースは基盤ソースです。変更は行わないで下さい。
*/


/*
* The license and copyright of this source are documented in the "LICENSE" file in the same folder.
*/


!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(a){function b(a){return a.$stateful=!0,a}a.decorator("dateFilter",["$delegate",b]),a.decorator("numberFilter",["$delegate",b]),a.decorator("currencyFilter",["$delegate",b])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(a){function b(a,b,c,d){var f=document.createElement("script"),g=e?e:document.getElementsByTagName("body")[0],h=!1;f.type="text/javascript",f.readyState?f.onreadystatechange=function(){"complete"!==f.readyState&&"loaded"!==f.readyState||(f.onreadystatechange=null,d(function(){h||(h=!0,f.parentNode===g&&g.removeChild(f),b())},30,!1))}:(f.onload=function(){h||(h=!0,f.parentNode===g&&g.removeChild(f),b())},f.onerror=function(){h||(h=!0,f.parentNode===g&&g.removeChild(f),c())}),f.src=a,f.async=!0,g.appendChild(f)}function c(a,c,d,e,h,i,k){function n(a,b){g===d&&(angular.forEach(a,function(c,d){b[d]?angular.isArray(b[d])&&(a[d].length=b[d].length):delete a[d]}),angular.forEach(b,function(c,d){angular.isArray(b[d])||angular.isObject(b[d])?(a[d]||(a[d]=angular.isArray(b[d])?[]:{}),n(a[d],b[d])):a[d]=b[d]}))}if(m[d])return g=d,m[d];var o,p=h.defer();return d===g?p.resolve(c):(o=i.get(d))?(g=d,e.$evalAsync(function(){n(c,o),f[l](j,d),e.$broadcast("$localeChangeSuccess",d,c),p.resolve(c)})):(g=d,m[d]=p.promise,b(a,function(){var a=angular.injector(["ngLocale"]),b=a.get("$locale");n(c,b),i.put(d,b),delete m[d],e.$applyAsync(function(){f[l](j,d),e.$broadcast("$localeChangeSuccess",d,c),p.resolve(c)})},function(){delete m[d],e.$applyAsync(function(){g===d&&(g=c.id),e.$broadcast("$localeChangeError",d),p.reject(d)})},k)),p.promise}var d,e,f,g,h="angular/i18n/angular-locale_{{locale}}.js",i="tmhDynamicLocaleStorageCache",j=a,k="get",l="put",m={},n={};this.localeLocationPattern=function(a){return a?(h=a,this):h},this.appendScriptTo=function(a){e=a},this.useStorage=function(a){i=a,k="get",l="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),k="getObject",l="putObject")},this.defaultLocale=function(a){d=a},this.storageKey=function(a){return a?(j=a,this):j},this.addLocalePatternValue=function(a,b){n[a]=b},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(a,b,e,l,m,o,p){function q(b){var d={locale:b,angularVersion:angular.version.full};return c(r(angular.extend({},n,d)),l,b,a,m,o,p)}var r=e(h);return f=b.get(i),a.$evalAsync(function(){var a;(a=f[k](j)||d)&&q(a)}),{set:q,get:function(){return g}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(a){return a("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(a){return a("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"});