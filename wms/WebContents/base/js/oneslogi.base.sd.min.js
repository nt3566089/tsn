/*
* ONEsLOGI Base Web Contents Ver 4.1.30
*/


/*
* このソースは基盤ソースです。変更は行わないで下さい。
*/


function getInitRowNum(a){return isNullOrUndefined(a)?commonInitRowNum.common:commonInitRowNum[a]}function isIE9LessEqual(){return!("function"==typeof history.pushState)}function getUuid(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+a()+a()+a()+a()+a()+a()}function getNextObject(a,b){for(var c=b?-1:1,d=-1,e=0,f=[],g=[],h=0;h<document.forms.length;h++){if(document.forms[h]==a.form)for(var i=0;i<document.forms[h].length;i++)if(document.forms[h][i]==a){d=e+i;break}f.push(e),c==-1?g.push(e+document.forms[h].length-1):g.push(e),e+=document.forms[h].length}for(var j,k,l=-1,m=(e+d+c)%e,n=0,o=0;;){for(;;){if(1==c&&g[n]<=m&&((n+c+g.length)%g.length==0||g[(n+c+g.length)%g.length]>m)){o=m-f[n];break}if(c==-1&&(0==n||g[(n+c+g.length)%g.length]<m)&&g[n]>=m){o=m-f[n];break}n=(n+c+g.length)%g.length}if(j=document.forms[n][o],k=j.style,"FIELDSET"!=j.tagName&&"hidden"!=j.type&&!j.disabled&&j.tabIndex!=-1&&$(j).is(":visible")&&("undefined"==typeof k||"hidden"!=k.visibility&&"none"!=k.display))return j;if(m=(m+c+e)%e,m==d)break;if(m==l)break;l==-1&&(l=m)}return a}function existsParentById(a,b,c){for(var d=null;;){if(d=a.parentElement,!d)return!1;if(d.id&&(d.id==b||d.id==c))return!0;a=d}}function centeringElment(a){var b=existsParentById(a,"content-footer-button","content-footer-control");if(!b){var c=document.getElementById("content-footer"),d=document.getElementById("navbar"),e=a.clientHeight,f=a.getBoundingClientRect(),g=0,h=0,i=0;c?(h=c.offsetTop,i=c.clientHeight):(h=window.innerHeight-e,i=0),g=d?d.clientHeight:0,(f.top<g||f.top>h-e)&&scrollTo(0,window.pageYOffset+f.top-(window.innerHeight-i)/2)}}function isNotEnterNextFocus(a){var b,c=a.type;switch("button"==c&&$(a).next("ul").length>0&&(c="select-multiple"),c){case"button":case"file":case"textarea":b=!0;break;case"radio":case"checkbox":case"text":case"select-one":case"select-multiple":b=!1;break;default:b=!1}return b}function isNotTabNextFocus(a){var b;switch(a.type){case"file":b=!0;break;default:b=!1}return b}function isNullOrUndefined(a){return"undefined"==typeof a||null===a}function createUTF8BytesFromString(a){var b,c,d,e,f,g=a.length,h=new Uint8Array(3*g),i=0,j=null;for(b=0;b<g;)for(d=a.charCodeAt(b++),55296<=d&&d<=57343&&(e=d,f=a.charCodeAt(b++),d=65536+1024*(e-55296)+(f-56320)),j=unicodeToUTF8Bytes(d,j),c=0;c<j.length;c++)h[i++]=j[c];return h.subarray(0,i)}function unicodeToUTF8Bytes(a,b){return b||(b={}),a<=127?(b.length=1,b[0]=a):a<=3447?(b.length=2,b[0]=192|a>>>6,b[1]=128|63&a):a<=65535?(b.length=3,b[0]=224|a>>>12,b[1]=128|a>>>6&63,b[2]=128|63&a):a<=1114111?(b.length=4,b[0]=240|a>>>18,b[1]=128|a>>>12&63,b[2]=128|a>>>6&63,b[3]=128|63&a):b.length=0,b}angular.module("oneslogiWeb.base.common",["AngularAPIClient","ngLocale","ui.validate","ngSanitize","wc.Directives","oneslogiWeb.date","tmh.dynamicLocale","ngCookies"]).config(["$locationProvider",function(a){a.hashPrefix("")}]).config(["tmhDynamicLocaleProvider",function(a){a.localeLocationPattern("base/js/angular-1.2.16/i18n/angular-locale_{{locale}}.js")}]).config(["$httpProvider",function(a){a.defaults.headers.get||(a.defaults.headers.get={}),a.defaults.headers.get.Pragma="no-cache",a.defaults.headers.get["Cache-Control"]="no-cache",a.defaults.headers.get["If-Modified-Since"]="Thu, 01 Jun 1970 00:00:00 GMT"}]).controller("NavCtrl",["$scope","$location","$window",function(a,b,c){a.isCollapsed=!0,a.targetWindow=function(a,b){return"1"==a?"_blank":"2"==a?b:"_self"},a.openLink=function(a,d,e){if("#"==a.substr(0,1))b.path(a.slice(1)).search({});else{var f;f="1"==d?"_blank":"2"==d?e:"_self",c.open(a,f)}}}]).controller("MainMenuCtrl",["api","$scope","alertMessage","owsCommon","$location","$window",function(a,b,c,d,e,f){var g={};a.info.query(g).then(function(a){if(0===a.status.statusCode){if(!b.bInfos){b.bInfos=[];for(var d=new Date,e=d.getFullYear()+("0"+(d.getMonth()+1)).slice(-2)+("0"+d.getDate()).slice(-2),f=0;f<a.data.length;f++)a.data[f].bInfo.infoStartDt<=e&&a.data[f].bInfo.infoEndDt>=e&&b.bInfos.push(a.data[f])}}else c.setOperationErrorMessage("infoMasterError",a.status)}),b.targetWindow=function(a,b){return"1"==a?"_blank":"2"==a?b:"_self"},b.openLink=function(a,b,c){if("#"==a.substr(0,1))e.path(a.slice(1)).search({});else{var d;d="1"==b?"_blank":"2"==b?c:"_self",f.open(a,d)}}}]).factory("alertMessage",["$rootScope","$log","$filter","$interval",function(a,b,c,d){var e=c("owfMessage"),f=function(){var a=Math.floor(1e3*Math.random()),b=new Date,c=b.getTime();return a+c.toString()},g=function(b,c){a.alerts||(a.alerts=[]);var d={};d.type=b,d.msg=c,d.id=f(),d.addDt=new Date,a.alerts.push(d)},h=function(){if(!a.modalView){var b=$("html, body");b.scrollTop(0).scrollLeft(0)}return d(function(){$(".alertblink").fadeOut(500,function(){$(this).fadeIn(500)})},1e3,5)};return{setErrorMessage:function(a){a||(a=e("unknownError",null,!1)),g("danger",a),h()},setErrorMessageByCode:function(a,b){var c=e(a,b,!1);c||(c=e("unknownError",null,!1)),g("danger",c),h()},setOperationErrorMessage:function(a,c){b.error(c);var d=e(a,null,!1),f=e(c.messageCode,c.messageReplaceValue,!1);g("danger",d+" "+f),h()},setWarningMessage:function(a){g("warning",a),h()},setWarningMessageByCode:function(a,b){var c=e(a,b,!1);g("warning",c),h()},setInfoMessage:function(a){g("info",a),h()},setInfoMessageByCode:function(a,b){var c=e(a,b,!1);g("info",c),h()},deleteAllInfo:function(){var b=a.alerts.length-1;for(i=b;i>=0;i--)"info"==a.alerts[i].type&&a.alerts.splice(i,1)},deleteAllWarning:function(){var b=a.alerts.length-1;for(i=b;i>=0;i--)"warning"==a.alerts[i].type&&a.alerts.splice(i,1)},deleteAllDanger:function(){var b=a.alerts.length-1;for(i=b;i>=0;i--)"danger"==a.alerts[i].type&&a.alerts.splice(i,1)},deleteAll:function(){a.alerts=[]},addModalAlert:function(b,c){a.alerts=[],a.modalAlerts||(a.modalAlerts={});for(var d in a.modalAlerts)a.modalAlerts[d]=!1;a.modalViews||(a.modalViews=[]),b.myName=c,a.modalViews.push(b),a.modalAlerts[c]=!0,a.modalView=!0},removeModalAlert:function(b){if(a.alerts=[],a.modalAlerts||(a.modalAlerts={}),delete a.modalAlerts[b],a.modalViews||(a.modalViews=[]),a.modalViews.pop(),0==Object.keys(a.modalAlerts).length&&(a.modalView=!1),a.modalViews.length>0){var c=a.modalViews[a.modalViews.length-1];c.myName&&(a.modalAlerts[c.myName]=!0)}}}}]).factory("api",["AngularAPIClient",function(a){return{screen:a.make([["query","GET","resources/base/screen"]]),item:a.make([["query","GET","resources/base/item"]]),column:a.make([["query","GET","resources/base/column"]]),message:a.make([["query","GET","resources/base/message"]]),menu:a.make([["query","GET","resources/base/menu"]]),info:a.make([["query","GET","resources/base/info"]]),culture:a.make([["query","GET","resources/base/culture"]]),session:a.make([["query","GET","resources/base/session"]]),system:a.make([["query","GET","resources/base/system"]]),terminal:a.make([["query","GET","resources/base/terminal"]])}}]).factory("owsSession",["api","$rootScope","$q","$cookies",function(a,b,c,d){return{setData:function(){var b=c.defer(),e=d.get("x-oneslogi-terminal-id"),f={uuid:e};return a.session.query(f).then(function(a){0===a.status.statusCode&&b.resolve()}),b.promise}}}]).factory("owsSystem",["api","$rootScope","$q","owsCommon",function(a,b,c,d){return{getData:function(){var d={},e=c.defer();return b.system||b.designMode?e.resolve("Already get SystemMaster"):a.system.query(d).then(function(a){if(0===a.status.statusCode)b.system||(b.system=a.data.bSystem,b.systemTitle=b.system.systemNm,b.userCd=a.data.bUser.userCd,b.userNm=a.data.bUser.userNm,b.authMode=a.data.authMode,b.showLiteLoginPwdMgt=a.data.showLiteLoginPwdMgt,b.userCanChangePassword=!1,"2"==a.data.authMode&&(b.userCanChangePassword=!0),b.userHasSelectableAutoPrintLayouts=a.data.userHasSelectableAutoPrintLayouts,b.hasTerminalMaster=a.data.hasTerminalMaster,b.utcTime=a.data.utcTime),e.resolve("Complete get SystemMaster");else{var c=a.status;c.name="systemMasterError",c.httpError=!1,b.connectionStatus.push(c),e.reject("Fail get SystemMaster")}}).catch(function(a,c){var d={};d.name="systemMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),e.reject("Fail get SystemMaster")}),e.promise},getUserCd:function(){return b.userCd},getUserNm:function(){return b.userNm},getAuthMode:function(){return b.authMode},getShowLiteLoginPwdMgt:function(){return b.showLiteLoginPwdMgt},getUtcTime:function(){return b.utcTime},setUtcTime:function(a){b.utcTime=a}}}]).factory("owsTerminal",["api","$rootScope","$q","$cookies",function(a,b,c,d){return{getData:function(){var e=c.defer();if(b.terminal||b.designMode)return e.resolve("Already get TerminalMaster"),e.promise;var f=d.get("x-oneslogi-terminal-id");if(!f)return e.resolve("UUID is undefined from cookie."),e.promise;var g={uuid:f};return a.terminal.query(g).then(function(a){if(0===a.status.statusCode)if(a.data.bTerminal){b.terminal=a.data.bTerminal,e.resolve("Complete get TerminalMaster");var c=new Date;c.setDate(c.getDate()+365),d.put("x-oneslogi-terminal-id",f,{expires:c})}else b.terminal={},e.resolve("Complete get TerminalMaster(Terminal not set)")}),e.promise},getTerminalCd:function(){return b.terminal&&b.terminal.terminalCd?b.terminal.terminalCd:null},getTerminalNm:function(){return b.terminal&&b.terminal.terminalNm?b.terminal.terminalNm:null},clear:function(){var d=c.defer(),e=!1;if(b.terminal&&b.terminal.terminalCd&&(e=!0),e){var f={uuid:null};a.session.query(f).then(function(a){0===a.status.statusCode&&d.resolve("Complete clear terminal")})}else d.resolve("Already cleared terminal");return b.terminal=void 0,d.promise}}}]).factory("owsMenu",["api","$rootScope","$q","owsCommon",function(a,b,c,d){return{getData:function(d){var e={};e.isSmartDevice=d;var f=c.defer();return b.bMenuGroup||b.designMode?f.resolve("Already get MenuMaster"):a.menu.query(e).then(function(a){if(0===a.status.statusCode){if(!b.bMenuGroup){a.data=a.data.filter(function(a){if(d){if("SD"==a.visibleType)return a}else if("PC"==a.visibleType)return a});for(var c=0;c<a.data.length;c++)0==a.data[c].bmenuList.length&&(a.data.splice(c,1),c-=1);b.bMenuGroup=a.data,b.visibleUserAutoPrintSetting=a.visibleUserAutoPrintSetting,b.visibleTerminalSetting=a.visibleTerminalSetting}f.resolve("Complete get MenuMaster")}else{var e=a.status;e.name="menuMasterError",e.httpError=!1,b.connectionStatus.push(e),f.reject("Fail get MenuMaster")}}).catch(function(a,c){var d={};d.name="menuMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),f.reject("Fail get menuMaster")}),f.promise}}}]).factory("owsCulture",["api","$locale","$rootScope","$q","owsCommon","tmhDynamicLocale",function(a,b,c,d,e,f){var g={getData:function(){var b={},e=d.defer();return c.culture||c.designMode?e.resolve("Already get CultureMaster"):a.culture.query(b).then(function(a){if(0===a.status.statusCode)c.culture||(c.culture=a.data),g.setLocaleByBCulture(c.culture.bCulture).then(function(){e.resolve("Complete get CultureMaster")});else{var b=a.status;b.name="cultureMasterError",b.httpError=!1,c.connectionStatus.push(b),e.reject("Fail get CultureMaster")}}).catch(function(a,b){var d={};d.name="cultureMasterError",d.httpError=!0,d.statusCode=b,c.connectionStatus.push(d),e.reject("Fail get CultureMaster")}),e.promise},setLocaleByBCulture:function(a){var e=d.defer();return f.set(a.cultureCd.toLowerCase()).then(function(){var d=a.BCultureAttributeAsOne;if(d){var f=d.dateTimeFormatDisplay,g=d.dateFormatDisplay,h=d.timeFormatDisplay,j=d.numberFormatDisplay;if(f&&(b.DATETIME_FORMATS.medium=f,b.DATETIME_FORMATS.short=f),g&&(b.DATETIME_FORMATS.fullDate=g,b.DATETIME_FORMATS.longDate=g,b.DATETIME_FORMATS.mediumDate=g,b.DATETIME_FORMATS.shortDate=g),h&&(b.DATETIME_FORMATS.mediumTime=g,b.DATETIME_FORMATS.shortTime=g),j){var k=j.split(b.NUMBER_FORMATS.DECIMAL_SEP),l=0,m=0,n=0,o=!1,p=!1,q=!1;for(i=k[0].length-1;0<=i;i--){var r=k[0].charAt(i);if("0"==r)o||n++,p?l++:m++;else if("#"==r)o=!0,p?l++:m++;else{if(r!=b.NUMBER_FORMATS.GROUP_SEP)break;if(p){q=!0;break}p=!0}}if(q?b.NUMBER_FORMATS.PATTERNS[0].gSize=l:b.NUMBER_FORMATS.PATTERNS[0].gSize=m,b.NUMBER_FORMATS.PATTERNS[0].lgSize=m,b.NUMBER_FORMATS.PATTERNS[0].minInt=n,2==k.length){var s=0,t=0,u=!1;for(i=0;i<k[1].length;i++){var r=k[1].charAt(i);if("0"==r)s++,u||t++;else{if("#"!=r)break;u=!0,s++}}b.NUMBER_FORMATS.PATTERNS[0].maxFrac=s,b.NUMBER_FORMATS.PATTERNS[0].minFrac=t}else b.NUMBER_FORMATS.PATTERNS[0].maxFrac=0,b.NUMBER_FORMATS.PATTERNS[0].minFrac=0}}c.dateFormatDisp=b.DATETIME_FORMATS.shortDate,c.dateFormat=b.DATETIME_FORMATS.shortDate,c.timeFormat="hh:mm";var v=c.dateFormat.indexOf("y");0<=v&&(c.dateFormat=c.dateFormat.replaceAll("y",""),c.dateFormat=c.dateFormat.slice(0,v)+"yyyy"+c.dateFormat.slice(v));var w=c.dateFormat.indexOf("M");0<=w&&(c.dateFormat=c.dateFormat.replaceAll("M",""),c.dateFormat=c.dateFormat.slice(0,w)+"MM"+c.dateFormat.slice(w));var x=c.dateFormat.indexOf("d");0<=x&&(c.dateFormat=c.dateFormat.replaceAll("d",""),c.dateFormat=c.dateFormat.slice(0,x)+"dd"+c.dateFormat.slice(x)),e.resolve("Complete set Locale.")},function(){e.reject("Fail set Locale.")}),e.promise}};return g}]).factory("owsMessage",["api","$rootScope","$q","owsCommon",function(a,b,c,d){return{getData:function(){var d={},e=c.defer();return b.message||b.designMode?e.resolve("Already get MessageMaster"):a.message.query(d).then(function(a){if(0===a.status.statusCode)b.message||(b.message=a.data),e.resolve("Complete get MessageMaster");else{var c=a.status;c.name="messageMasterError",c.httpError=!1,b.connectionStatus.push(c),e.reject("Fail get MessageMaster")}}).catch(function(a,c){var d={};d.name="messageMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),e.reject("Fail get MessageMaster")}),e.promise}}}]).factory("owsScreen",["api","$rootScope","$q","owsCommon",function(a,b,c,d){return{getData:function(d,e){if(!b.designMode){if("undefined"!=typeof b.screen&&"undefined"!=typeof b.screen[d]){if(e)return;return b.screen[d]&&(b.screen[d].screenNm?b.screenTitle=b.screen[d].screenNm:b.screenTitle=d),b.screenCd=d,void b.$broadcast("updateHeader",b.screenTitle)}var f={};f.screenCd=d;var g=c.defer();return a.screen.query(f).then(function(a){if(0===a.status.statusCode)b.screen||(b.screen={}),a.data[d]?"0"==a.data[d].bScreen.visible?b.$broadcast("accessDisableToScreenMessage"):(b.screen[d]=a.data[d].bScreen,a.data[d].bDict&&(b.screen[d].screenNm=a.data[d].bDict.dictNm),b.screen[d].screenNm?e||(b.screenTitle=b.screen[d].screenNm):e||(b.screenTitle=d)):(b.screen[d]={},e||(b.screenTitle=d)),b.screenCd=d,g.resolve("Complete get ScreenMaster");else{var c=a.status;c.name="screenMasterError",c.httpError=!1,b.connectionStatus.push(c),g.reject("Fail get ScreenMaster")}}).catch(function(a,c){var d={};d.name="screenMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),g.reject("Fail get ScreenMaster")}),g.promise}}}}]).factory("owsItem",["api","$rootScope","$q","$filter","owsCommon",function(a,b,c,d,e){return{getData:function(e){if(!b.designMode&&("undefined"==typeof b.screen||"undefined"==typeof b.screen[e])){var f={};f.screenCd=e;var g=c.defer();return a.item.query(f).then(function(a){if(0===a.status.statusCode){if(b.item||(b.item={}),b.item[e]||(b.item[e]={}),a.data){var c=a.data;for(var f in c)if(b.item[e][f]||(b.item[e][f]={}),c[f].bDict&&(b.item[e][f].itemNm=c[f].bDict.dictNm),c[f].bItem.textAlign&&("left"===c[f].bItem.textAlign?b.item[e][f].textAlign="leftText":"center"===c[f].bItem.textAlign?b.item[e][f].textAlign="centerText":"right"===c[f].bItem.textAlign&&(b.item[e][f].textAlign="rightText")),"1"==c[f].bItem.editable?b.item[e][f].editable=!0:"0"==c[f].bItem.editable&&(b.item[e][f].editable=!1),"1"==c[f].bItem.visible?b.item[e][f].visible=!0:"0"==c[f].bItem.visible&&(b.item[e][f].visible=!1),b.item[e][f].defaultVisible=b.item[e][f].visible,"1"==c[f].bItem.displayRequired?b.item[e][f].displayRequired=!0:"0"==c[f].bItem.displayRequired&&(b.item[e][f].displayRequired=!1),b.item[e][f].visible){if("1"==c[f].bItem.necessary?b.item[e][f].necessary=!0:"0"==c[f].bItem.necessary&&(b.item[e][f].necessary=!1),c[f].bItemValid.inputLimit&&(b.item[e][f].inputLimit=c[f].bItemValid.inputLimit),c[f].bItemValid.limitMessageCd){var h=d("owfMessage"),i=h(c[f].bItemValid.limitMessageCd);i&&i!=c[f].bItemValid.limitMessageCd||(i=h("patternError")),b.item[e][f].message=i}null!==c[f].bItemValid.minChars&&(b.item[e][f].minChars=c[f].bItemValid.minChars),null!==c[f].bItemValid.maxChars&&(b.item[e][f].maxChars=c[f].bItemValid.maxChars),null!==c[f].bItemValid.minNumber&&(b.item[e][f].minNumber=c[f].bItemValid.minNumber),null!==c[f].bItemValid.maxNumber&&(b.item[e][f].maxNumber=c[f].bItemValid.maxNumber),null!==c[f].bItemValid.integerLength&&(b.item[e][f].integerLength=c[f].bItemValid.integerLength),null!==c[f].bItemValid.decimalLength&&(b.item[e][f].decimalLength=c[f].bItemValid.decimalLength)}}g.resolve("Complete get ItemMaster")}else{var j=a.status;j.name="itemMasterError",j.httpError=!1,b.connectionStatus.push(j),g.reject("Fail get ItemMaster")}}).catch(function(a,c){var d={};d.name="itemMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),g.reject("Fail get ItemMaster")}),g.promise}}}}]).factory("owsColumn",["api","$rootScope","$q","owsCommon",function(a,b,c,d){return{getData:function(d){if(!b.designMode&&("undefined"==typeof b.screen||"undefined"==typeof b.screen[d])){var e={};e.screenCd=d;var f=c.defer();return a.column.query(e).then(function(a){if(0===a.status.statusCode)b.column||(b.column={}),b.column[d]||(b.column[d]=a.data),f.resolve("Complete get ColumnMaster");else{var c=a.status;c.name="columnMasterError",c.httpError=!1,b.connectionStatus.push(c),f.reject("Fail get ColumnMaster")}}).catch(function(a,c){var d={};d.name="columnMasterError",d.httpError=!0,d.statusCode=c,b.connectionStatus.push(d),f.reject("Fail get ColumnMaster")}),f.promise}}}}]).factory("owsMaster",function(){return{setMaster:function(a,b,c){c.item||(c.item={}),c.item[a.screenCd]||(c.item[a.screenCd]={}),c.item[a.screenCd][b.attr("id")]||(c.item[a.screenCd][b.attr("id")]={}),null==c.item[a.screenCd][b.attr("id")].itemNm&&(c.designMode?b.attr("label-text")&&(c.item[a.screenCd][b.attr("id")].itemNm=b.attr("label-text")):c.item[a.screenCd][b.attr("id")].itemNm="★項目名称未定義★"),null==c.item[a.screenCd][b.attr("id")].editable&&(c.designMode?c.item[a.screenCd][b.attr("id")].editable=!0:c.item[a.screenCd][b.attr("id")].editable=!1),null==c.item[a.screenCd][b.attr("id")].visible&&(c.item[a.screenCd][b.attr("id")].visible=!0),null==c.item[a.screenCd][b.attr("id")].textAlign&&(c.item[a.screenCd][b.attr("id")].textAlign=""),null==c.item[a.screenCd][b.attr("id")].necessary&&(c.item[a.screenCd][b.attr("id")].necessary=""),null==c.item[a.screenCd][b.attr("id")].inputLimit&&(c.item[a.screenCd][b.attr("id")].inputLimit=""),null==c.item[a.screenCd][b.attr("id")].message&&(c.item[a.screenCd][b.attr("id")].message=""),null==c.item[a.screenCd][b.attr("id")].minNumber&&(c.item[a.screenCd][b.attr("id")].minNumber=""),null==c.item[a.screenCd][b.attr("id")].maxNumber&&(c.item[a.screenCd][b.attr("id")].maxNumber=""),null==c.item[a.screenCd][b.attr("id")].integerLength&&(c.item[a.screenCd][b.attr("id")].integerLength=""),null==c.item[a.screenCd][b.attr("id")].decimalLength&&(c.item[a.screenCd][b.attr("id")].decimalLength=""),null==a.oneslogi&&(a.oneslogi={}),null==a.oneslogi[b.attr("id")]&&(a.oneslogi[b.attr("id")]={},a.oneslogi[b.attr("id")].editable=!0,a.oneslogi[b.attr("id")].show=!0),null==a.oneslogi[b.attr("id")].optionMessage&&(a.oneslogi[b.attr("id")].optionMessage={},a.oneslogi[b.attr("id")].optionMessage.show=!1,a.oneslogi[b.attr("id")].optionMessage.message="")},setMasterMultiText:function(a,b,c,d,e){c.item||(c.item={}),c.item[a.screenCd]||(c.item[a.screenCd]={}),c.item[a.screenCd][d]||(c.item[a.screenCd][d]={}),null==c.item[a.screenCd][d].itemNm&&(c.designMode?b.attr("label-text")&&(c.item[a.screenCd][d].itemNm=b.attr("label-text")):c.item[a.screenCd][d].itemNm="★項目名称未定義★"),null==c.item[a.screenCd][d].editable&&(c.designMode?c.item[a.screenCd][d].editable=!0:c.item[a.screenCd][d].editable=!1),null==c.item[a.screenCd][d].visible&&(c.item[a.screenCd][d].visible=!0),null==c.item[a.screenCd][d].textAlign&&(c.item[a.screenCd][d].textAlign=""),null==c.item[a.screenCd][d].necessary&&(c.item[a.screenCd][d].necessary=""),null==c.item[a.screenCd][d].inputLimit&&(c.item[a.screenCd][d].inputLimit=""),null==c.item[a.screenCd][d].message&&(c.item[a.screenCd][d].message=""),null==c.item[a.screenCd][d].minNumber&&(c.item[a.screenCd][d].minNumber=""),null==c.item[a.screenCd][d].maxNumber&&(c.item[a.screenCd][d].maxNumber=""),null==c.item[a.screenCd][d].integerLength&&(c.item[a.screenCd][d].integerLength=""),null==c.item[a.screenCd][d].decimalLength&&(c.item[a.screenCd][d].decimalLength=""),null==a.oneslogi&&(a.oneslogi={});for(var f=0;f<e.length;f++){var g=e[f];null==a.oneslogi[g]&&(a.oneslogi[g]={},a.oneslogi[g].defaultEditable=c.item[a.screenCd][d].editable,a.oneslogi[g].editable=!0,a.oneslogi[g].show=!0),null==a.oneslogi[g].optionMessage&&(a.oneslogi[g].optionMessage={},a.oneslogi[g].optionMessage.show=!1,a.oneslogi[g].optionMessage.message="")}}}}).factory("owsCommon",["$filter","owsDateCommon","$rootScope","$log","$timeout","$location","$locale",function(a,b,c,d,e,f,g){return{debugLog:function(a){d.debug(a)},convertMessage:function(b,c,d){var e,f=a("owfMessage");return e=c?f(b,c,d):f(b,null,d),e=e.replaceAll("<br>","\n")},viewAlert:function(a,b,c){null==c?alert(this.convertMessage(a,b,!1)):alert(c(a,b,!1))},viewConfirm:function(a,b,c){return null==c?confirm(this.convertMessage(a,b,!1)):confirm(c(a,b,!1))},viewInfoAndHistoryBack:function(a,b){var c=this.convertMessage;return e(function(){alert(c(a,b,!1)),history.back()},500)},viewInfoAndMovePage:function(a,b,c,d){var g=this.convertMessage;return e(function(){alert(g(c,d,!1)),f.path(a).search(b)},500)},viewPdfBlankWindow:function(){return window.open(commonPreviewUrl)},viewPdf:function(a,b){return(null==a||a.closed)&&(a=window.open(commonPreviewUrl)),a.location.replace(b),a=null,null},viewPdfCloseWindow:function(a){return a.close(),a.opener.focus(),a=null,null},syncExec:function(a,b){var c=Number(b);return isNaN(c)&&(c=0),e(a,c)},setOutputPagingSize:function(a){a.pageSize=0},setPagingData:function(a,b,c,d){a.paging=b,a.paging.pageSize=c,a.paging.currentPage=d},getInputOptions:function(a,b,c,d,e,f,g){var h={};return h.data={},h.data.input={},h.data.input.gridModelNm=b,h.data.input.columnDefs=a,arguments.length>2&&(h.data.input.fileType=c),arguments.length>3&&(h.data.input.encoding=d),arguments.length>4&&(h.data.input.delimiterChar=e),arguments.length>5&&(h.data.input.lineCode=f),arguments.length>6&&(h.data.input.readStartLine=g),h},setOutputOptions:function(a,b,d,e){b.enablePaging&&(a.paging={},this.setOutputPagingSize(a.paging)),a.output={},a.output.gridModelNm=d,a.output.downloadFileNm=e,a.output.columnDefs=[],a.output.author=c.systemTitle;for(var f=0,g=0;g<b.columnDefs.length;g++)b.columnDefs[g].visible&&(a.output.columnDefs[f]={},a.output.columnDefs[f].displayName=$.base64.encode(b.columnDefs[g].displayName,!0),a.output.columnDefs[f].field=b.columnDefs[g].field,a.output.columnDefs[f].visible=b.columnDefs[g].visible,a.output.columnDefs[f].colType=b.columnDefs[g].colType,f++)},getDotValue:function(a,b){for(var c,d,e=/\./,f=a,g=b.split(e);c=g.shift();){if(c.indexOf("[")<c.indexOf("]")?(d=c.substring(c.indexOf("[")+1,c.indexOf("]")),c=c.substring(0,c.indexOf("["))):d=null,f=f[c],!f)return null;if(d&&(f=f[parseInt(d)],!f))return null}return f},getDotValueNumber:function(a,b){for(var c,d,e=/\./,f=a,g=b.split(e);c=g.shift();){if(c.indexOf("[")<c.indexOf("]")?(d=c.substring(c.indexOf("[")+1,c.indexOf("]")),c=c.substring(0,c.indexOf("["))):d=null,f=f[c],isNullOrUndefined(f)||""===f)return null;if(d&&(f=f[parseInt(d)],isNullOrUndefined(f)||""===f))return null}return f},setDotValue:function(a,b,c){for(var d,e,f=/\./,g=a,h=b.split(f),i=0;i<h.length-1;i++){if(d=h[i],d.indexOf("[")<d.indexOf("]")?(e=d.substring(d.indexOf("[")+1,d.indexOf("]")),d=d.substring(0,d.indexOf("["))):e=null,g=g[d],!g)return null;if(e&&(g=g[parseInt(e)],!g))return null}g[h[h.length-1]]=c},dateToString:function(a){return b.dateToString(a,c.dateFormat)},stringToDate:function(a){return b.stringToDate(a,c.dateFormat)},stringDateFormat:function(a){return b.stringDateFormat(a,c.dateFormat)},dateRegExp:function(){return b.dateRegExp(c.dateFormat)},isDate:function(a,d){return b.isDate(a,c.dateFormat,d)},stringToDateType:function(a){if(null==a||"string"!=typeof a)return a;try{var b,c,d;b=parseInt(a.substr(0,4)),c=parseInt(a.substr(4,2))-1,d=parseInt(a.substr(6,2));var e=new Date(b,c,d);return e.getFullYear()==b&&e.getMonth()==c&&e.getDate()==d?e:a}catch(b){return a}},convertFromServerDateTimeToClientStrDateTime:function(b,d,e){if(b){var f=d;f||(f=g.DATETIME_FORMATS.medium);var h=e;return h||(h=c.utcTime),h?a("date")(b,f,h):a("date")(b,f)}return b},getDefaultValue:function(a,b){var c="classCd";2==arguments.length&&null!=arguments[1]&&""!=arguments[1]&&(c=arguments[1]);for(var d=0;d<a.length;d++)if("1"==a[d].defaultFlg)return a[d][c];return null},setFirstFocus:function(a){return e(function(){var b=document.forms[0];null!=a&&""!=a&&(b=document[a]);var c=$(b).find(":input");if(0!=c.length){var d=c[0],e=getNextObject(d,!1),f=getNextObject(e,!0);d=d==f?f:e,d.focus()}},300)},syncButtonExec:function(a){if(null!=a||""!=a){var b=$("#"+a),c=b[0],d={};return d.visibility=b.css("visibility"),d.display=b.css("display"),e(function(){"hidden"==c.type||c.disabled||"hidden"==d.visibility||"none"==d.display||c.click()})}},getDataCacheable:function(){if(arguments.length<2||arguments.length>3)throw new Error("当メソッドの引数は２つ、または３つ必要です。");var a,b,d;a=arguments[0],2==arguments.length?(b="query",d=arguments[1]):(b=arguments[1],d=arguments[2]);var e=a.$informations;if(b in e==!1)throw new Error("Apiに存在しないMethodが指定されました。["+b+"]");var f=a.$informations[b],g=angular.toJson(d);if(c.dataCache||(c.dataCache={}),f in c.dataCache){if(g in c.dataCache[f])return c.dataCache[f][g]}else c.dataCache[f]={};var h=a[b](d);return c.dataCache[f][g]=h,h},isModalOpen:function(){return!isNullOrUndefined(c.modalViews)&&c.modalViews.length>0},valueAllSelectOnFocus:function(a){return e(function(){"text"==a.target.type&&a.target.setSelectionRange(0,a.target.value.length)},0)},getDecimalZero:function(){return Decimal.ZERO=Decimal.ZERO||new Decimal(0),Decimal.ZERO},toInt:function(a){return new Decimal(a).trunc().toNumber()},isZero:function(a){return new Decimal(a).isZero()},isNotZero:function(a){return!new Decimal(a).isZero()},isZeroOrGreater:function(a){return new Decimal(a).gte(this.getDecimalZero())},isZeroOrLess:function(a){return new Decimal(a).lte(this.getDecimalZero())},isPositive:function(a){return new Decimal(a).gt(this.getDecimalZero())},isNegative:function(a){return new Decimal(a).lt(this.getDecimalZero())},isEqual:function(a,b){return new Decimal(a).eq(new Decimal(b))},isNotEqual:function(a,b){return!new Decimal(a).eq(new Decimal(b))},compare:function(a,b){return new Decimal(a).cmp(new Decimal(b))},isGreaterThan:function(a,b){return new Decimal(a).gt(new Decimal(b))},isLessThan:function(a,b){return new Decimal(a).lt(new Decimal(b))},isGreaterEqual:function(a,b){return new Decimal(a).gte(new Decimal(b))},isLessEqual:function(a,b){return new Decimal(a).lte(new Decimal(b))},add:function(a,b){for(var c=new Decimal(a),d=1;d<arguments.length;d++)c=c.add(new Decimal(arguments[d]));return c.toNumber()},subtract:function(a,b){for(var c=new Decimal(a),d=1;d<arguments.length;d++)c=c.sub(new Decimal(arguments[d]));return c.toNumber()},multiply:function(a,b){for(var c=new Decimal(a),d=1;d<arguments.length;d++)c=c.mul(new Decimal(arguments[d]));return c.toDP(3,Decimal.ROUND_DOWN).toNumber()},divide:function(a,b){return new Decimal(a).divToInt(new Decimal(b)).toNumber()},remainder:function(a,b){return new Decimal(a).mod(new Decimal(b)).toNumber()},truncated:function(a){return new Decimal(a).trunc().toNumber()},getMultiTextModels:function(a){var b=[];isNullOrUndefined(a)&&(a=4);for(var c=0;c<a;c++){var d={initFlg:!0,decimalExistFlg:null,listLength:null,defaultUnit:null,unit:null,value:null,unitNum:1,calcUnitNum:1};b.push(d)}return b},setMultiTextInit:function(a,b){for(var c=0,d=0;d<b.length;d++)a[d].initFlg=!1,a[d].decimalExistFlg=b[d].mshapeGrpDtl.mshapeGrp.decimalExistFlg,a[d].listLength=b.length,a[d].unit=b[d].mshapeGrpDtl.mshape.vdictByShapeUnitDictId.dictNm,(isNullOrUndefined(b[d].unitNum)||""==b[d].unitNum)&&(b[d].unitNum=1),a[d].unitNum=b[d].unitNum,0==d?(a[d].defaultUnit=b[d].mshapeGrpDtl.mshape.vdictByShapeUnitDictId.dictNm,c=b[d].unitNum):c=this.multiply(c,b[d].unitNum),a[d].calcUnitNum=c;return a},getUnitNumBreakdown:function(a,b,c){if(isNullOrUndefined(a)||""==a)return null;if(isNullOrUndefined(b)||""==b||0==b.length)return null;if(!isNullOrUndefined(b)&&1==b.length)return null;if(!isNullOrUndefined(c)&&"1"==c)return null;for(var d=angular.copy(b),e=[],f=null,g=null,h=null,i=0;i<d.length;i++)if(f=g,g=d[i].mshapeGrpDtl.mshape.vdictByShapeUnitDictId.dictNm,h=d[i].unitNum,0!=i){var j="1"+g+"="+h+f;e.push(j)}e.reverse();for(var k=null,l=0;l<e.length;l++)e.length==l+1?k+=e[l]:k=k+e[l]+", ";return k.replace(/null/g,"")},getCalcQty:function(a,b){for(var c=null,d=!0,e=!0,f=0;f<b.length;f++){var g=b[f].initFlg,h=b[f].calcUnitNum,i=b[f].value;if(isNullOrUndefined(i)||""===i||0<i.toString().indexOf("e")?i=0:e=!1,isNullOrUndefined(g)||(g?h=0:d=!1),!isFinite(h)||!isFinite(i))return a;if(this.isNegative(h)||this.isNegative(i))return a;c=0==f?i:this.add(c,this.multiply(h,i))}return d&&(c=a),e&&(c=null),c&&0<c.toString().indexOf("e")?a:c},getCalcAuxiliaryBreakdown:function(a,b,c,d){if(isNullOrUndefined(b)||""===b)return a[c][d].model[0].value=null,a[c][d].model[1].value=null,a[c][d].model[2].value=null,void(a[c][d].model[3].value=null);if(isFinite(b)&&"1"!=a[c][d].model[0].decimalExistFlg&&1!=a[c][d].model[0].listLength){var e=b.toString();if(0<e.indexOf("e")||0<parseFloat(e).toString().indexOf("e"))return a[c][d].model[0].value=null,a[c][d].model[1].value=null,a[c][d].model[2].value=null,void(a[c][d].model[3].value=null);if(e.indexOf(g.NUMBER_FORMATS.DECIMAL_SEP)!=-1)return a[c][d].model[0].value=null,a[c][d].model[1].value=null,a[c][d].model[2].value=null,void(a[c][d].model[3].value=null);var f=!1,h=null,i=null,j=null,k=null,l=null,m=null,n=null;a[c][d].model.reverse();for(var o=0;o<a[c][d].model.length;o++){var p=a[c][d].model[o].initFlg,q=a[c][d].model[o].calcUnitNum;switch(o){case 0:h=b,k=a[c][d].model[o].value;break;case 1:h=i,l=a[c][d].model[o].value;break;case 2:h=i,m=a[c][d].model[o].value;break;case 3:h=i,n=a[c][d].model[o].value}if(1!=f)if(isNullOrUndefined(p)||!p)if(isFinite(q)&&isFinite(h))if(this.isNegative(q)||this.isNegative(h))f=!0;else if(o==a[c][d].model.length-1)a[c][d].model[o].value=h;else{var i=this.remainder(h,q),j=this.divide(h,q);a[c][d].model[o].value=j}else f=!0;else i=h}1==f&&(a[c][d].model[0].value=k,a[c][d].model[1].value=l,a[c][d].model[2].value=m,a[c][d].model[3].value=n),a[c][d].model.reverse()}},getGridCalcAuxiliaryBreakdown:function(a,b,c,d,e){if(isNullOrUndefined(b)||""===b)return a[c][e][d].model[0].value=null,a[c][e][d].model[1].value=null,a[c][e][d].model[2].value=null,void(a[c][e][d].model[3].value=null);if(isFinite(b)&&"1"!=a[c][e][d].model[0].decimalExistFlg&&1!=a[c][e][d].model[0].listLength){var f=b.toString();if(0<f.indexOf("e")||0<parseFloat(f).toString().indexOf("e"))return a[c][e][d].model[0].value=null,a[c][e][d].model[1].value=null,a[c][e][d].model[2].value=null,void(a[c][e][d].model[3].value=null);if(f.indexOf(g.NUMBER_FORMATS.DECIMAL_SEP)!=-1)return a[c][e][d].model[0].value=null,a[c][e][d].model[1].value=null,a[c][e][d].model[2].value=null,void(a[c][e][d].model[3].value=null);var h=!1,i=null,j=null,k=null,l=null,m=null,n=null,o=null;a[c][e][d].model.reverse();for(var p=0;p<a[c][e][d].model.length;p++){var q=a[c][e][d].model[p].initFlg,r=a[c][e][d].model[p].calcUnitNum;switch(p){case 0:i=b,l=a[c][e][d].model[p].value;break;case 1:
i=j,m=a[c][e][d].model[p].value;break;case 2:i=j,n=a[c][e][d].model[p].value;break;case 3:i=j,o=a[c][e][d].model[p].value}if(1!=h)if(isNullOrUndefined(q)||!q)if(isFinite(r)&&isFinite(i))if(this.isNegative(r)||this.isNegative(i))h=!0;else if(p==a[c][e][d].model.length-1)a[c][e][d].model[p].value=i;else{var j=this.remainder(i,r),k=this.divide(i,r);a[c][e][d].model[p].value=k}else h=!0;else j=i}1==h&&(a[c][e][d].model[0].value=l,a[c][e][d].model[1].value=m,a[c][e][d].model[2].value=n,a[c][e][d].model[3].value=o),a[c][e][d].model.reverse()}}}}]).factory("owsHistory",["$location","$rootScope","$browser",function(a,b,c){return{replaceState:function(a){history.replaceState&&c.url(location.href,!0,angular.copy(a))},hasState:function(){return!(!b.popstate||!b.popstate.data)},popState:function(){if(b.popstate&&b.popstate.data){var a=b.popstate.data;return b.popstate={},angular.copy(a)}return null}}}]).filter("owfCurrency",["$filter","$locale",function(a,b){var c=a("currency"),d=b.NUMBER_FORMATS;return function(a,b){var e=c(a,b),f=e.indexOf(d.DECIMAL_SEP);return console.log(a,e),a>=0?e.substring(0,f):e.substring(0,f)+")"}}]).filter("owfMessage",["$rootScope","localMessage",function(a,b){function c(a,b){var c=Object.prototype.toString.call(b).slice(8,-1);return void 0!==b&&null!==b&&c===a}function d(d){var e=!0;if(a.message)if(a.message[d])if(a.message[d].bMessage.messageNm){var f;if(3==arguments.length&&arguments[2]===!1?f=a.message[d].bMessage.messageNm:(f=a.message[d].bMessage.messageAbbr,f||(f=a.message[d].bMessage.messageNm)),f){if(arguments.length>=2&&c("Array",arguments[1]))for(var g=0;g<arguments[1].length;g++)for(var h="["+g+"]";f!==f.replace(h,arguments[1][g]);)f=f.replace(h,arguments[1][g]);else arguments.length>=2&&null!=arguments[1]&&(f=f.replace("[0]",arguments[1]));for(;f!==f.replace("[/]","<br>");)f=f.replace("[/]","<br>");return f}e=!1}else e=!1;else e=!1;else e=!1;if(!e){if(b["ja-jp"][d]){var f=b["ja-jp"][d].bMessage.messageNm;if(f){if(2==arguments.length&&c("Array",arguments[1]))for(var g=0;g<arguments[1].length;g++)for(var h="["+g+"]";f!==f.replace(h,arguments[1][g]);)f=f.replace(h,arguments[1][g]);else if(3==arguments.length&&c("Array",arguments[1])&&c("Boolean",arguments[2]))for(var g=0;g<arguments[1].length;g++)for(var h="["+g+"]";f!==f.replace(h,arguments[1][g]);)f=f.replace(h,arguments[1][g]);else for(var g=1;g<arguments.length;g++)for(var h="["+(g-1)+"]";f!==f.replace(h,arguments[g]);)f=f.replace(h,arguments[g]);for(;f!==f.replace("[/]","<br>");)f=f.replace("[/]","<br>");return f}return d}return d}}return d.$stateful=!0,d}]).filter("owfValueFromKey",[function(){return function(a,b,c,d){for(var e=0;e<b.length;e++)if(b[e][c]==a)return b[e][d];return a}}]).filter("owfDateFromString",["$filter","$rootScope",function(a,b){return function(c){if(null!=c&&8==c.length){var d=parseInt(c.substr(0,4),10),e=parseInt(c.substr(4,2),10)-1,f=parseInt(c.substr(6,2),10),g=new Date(d,e,f),h=a("date");return h(g,b.dateFormatDisp)}return c}}]).filter("owfTimeFromString",["$filter","$rootScope",function(a,b){return function(a){return null!=a&&4==a.length?a.substr(0,2)+":"+a.substr(2,2):a}}]).filter("owfNumber",["$filter","$rootScope","$locale",function(a,b,c){return function(b){if(null==b||""==b)return b;if("string"!=typeof b&&isNaN(b))return b;"string"!=typeof b&&(b=""+b),b=b.replaceAll(c.NUMBER_FORMATS.GROUP_SEP,"");var d=parseFloat(b).toString();if(0<d.indexOf("e"))return b;var e,f,g=b.indexOf(c.NUMBER_FORMATS.DECIMAL_SEP);if(g==-1)e=b,f=null;else{e=b.substr(0,g),f=b.substr(g+1);for(var h=-1,i=f.length-1;i>=0&&"0"==f.substr(i,1);i--)h=i;h!=-1&&(f=f.substr(0,h))}var j=a("number"),k=j(e);if("0"==k&&f&&e.indexOf("-")!=-1&&(k="-0"),null!=f&&f>0){var l=(0+c.NUMBER_FORMATS.DECIMAL_SEP+f).split(c.NUMBER_FORMATS.DECIMAL_SEP)[1];k=f.length<l.length?k.split(c.NUMBER_FORMATS.DECIMAL_SEP)[0]+c.NUMBER_FORMATS.DECIMAL_SEP+l:k.split(c.NUMBER_FORMATS.DECIMAL_SEP)[0]+c.NUMBER_FORMATS.DECIMAL_SEP+f}return 0<k.toString().indexOf("e")?b:k}}]).filter("owfNoHTML",["$filter",function(a){return function(a){return null==a||"string"!=typeof a?a:a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}}]).filter("owfNewlines",["$filter","$sce",function(a,b){return function(a){return null==a||"string"!=typeof a?a:b.trustAsHtml(a.replace(/(\r\n|\n|\r)/g,"<br>"))}}]).directive("owdInfo",[function(){return{restrict:"E",scope:!1,replace:!0,transclude:!1,template:function(a,b){var c="";return c+='<span style="color:black;" class="help-block" ng-bind-html="'+b.ngModel+'"></span>'}}}]).directive("owdSpan",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){var c="";b.labelText;for(c+="<span>",c+=b.class?'<span id="'+b.id+'" ng-show="{1}" class="'+b.class+'">{{{4}}}</span>':'<span id="'+b.id+'" ng-show="{1}">{{{4}}}</span>',c+="</span>";c!=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)c=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");return c=c.replace("{4}","item[screenCd]['"+b.id+"'].itemNm"),b.class="",c},controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdLabel",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){var c="";b.labelText;for(c+="<span>",c+='  <label id="'+b.id+'" ng-show="{1}" class="'+b.class+'">{{{4}}}</label>',c+="</span>";c!=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)c=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");return c=c.replace("{4}","item[screenCd]['"+b.id+"'].itemNm"),b.class="",c},controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdScreen",["$rootScope",function(a){return{restrict:"A",scope:!1,priority:1e3,controller:["$scope","$element",function(b,c){if(b.screenCd=c.attr("owd-screen"),b.$ionicGoBack)b.$parent.hasOwnProperty("oneslogi")||(b.oneslogi?b.$parent.$parent.oneslogi={}:b.$parent.oneslogi={});else if(b.navbar===b.$root.$$childHead.navbar)b.$parent.oneslogi={};else{for(var d=b,e=b.$parent;e.$parent;)d=e,e=e.$parent;d.oneslogi={}}document.title=a.screenTitle}]}}]).factory("directiveControl",["$timeout",function(a){return{show:function(b,c,d){return a(function(){var a;a="object"==typeof c&&void 0!=c.length?c:[c];for(var e=0;e<a.length;e++)null==b.oneslogi[a[e]]&&(b.oneslogi[a[e]]={}),b.oneslogi[a[e]].show=d},0)},isShow:function(a,b){return null==a.oneslogi[b]&&(a.oneslogi[b]={}),null==a.oneslogi[b].show&&(a.oneslogi[b].show=!0),a.oneslogi[b].show},editable:function(b,c,d){return a(function(){var a;a="object"==typeof c&&void 0!=c.length?c:[c];for(var e=0;e<a.length;e++)null==b.oneslogi[a[e]]&&(b.oneslogi[a[e]]={}),b.oneslogi[a[e]].editable=d},0)},isEditable:function(a,b){return null==a.oneslogi[b]&&(a.oneslogi[b]={}),null==a.oneslogi[b].editable&&(a.oneslogi[b].editable=!0),a.oneslogi[b].editable},isDefaultEditable:function(a,b){return null==a.oneslogi[b]&&(a.oneslogi[b]={}),null==a.oneslogi[b].defaultEditable&&(a.oneslogi[b].defaultEditable=!0),a.oneslogi[b].defaultEditable},firstErrorOnFocus:function(b){var c=!0,d=function(){b=b.replace(".","\\.");var e=$("#"+b).find("ng-form");if(e.length>0)for(var f=0;f<e.length;f++)if(e[f].className.indexOf("invalid")>-1){var g=angular.element(e[f]),h=g.scope();for(var i in h)if(h.hasOwnProperty(i)&&i!=b&&angular.isObject(h[i])&&h[i].$invalid){var j=g.find("input,textarea,select");if(j.length>0){if(1==j.length){if(j[0].focus(),c&&j.closest("div[ui-grid-cell]")&&0<j.closest("div[ui-grid-cell]").length)return c=!1,a(d,100);return}var k=i.replace("gridform","");for(var l in h[i])if(l.indexOf(k)!=-1&&i!=b&&angular.isObject(h[i][l])&&h[i][l].$invalid)for(var j=g.find("input,textarea,select"),m=0;m<j.length;m++)if(j[m].name==l){if(j[m].focus(),j[m].blur(),j[m].focus(),c&&j.closest("div[ui-grid-cell]")&&0<j.closest("div[ui-grid-cell]").length)return c=!1,a(d,100);return}}}}};return a(d,100)}}}]).factory("optionMessageControl",["$timeout","$rootScope","alertMessage","$filter",function(a,b,c,d){return{show:function(d,e,f){return a(function(){var a;a="object"==typeof e&&void 0!=e.length?e:[e];for(var g=0;g<a.length;g++){null==d.oneslogi[a[g]]&&(d.oneslogi[a[g]]={}),null==d.oneslogi[a[g]].optionMessage&&(d.oneslogi[a[g]].optionMessage={}),d.oneslogi[a[g]].optionMessage.message=f,d.oneslogi[a[g]].optionMessage.show=!0;var h=b.item[d.screenCd][a[g]];h&&(h.visible||c.setErrorMessageByCode("errorOccurredHideField",[h.itemNm]))}},0)},hide:function(b,c){return a(function(){var a;a="object"==typeof c&&void 0!=c.length?c:[c];for(var d=0;d<a.length;d++)null==b.oneslogi[a[d]]&&(b.oneslogi[a[d]]={}),null==b.oneslogi[a[d]].optionMessage&&(b.oneslogi[a[d]].optionMessage={}),b.oneslogi[a[d]].optionMessage.message="",b.oneslogi[a[d]].optionMessage.show=!1},0)},hideAll:function(b){return a(function(){for(var a in b.oneslogi)b.oneslogi.hasOwnProperty(a)&&null!=b.oneslogi[a].optionMessage&&(b.oneslogi[a].optionMessage.message="",b.oneslogi[a].optionMessage.show=!1)},0)},isShow:function(a,b){return null!=a.oneslogi[b]&&(null!=a.oneslogi[b].optionMessage&&(null!=a.oneslogi[b].optionMessage.show&&a.oneslogi[b].optionMessage.show))},equalsMessage:function(a,b,c){if(null==a.oneslogi[b])return!1;if(null==a.oneslogi[b].optionMessage)return!1;if(null==a.oneslogi[b].optionMessage.show)return!1;var e=a.oneslogi[b].optionMessage.message==c;return!!e||a.oneslogi[b].optionMessage.message==d("owfMessage")(c)}}}]).factory("multiTextControl",["$timeout","$filter","directiveControl","optionMessageControl","owsCommon","validControl",function(a,b,c,d,e,f){return{setMultiText:function(b,d,f,g,h){return a(function(){if(isNullOrUndefined(h)||""==h){var a=e.getMultiTextModels(4);b[d][f].model=angular.copy(a);for(var i=0;i<4;i++){var j=g+(i+1);c.editable(b,j,!1),b[d][f].model[i].initFlg=!0,b[d][f].model[i].unit=null,b[d][f].model[i].value=null,b[d][f].model[i].unitNum=null,b[d][f].model[i].calcUnitNum=null}}else{var k=b[d][f].listModel,l=e.getDotValue(b,k);if(b[d][f].model=e.setMultiTextInit(b[d][f].model,l),"1"!=b[d][f].model[0].decimalExistFlg&&1!=l.length)for(var i=0;i<4;i++){var j=g+(i+1);if(i<l.length)if(multiTextEditableMode){if(!isNullOrUndefined(b.oneslogi)){var m=c.isDefaultEditable(b,j);c.editable(b,j,m)}}else c.editable(b,j,!1);else c.editable(b,j,!1),b[d][f].model[i].initFlg=!0,b[d][f].model[i].unit=null,b[d][f].model[i].value=null,b[d][f].model[i].unitNum=null,b[d][f].model[i].calcUnitNum=null}else for(var i=0;i<4;i++){var j=g+(i+1);c.editable(b,j,!1),b[d][f].model[i].initFlg=!0,b[d][f].model[i].unit=null,b[d][f].model[i].value=null,b[d][f].model[i].unitNum=null,b[d][f].model[i].calcUnitNum=null}}},0)},clearMultiText:function(a,b,d,f,g){if(multiTextEditableMode){if(!isNullOrUndefined(a.oneslogi))for(var h=0;h<4;h++){var i=f+(h+1),j=c.isDefaultEditable(a,i);c.editable(a,i,j)}}else for(var h=0;h<4;h++){var i=f+(h+1);c.editable(a,i,multiTextEditableMode)}var k=4;!isNullOrUndefined(g)&&"number"==typeof g&&isFinite(g)&&(k=g);var l=e.getMultiTextModels(k);a[b][d].model=angular.copy(l)},checkDecimalInput:function(a,c,e,g,h){var i="integerError",j=!1,k=a[e][g].model[0].listLength,l=a[e][g].model[0].decimalExistFlg,m=d.isShow(a,g),n=d.equalsMessage(a,g,i);if(isNullOrUndefined(k)||""==k){m&&n&&d.hide(a,g);for(var o=0;o<4;o++){var p=h+(o+1),q=d.isShow(a,p),r=d.equalsMessage(a,p,i);q&&r&&d.hide(a,p)}return j}if(isNullOrUndefined(l)||"0"!=l){if(!isNullOrUndefined(l)&&"1"==l){m&&n&&d.hide(a,g);for(var o=0;o<4;o++){var p=h+(o+1),q=d.isShow(a,p),r=d.equalsMessage(a,p,i);q&&r&&d.hide(a,p)}}}else{var s=f.decimallength(c,0);s?m&&n&&d.hide(a,g):(j=!0,d.show(a,g,b("owfMessage")(i)));for(var o=0;o<4;o++){var p=h+(o+1),t=a[e][g].model[o].value,u=f.decimallength(t,0);if(u){var q=d.isShow(a,p),r=d.equalsMessage(a,p,i);q&&r&&d.hide(a,p)}else j=!0,d.show(a,p,b("owfMessage")(i))}}return j}}}]).factory("gridDirectiveControl",["$log","owsCommon","$timeout","directiveControl","$q","overlayFunction",function(a,b,c,d,e,f){return{isEditable:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");var e=this.dataRowIndex(a,c);return a.oneslogi[e].config[d].editable},isDefaultEditable:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");var e=this.dataRowIndex(a,c);return a.oneslogi[e].config[d].defaultEditable},isValidity:function(a,b){var c=this.dataRowIndex(a,b);return a.oneslogi[c].config.validity},isBlankRowByEntity:function(a,c){for(var d=0;d<a.columnDefs.length;d++)if(a.columnDefs[d].visible&&a.columnDefs[d].editable&&null!=b.getDotValue(c,a.columnDefs[d].field)&&""!=b.getDotValue(c,a.columnDefs[d].field))return!1;return!0},firstErrorOnFocus:function(a){var b=!0,d=function(){var e=$("#"+a).find("ng-form");if(e.length>0)for(var f=0;f<e.length;f++)if(e[f].className.indexOf("invalid")>-1){var g=angular.element(e[f]),h=g.scope();for(var i in h)if(h.hasOwnProperty(i)&&i.indexOf("gridform")!==-1&&h[i].$invalid){var j=g.find("input,textarea,select");if(j.length>0){if(j[0].focus(),b&&j.closest("div[ui-grid-cell]")&&0<j.closest("div[ui-grid-cell]").length)return b=!1,c(d,100);return}}}};return c(d,100)},isValidCheckDetail:function(a){var b=e.defer(),g=!1,h=function(){a.$invalid?d.firstErrorOnFocus(a.$name).then(function(){g=!0,f.processResponse(a),b.reject()}):(f.processResponse(a),b.resolve())};return f.processRequest(a),c(h,1),b.promise}}}]).factory("gridMultiTextControl",["$timeout","$filter","gridDirectiveControl","gridOptionMessageControl","owsCommon","validControl",function(a,b,c,d,e,f){return{setMultiTextOptionsListInit:function(a,b,c,d){if(a[b]=[],!isNullOrUndefined(d)&&""!=d&&0!=d)for(var e=0;e<d;e++)a[b].push(angular.copy(c))},addMultiTextOptionsList:function(a,b,c,d){if(!isNullOrUndefined(d)&&""!=d&&0!=d)for(var e=0;e<d;e++)a[b].push(angular.copy(c))},removeMultiTextOptionsList:function(a,b,c,d){isNullOrUndefined(d)||""==d||d<0||a[b].splice(d,1)},clearMultiTextOptionsList:function(a,b){a[b]=[]},setMultiText:function(a,b,d,f,g,h,i,j){if(isNullOrUndefined(j)||(j=!0),isNullOrUndefined(g)||""==g){var k=e.getMultiTextModels(4);a[d][i][f].model=angular.copy(k);for(var l=0;l<4;l++){var m=a[d][i][f].multiTextCd+(l+1);c.editable(b,m,!1,i,j),a[d][i][f].model[l].initFlg=!0,a[d][i][f].model[l].unit=null,a[d][i][f].model[l].value=null,a[d][i][f].model[l].unitNum=null,a[d][i][f].model[l].calcUnitNum=null}}else if(a[d][i][f].model=e.setMultiTextInit(a[d][i][f].model,h),"1"!=a[d][i][f].model[0].decimalExistFlg&&1!=h.length)for(var l=0;l<4;l++){var m=a[d][i][f].multiTextCd+(l+1);if(l<h.length)if(multiTextEditableMode){if(!isNullOrUndefined(b.oneslogi)&&b.oneslogi.length>0){var n=c.isDefaultEditable(b,m,i);c.editable(b,m,n,i,j)}}else c.editable(b,m,!1,i,j);else c.editable(b,m,!1,i,j),a[d][i][f].model[l].initFlg=!0,a[d][i][f].model[l].unit=null,a[d][i][f].model[l].value=null,a[d][i][f].model[l].unitNum=null,a[d][i][f].model[l].calcUnitNum=null}else for(var l=0;l<4;l++){var m=a[d][i][f].multiTextCd+(l+1);c.editable(b,m,!1,i,j),a[d][i][f].model[l].initFlg=!0,a[d][i][f].model[l].unit=null,a[d][i][f].model[l].value=null,a[d][i][f].model[l].unitNum=null,a[d][i][f].model[l].calcUnitNum=null}},checkDecimalInput:function(a,c,e,g,h,i){var j="integerError",k=!1,l=a[g][i][h].model[0].listLength,m=a[g][i][h].model[0].decimalExistFlg,n=d.isShow(e,h,i),o=d.equalsMessage(e,h,i,j);if(isNullOrUndefined(l)||""==l){n&&o&&d.hide(e,h,i);for(var p=0;p<4;p++){var q=a[g][i][h].multiTextCd+(p+1),r=d.isShow(e,q,i),s=d.equalsMessage(e,q,i,j);r&&s&&d.hide(e,q,i)}return k}if(isNullOrUndefined(m)||"0"!=m){if(!isNullOrUndefined(m)&&"1"==m){n&&o&&d.hide(e,h,i);for(var p=0;p<4;p++){var q=a[g][i][h].multiTextCd+(p+1),r=d.isShow(e,q,i),s=d.equalsMessage(e,q,i,j);r&&s&&d.hide(e,q,i)}}}else{var t=f.decimallength(c,0);t?n&&o&&d.hide(e,h,i):(k=!0,d.show(e,h,b("owfMessage")(j),i));for(var p=0;p<4;p++){var q=a[g][i][h].multiTextCd+(p+1),u=a[g][i][h].model[p].value,v=f.decimallength(u,0);if(v){var r=d.isShow(e,q,i),s=d.equalsMessage(e,q,i,j);r&&s&&d.hide(e,q,i)}else k=!0,d.show(e,q,b("owfMessage")(j),i)}}return k}}}]).factory("gridOptionMessageControl",["$log","$timeout","alertMessage","$rootScope","$filter",function(a,b,c,d,e){return{isShow:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");return a.oneslogi[c].config[d].optionMessage.show},equalsMessage:function(a,b,c,d){for(var f=b;f!=f.replaceAll([".","[","]"],"");)f=f.replaceAll([".","[","]"],"");var g=a.oneslogi[c].config[f].optionMessage.message==d;return!!g||a.oneslogi[c].config[f].optionMessage.message==e("owfMessage")(d)}}}]).value("localMessage",{"ja-jp":{requiredError:{bMessage:{messageNm:"必須",messageType:"error",systemType:"base",messageId:1}},patternError:{bMessage:{messageNm:"入力文字不正",messageType:"error",systemType:"base",messageId:2}},numberError:{bMessage:{messageNm:"数値のみ",messageType:"error",systemType:"base",messageId:3}},minlengthError:{bMessage:{messageNm:"最小[0]文字以上",messageType:"error",systemType:"base",messageId:4}},maxlengthError:{bMessage:{messageNm:"最大[0]文字以下",messageType:"error",systemType:"base",messageId:5}},minError:{bMessage:{messageNm:"最小[0]以上",messageType:"error",systemType:"base",messageId:6}},maxError:{bMessage:{messageNm:"最大[0]以下",messageType:"error",systemType:"base",messageId:7}},dateError:{bMessage:{messageNm:"日付不正(形式:[0])",messageType:"error",systemType:"base",messageId:8}},integerLengthError:{bMessage:{messageNm:"整数[0]桁以内",messageType:"error",systemType:"base",messageId:9}},decimalLengthError:{bMessage:{messageNm:"小数[0]桁以内",messageType:"error",systemType:"base",messageId:10}},httpConnectionError:{bMessage:{messageNm:"サーバに接続出来ませんでした。  HttpStatus:[0]  接続先:[1]",messageType:"error",systemType:"base",messageId:11}},httpConnectionErrorTitle:{bMessage:{messageNm:"以下のエラーが発生しました。[/]ネットワークに接続出来るか確認して下さい。[/]それでも解決しない場合、以下の内容を管理者にお伝え下さい。",messageType:"error",systemType:"base",messageId:12}},userMessage:{bMessage:{messageNm:"メッセージ",messageType:"error",systemType:"base",messageId:13}},statusCode:{bMessage:{messageNm:"ステータスコード",messageType:"error",systemType:"base",messageId:14}},developerMessage:{bMessage:{messageNm:"開発者向けメッセージ",messageType:"error",systemType:"base",messageId:15}},moreInfo:{bMessage:{messageNm:"詳しい情報",messageType:"error",systemType:"base",messageId:16}},systemMasterError:{bMessage:{messageNm:"システム管理マスタ取得エラー",messageType:"error",systemType:"base",messageId:17}},cultureMasterError:{bMessage:{messageNm:"カルチャマスタ取得エラー",messageType:"error",systemType:"base",messageId:18}},messageMasterError:{bMessage:{messageNm:"メッセージマスタ取得エラー",messageType:"error",systemType:"base",messageId:19}},screenMasterError:{bMessage:{messageNm:"画面マスタ取得エラー",messageType:"error",systemType:"base",messageId:20}},itemMasterError:{bMessage:{messageNm:"項目マスタ取得エラー",messageType:"error",systemType:"base",messageId:21}},columnMasterError:{bMessage:{messageNm:"列マスタ取得エラー",messageType:"error",systemType:"base",messageId:22}},infoMasterError:{bMessage:{messageNm:"お知らせマスタ取得エラー",messageType:"error",systemType:"base",messageId:23}},menuMasterError:{bMessage:{messageNm:"メニューマスタ取得エラー",messageType:"error",systemType:"base",messageId:24}},infoTitle:{bMessage:{messageNm:"お知らせ",messageType:"info",systemType:"base",messageId:25}},mainMenuTitle:{bMessage:{messageNm:"メニュー",messageType:"info",systemType:"base",messageId:26}},logoutTitle:{bMessage:{messageNm:"ログアウト",messageType:"info",systemType:"base",messageId:27}},searchCondition:{bMessage:{messageNm:"検索条件",messageType:"info",systemType:"base",messageId:28}},search:{bMessage:{messageNm:"検索",messageType:"info",systemType:"base",messageId:29}},clear:{bMessage:{messageNm:"クリア",messageType:"info",systemType:"base",messageId:30}},entry:{bMessage:{messageNm:"登録",messageType:"info",systemType:"base",messageId:31}},update:{bMessage:{messageNm:"更新",messageType:"info",systemType:"base",messageId:32}},delete:{bMessage:{messageNm:"削除",messageType:"info",systemType:"base",messageId:33}},unknownError:{bMessage:{messageNm:"不明なエラーが発生しました。",messageType:"error",systemType:"base",messageId:34}},registerSuccess:{bMessage:{messageNm:"登録しました。",messageType:"info",systemType:"base",messageId:35}},updateSuccess:{bMessage:{messageNm:"更新しました。",messageType:"info",systemType:"base",messageId:36}},onlyOneSelect:{bMessage:{messageNm:"一件のみ選択して下さい。",messageType:"error",systemType:"base",messageId:37}},entityAlreadyUpdatedError:{bMessage:{messageNm:"他のユーザに変更されています。内容を確認して下さい。",messageType:"error",systemType:"base",messageId:38}},entityAlreadyDeletedError:{bMessage:{messageNm:"他のユーザに変更された可能性があります。内容を確認して下さい。",messageType:"error",systemType:"base",messageId:39}},entityAlreadyExistsError:{bMessage:{messageNm:"データが重複している為、登録できません。管理者に連絡して下さい。",messageType:"error",systemType:"base",messageId:40}},unhandledError:{bMessage:{messageNm:"致命的エラーが発生しました。管理者に連絡して下さい。[0]",messageType:"error",systemType:"base",messageId:41}},maxNumberOfFiles:{bMessage:{messageNm:"サーバへ送信可能なファイル数を超えています。",messageType:"error",systemType:"base",messageId:42}},acceptFileTypes:{bMessage:{messageNm:"サーバへ送信できないファイルが含まれています。",messageType:"error",systemType:"base",messageId:43}},maxFileSize:{bMessage:{messageNm:"サーバへ送信可能なファイルサイズを超えています。",messageType:"error",systemType:"base",messageId:44}},minFileSize:{bMessage:{messageNm:"サーバへ送信可能なファイルサイズに達していません。",messageType:"error",systemType:"base",messageId:45}},masterNotFoundError:{bMessage:{messageNm:"マスタ未存在",messageType:"error",systemType:"base",messageId:46}},noDetailsError:{bMessage:{messageNm:"明細が入力されていません。",messageType:"error",systemType:"base",messageId:47}},fileUploadOpenError:{bMessage:{messageNm:"アップロードされたファイルが開けませんでした。ファイルに問題がないか確認して下さい。",messageType:"error",systemType:"base",messageId:48}},fileUploadDefineError:{bMessage:{messageNm:"アップロード用の定義情報が不正です。管理者にご連絡下さい。",messageType:"error",systemType:"base",messageId:49}},fileUploadSetError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。",messageType:"error",systemType:"base",messageId:50}},keyDownBackSpaceInfo:{bMessage:{messageNm:"backspaceが押されました。[/]前ページへ移動しますか？",messageType:"info",systemType:"base",messageId:51}},authFatalError:{bMessage:{messageNm:"認証処理にて致命的エラーが発生しました。[/]管理者に連絡して下さい。",messageType:"error",systemType:"base",messageId:52}},authenticationTokenInvalidError:{bMessage:{messageNm:"ログアウトされています。認証画面より再度ログインして下さい。",messageType:"error",systemType:"base",messageId:53}},authorizationError:{bMessage:{messageNm:"システムに対するアクセス権がありません。[/]管理者に連絡して下さい。",messageType:"error",systemType:"base",messageId:54}},deleteRowErrNotSelect:{bMessage:{messageNm:"削除する行が選択されていません。",messageType:"info",systemType:"base",messageId:55}},deleteRowSuccess:{bMessage:{messageNm:"行を削除しました。",messageType:"info",systemType:"base",messageId:56}},confirmDeleteRow:{bMessage:{messageNm:"選択した行を削除しますか？",messageType:"info",systemType:"base",messageId:57}},overSafetySizeError:{bMessage:{messageNm:"検索件数が[0]件を超えています。検索条件を見直し再度処理を実行して下さい。",messageType:"error",systemType:"base",messageId:58}},processExecuteStartInformation:{bMessage:{messageNm:"処理を開始しました。",messageType:"info",systemType:"base",messageId:59}},processExecuteEndInformation:{bMessage:{messageNm:"処理を終了しました。",messageType:"info",systemType:"base",messageId:60}},layoutNmNotFoundError:{bMessage:{messageNm:"指定されたレイアウト名称は辞書マスタに登録されていません。",messageType:"error",systemType:"base",messageId:61}},duplicateClickError:{bMessage:{messageNm:"登録しようとしたデータはすでに登録済みです。",messageType:"error",systemType:"base",messageId:62}},fileUploadSetExcelSheetError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。[/]シート名：[0]",messageType:"error",systemType:"base",messageId:63}},fileUploadSetExcelRowError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。[/]シート名：[0] , 行番号：[1]",messageType:"error",systemType:"base",messageId:64}},fileUploadSetExcelColError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。[/]シート名：[0] , 行番号：[1] , 列番号：[2]",messageType:"error",systemType:"base",messageId:65}},fileUploadSetCsvRowError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。[/]行番号：[0]",messageType:"error",systemType:"base",messageId:66}},fileUploadSetCsvColError:{bMessage:{messageNm:"データの取り込み中にエラーが発生しました。[/]行番号：[0] , 列番号：[1]",messageType:"error",systemType:"base",messageId:67}},overSafetySizeToReportError:{bMessage:{messageNm:"発行データ件数が[0]件を超えています。発行条件を見直し再度処理を実行して下さい。",messageType:"error",systemType:"base",messageId:68}},dataRegisterConfirmation:{bMessage:{messageNm:"対象データを登録しますか？",messageType:"confirm",systemType:"base",messageId:69}},dataDeleteConfirmation:{bMessage:{messageNm:"対象データを削除しますか？",messageType:"confirm",systemType:"base",messageId:70}},processCompleteInformation:{bMessage:{messageNm:"処理は正常終了しました。",messageType:"info",systemType:"base",messageId:71}},insertProcessNormalEndInformation:{bMessage:{messageNm:"正常に登録されました。",messageType:"info",systemType:"base",messageId:72}},updateProcessNormalEndInformation:{bMessage:{messageNm:"正常に更新されました。",messageType:"info",systemType:"base",messageId:73}},alreadyRegisteredCannotRegisterError:{bMessage:{messageNm:"既に登録されています。",messageType:"error",systemType:"base",messageId:74}},deleteExceptionError:{bMessage:{messageNm:"削除処理時にエラーが発生しました。(詳細：[0])",messageType:"error",systemType:"base",messageId:75}},dataNotFoundError:{bMessage:{messageNm:"該当データが存在しません。",messageType:"error",systemType:"base",messageId:76}},dictNotFoundError:{bMessage:{messageNm:"辞書マスタに存在しません。",messageType:"error",systemType:"base",messageId:77}},dictNmDuplicateError:{bMessage:{messageNm:"辞書名が重複しています。",messageType:"error",systemType:"base",messageId:78}},messageNotFoundError:{bMessage:{messageNm:"メッセージマスタに存在しません。",messageType:"error",systemType:"base",messageId:79}},messageCdDuplicateError:{bMessage:{messageNm:"メッセージCDが重複しています。",messageType:"error",systemType:"base",messageId:80}},screenCdDuplicateError:{bMessage:{messageNm:"画面CDが重複しています。",messageType:"error",systemType:"base",messageId:81}},dispNmNotFoundInDispMasterError:{bMessage:{messageNm:"画面名称が画面マスタに存在しません。",messageType:"error",systemType:"base",messageId:82}},itemCdDuplicateError:{bMessage:{messageNm:"項目CDが重複しています。",messageType:"error",systemType:"base",messageId:83}},colCdDuplicateError:{bMessage:{messageNm:"列CDが重複しています。",messageType:"error",systemType:"base",messageId:84}},colOrderDuplicateError:{bMessage:{messageNm:"列順序が重複しています。",messageType:"error",systemType:"base",messageId:85}},classCdDuplicateError:{bMessage:{messageNm:"区分値CDが重複しています。",messageType:"error",systemType:"base",messageId:86}},classDtlCdDuplicateError:{bMessage:{messageNm:"区分値明細CDが重複しています。",messageType:"error",systemType:"base",messageId:87}},classGrpCdDuplicateError:{bMessage:{messageNm:"区分値グループCDが重複しています。",messageType:"error",systemType:"base",messageId:88}},menuGrpCdDuplicateError:{bMessage:{messageNm:"メニューグループCDが重複しています。",messageType:"error",systemType:"base",messageId:89}},viewOrderDuplicateError:{bMessage:{messageNm:"表示順が重複しています。",messageType:"error",systemType:"base",messageId:90}},roleGrpCodeDuplicateError:{bMessage:{messageNm:"権限グループCDが重複しています。",messageType:"error",systemType:"base",messageId:91}},applyOrderDuplicateError:{bMessage:{messageNm:"適用順序が重複しています。",messageType:"error",systemType:"base",messageId:92}},roleCodeDuplicateError:{bMessage:{messageNm:"権限CDが重複しています。",messageType:"error",systemType:"base",messageId:93}},itemVisibleCannotSelectExceptionError:{bMessage:{messageNm:"表示不可の項目は表示可を設定できません。",messageType:"error",systemType:"base",messageId:94}},itemEditableCannotSelectExceptionError:{bMessage:{messageNm:"編集不可の項目は編集可を設定できません。",messageType:"error",systemType:"base",messageId:95}},itemNecessaryableCannotSelectExceptionError:{bMessage:{messageNm:"必須の項目は任意を設定できません。",messageType:"error",systemType:"base",messageId:96}},gridColExtDialogDescription_A01_00_Head:{bMessage:{messageNm:"当画面について",messageType:"info",systemType:"base",messageId:97}},gridColExtDialogDescription_A01_01_Title:{bMessage:{messageNm:"当画面でできること",messageType:"info",systemType:"base",messageId:98}},gridColExtDialogDescription_A01_02_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:99}},gridColExtDialogDescription_A01_01_Value:{bMessage:{messageNm:"「列の順序」と「列の幅」を変更できます。",messageType:"info",systemType:"base",messageId:100}},gridColExtDialogDescription_A01_02_Value:{bMessage:{messageNm:"【登録】ボタンで保存した変更は次のログイン以降も引き継がれます。",messageType:"info",systemType:"base",messageId:101}},gridColExtDialogDescription_A02_00_Head:{bMessage:{messageNm:"画面項目について",messageType:"info",systemType:"base",messageId:102}},gridColExtDialogDescription_A02_01_Title:{bMessage:{messageNm:"列一覧",messageType:"info",systemType:"base",messageId:103}},gridColExtDialogDescription_A02_02_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:104}},gridColExtDialogDescription_A02_03_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:105}},gridColExtDialogDescription_A02_04_Title:{bMessage:{messageNm:"列幅一覧",messageType:"info",systemType:"base",messageId:106}},gridColExtDialogDescription_A02_05_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:107}},gridColExtDialogDescription_A02_06_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:108}},gridColExtDialogDescription_A02_07_Title:{bMessage:{messageNm:"【閉じる】ボタン",messageType:"info",systemType:"base",messageId:109}},gridColExtDialogDescription_A02_08_Title:{bMessage:{messageNm:"【リセット】ボタン",messageType:"info",systemType:"base",messageId:110}},gridColExtDialogDescription_A02_09_Title:{bMessage:{messageNm:"【登録】ボタン",messageType:"info",systemType:"base",messageId:111}},gridColExtDialogDescription_A02_01_Value:{bMessage:{messageNm:"列の順序を変更できます。",messageType:"info",systemType:"base",messageId:112}},gridColExtDialogDescription_A02_02_Value:{bMessage:{messageNm:"列を選択し、右の移動ボタンで順序を変更します。",messageType:"info",systemType:"base",messageId:113}},gridColExtDialogDescription_A02_03_Value:{bMessage:{messageNm:"ボタンは上から「選択列を一番上に移動」「選択列をひとつ上に移動」「選択列をひとつ下に移動」「選択列を一番下に移動」の移動ボタンです。",messageType:"info",systemType:"base",messageId:114}},gridColExtDialogDescription_A02_04_Value:{bMessage:{messageNm:"列の幅を変更できます。",messageType:"info",systemType:"base",messageId:115}},gridColExtDialogDescription_A02_05_Value:{bMessage:{messageNm:"列名の下の入力欄に幅の大きさを入力して幅を変更します。",messageType:"info",systemType:"base",messageId:116}},gridColExtDialogDescription_A02_06_Value:{bMessage:{messageNm:"マウスで境目を直接左右に動かす事でも調整できます。",messageType:"info",systemType:"base",messageId:117}},gridColExtDialogDescription_A02_07_Value:{bMessage:{messageNm:"変更を破棄して当画面を閉じます。変更は保存されません。",messageType:"info",systemType:"base",messageId:118}},gridColExtDialogDescription_A02_08_Value:{bMessage:{messageNm:"保存した状態を破棄して初期状態に戻ります。初期状態を保存したい場合は【登録】ボタンを押してください。",messageType:"info",systemType:"base",messageId:119}},gridColExtDialogDescription_A02_09_Value:{bMessage:{messageNm:"変更した内容を保存して当画面を閉じます。",messageType:"info",systemType:"base",messageId:120}},gridColExtDialogDescription_A03_00_Head:{bMessage:{messageNm:"ヒント",messageType:"info",systemType:"base",messageId:121}},gridColExtDialogDescription_A03_01_Title:{bMessage:{messageNm:"幅の制限",messageType:"info",systemType:"base",messageId:122}},gridColExtDialogDescription_A03_02_Title:{bMessage:{messageNm:"幅を戻す",messageType:"info",systemType:"base",messageId:123}},gridColExtDialogDescription_A03_03_Title:{bMessage:{messageNm:"複数列の順序を移動",messageType:"info",systemType:"base",messageId:124}},gridColExtDialogDescription_A03_04_Title:{bMessage:{messageNm:"[blank]",messageType:"info",systemType:"base",messageId:125}},gridColExtDialogDescription_A03_01_Value:{bMessage:{messageNm:"幅に入力できる大きさは、最小が40、最大が2000です。単位はピクセルです。",messageType:"info",systemType:"base",messageId:126}},gridColExtDialogDescription_A03_02_Value:{bMessage:{messageNm:"列の境目をダブルクリックすると初期状態の幅に戻ります。",messageType:"info",systemType:"base",messageId:127}},gridColExtDialogDescription_A03_03_Value:{bMessage:{messageNm:"列一覧 または、列幅一覧でCtrlキーを押しながら列をクリックすることで複数の列を選択できます。",messageType:"info",systemType:"base",messageId:128}},gridColExtDialogDescription_A03_04_Value:{
bMessage:{messageNm:"選択した列は移動ボタンで順序を変更できます。",messageType:"info",systemType:"base",messageId:129}},isMismatchBColAndExtWarn:{bMessage:{messageNm:"最後に列の順序、幅を変更した後に、列の追加が行われています。設定画面から設定し直してください。",messageType:"warn",systemType:"base",messageId:130}},dataUpdateConfirmation:{bMessage:{messageNm:"対象データを更新しますか？",messageType:"confirm",systemType:"base",messageId:131}},notBlankError:{bMessage:{messageNm:"[0]を入力してください。",messageType:"info",systemType:"base",messageId:132}},liteLoginErrorNoUser:{bMessage:{messageNm:"[0]・[1]に誤りがあるか、登録されていません。",messageType:"error",systemType:"base",messageId:133}},passwordChangeErrorMismatchNowAndOld:{bMessage:{messageNm:"パスワード変更ができません｡[/]現在使用しているパスワードと[0]が一致しません。",messageType:"error",systemType:"base",messageId:134}},passwordChangeErrorMismatchNewAndReEnter:{bMessage:{messageNm:"パスワード変更ができません｡[/][0]と[1]が一致しません。",messageType:"error",systemType:"base",messageId:135}},passwordChangeSuccess:{bMessage:{messageNm:"パスワードが変更されました｡[/]この画面を閉じるとメニューに移動します。",messageType:"info",systemType:"base",messageId:136}},passwordChangeByMgtSuccess:{bMessage:{messageNm:"パスワードが変更されました｡",messageType:"info",systemType:"base",messageId:137}},passwordChangeErrorNoSamePasswordNewAndOld:{bMessage:{messageNm:"パスワード変更ができません｡[/]現在使用しているパスワードと[0]が同じパスワードです。異なるパスワードに変更してください。",messageType:"error",systemType:"base",messageId:138}},passwordChangeErrorSamePasswordNewAndOld:{bMessage:{messageNm:"パスワード変更ができません｡[/]現在使用しているパスワードと[0]が同じパスワードです。[/]異なるパスワードに変更してください。",messageType:"error",systemType:"base",messageId:139}},passwordChangeErrorMinLength:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードは[0]桁以上を入力してください。",messageType:"error",systemType:"base",messageId:140}},passwordChangeErrorMinAlpha:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードには[0]桁以上の英字を含めてください。",messageType:"error",systemType:"base",messageId:141}},passwordChangeErrorMinLowerCase:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードには[0]桁以上の小文字を含めてください。",messageType:"error",systemType:"base",messageId:142}},passwordChangeErrorMinUpperCase:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードには[0]桁以上の大文字を含めてください。",messageType:"error",systemType:"base",messageId:143}},passwordChangeErrorMinNumbers:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードには[0]桁以上の数字を含めてください。",messageType:"error",systemType:"base",messageId:144}},passwordChangeErrorMinSymbol:{bMessage:{messageNm:"パスワード変更ができません｡[/]パスワードには[0]桁以上の半角記号を含めてください。",messageType:"error",systemType:"base",messageId:145}},passwordChangeErrorUserAvailableOutOfPeriod:{bMessage:{messageNm:"ユーザが利用期間外です。システム管理者に問い合わせてください。[/]ログイン画面に移動します。",messageType:"error",systemType:"base",messageId:146}},passwordChangeErrorBecameLockout:{bMessage:{messageNm:"ロックアウトされました。システム管理者に問い合わせてください。[/]ログイン画面に移動します。",messageType:"error",systemType:"base",messageId:147}},passwordChangeErrorLockout:{bMessage:{messageNm:"ロックアウトされています。システム管理者に問い合わせてください。[/]ログイン画面に移動します。",messageType:"error",systemType:"base",messageId:148}},liteLoginErrorUserAvailableOutOfPeriod:{bMessage:{messageNm:"ログインすることができません｡[/]ユーザが利用期間外です。システム管理者に問い合わせてください。",messageType:"error",systemType:"base",messageId:149}},liteLoginErrorBecameLockout:{bMessage:{messageNm:"ログインすることができません｡[/]ロックアウトされました。システム管理者に問い合わせてください。",messageType:"error",systemType:"base",messageId:150}},liteLoginErrorLockout:{bMessage:{messageNm:"ログインすることができません｡[/]ロックアウトされています。システム管理者に問い合わせてください。",messageType:"error",systemType:"base",messageId:151}},passwordChangeErrorAvailableDateContext:{bMessage:{messageNm:"パスワード変更ができません｡[/][0]には[1]より後の日付を入力してください。",messageType:"error",systemType:"base",messageId:152}},userEditErrorAlreadyRegistered:{bMessage:{messageNm:"ユーザCDは既に登録されています。",messageType:"error",systemType:"base",messageId:153}},liteLoginInfoPasswordReset:{bMessage:{messageNm:"パスワードがリセットされています。[/]パスワードを変更してください。",messageType:"info",systemType:"base",messageId:154}},liteLoginInfoPasswordExpired:{bMessage:{messageNm:"パスワードの有効期限が切れています。[/]パスワードを変更してください。",messageType:"info",systemType:"base",messageId:155}},passwordTitle:{bMessage:{messageNm:"パスワード変更",messageType:"info",systemType:"base",messageId:156}},copyCondition:{bMessage:{messageNm:"コピー",messageType:"info",systemType:"base",messageId:157}},timeError:{bMessage:{messageNm:"時刻不正(形式:[0])",messageType:"error",systemType:"base",messageId:158}}}}),angular.module("oneslogiWeb.base.sd",["ui.bootstrap","oneslogiWeb.base.common","blueimp.fileupload","ionic","ionic-datepicker"]).config(["$provide",function(a){a.decorator("owsCommon",["$delegate","$filter","owsDateCommon","$rootScope","$log","$timeout","$location",function(a,b,c,d,e,f,g){return a.toggleSelectAll=function(a,b){if(a&&a.ngGrid&&a.ngGrid.rowFactory&&a.ngGrid.rowFactory.selectionProvider){var c=a.ngGrid.$headerScroller.find(".ngSelectionHeader");c&&c.length&&1==c.length&&(angular.element(c[0]).scope().allSelected=b,a.ngGrid.rowFactory.selectionProvider.toggleSelectAll(b,!0))}},a.syncExecAndRebuildGrid=function(a,b){return f(function(){return a.$gridServices.DomUtilityService.RebuildGrid(a.$gridScope,a.ngGrid),"undefined"==typeof b||null==b?void 0:b()})},a.getDefaultPagingOptions=function(){return{pageSizes:gridPageSizes,pageSize:gridPageSize,currentPage:1}},a.getLargePagingOptions=function(){return{pageSizes:gridLargePageSizes,pageSize:gridLargePageSize,currentPage:1}},a.clearPagingOptions=function(a){a.currentPage=1,a.lastCurrentPage=1},a.watchPagingOptions=function(a,b,c){a.$watch(function(){return b.pagingOptions},function(a,b){c(a,b)},!0)},a.syncButtonExec=function(a,b){if(null!=a||""!=a){var c=$("#"+a),d=c[0],e={};if(e.visibility=c.css("visibility"),e.display=c.css("display"),null==b)return f(function(){"hidden"==d.type||d.disabled||"hidden"==e.visibility||"none"==e.display||d.click()});var g=b.selected;return g?f(function(){"hidden"==d.type||d.disabled||"hidden"==e.visibility||"none"==e.display||d.click()}):(b.selectionProvider.setSelection(b,!0),f(function(){"hidden"==d.type||d.disabled||"hidden"==e.visibility||"none"==e.display?b.selectionProvider.setSelection(b,!1):d.click()}))}},a}]),a.decorator("gridDirectiveControl",["$delegate","$log","owsCommon","$timeout","directiveControl","$q","overlayFunction",function(a,b,c,d,e,f,g){return a.editable=function(a,c,e,f){var g=this;return d(function(){if(!a.oneslogi||void 0==a.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[gridDirectiveControl.editable]");if(a.oneslogi.length<a.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[gridDirectiveControl.editable]");var d,h;d="object"==typeof c&&void 0!=c.length?c:[c],h="object"==typeof f&&void 0!=f.length?f:[f];for(var i,j=0;j<d.length;j++){for(i=d[j];i!=i.replaceAll([".","[","]"],"");)i=i.replaceAll([".","[","]"],"");for(var k=0;k<h.length;k++){var l=0,m=1;null!=h[k]?(l=h[k],m=h[k]+1):(l=0,m=a.ngGrid.rowCache.length);for(var n=l;n<m;n++){if(n>=a.ngGrid.rowCache.length){b.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+n);break}var o=g.dataRowIndex(a,n);a.oneslogi[o].config[i].editable=e}}}},0)},a.validity=function(a,c,e){var f=this;return d(function(){if(!a.oneslogi||void 0==a.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[gridDirectiveControl.validity]");if(a.oneslogi.length<a.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[gridDirectiveControl.validity]");var d;d="object"==typeof e&&void 0!=e.length?e:[e];for(var g=0;g<d.length;g++){var h=0,i=1;null!=d[g]?(h=d[g],i=d[g]+1):(h=0,i=a.ngGrid.rowCache.length);for(var j=h;j<i;j++){if(j>=a.ngGrid.rowCache.length){b.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+j);break}var k=f.dataRowIndex(a,j);a.oneslogi[k].config.validity=c}}},0)},a.isBlankRow=function(a,b){for(var d=0;d<a.columnDefs.length;d++)if(a.columnDefs[d].visible&&a.columnDefs[d].editable&&null!=c.getDotValue(a.ngGrid.rowCache[b].entity,a.columnDefs[d].field)&&""!=c.getDotValue(a.ngGrid.rowCache[b].entity,a.columnDefs[d].field))return!1;return!0},a.blankRows=function(a){for(var b=[],c=!0,d=0;d<a.ngGrid.rowCache.length;d++)c=this.isBlankRow(a,d),c&&b.push(d);return b},a.scrollingByRowIndex=function(a,b){var c=a.$gridScope.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)},a.scrollingByRowIndexForViewOnlyList=function(a,b){var c=a.$gridScope.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)},a.scrollingByRowIndex=function(a,b){var c=a.$gridScope.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)},a.dataRowIndex=function(a,b){for(var c=a.ngGrid.rowMap,d=0;d<c.length;d++)if(c[d]==b)return d;return-1},a}]),a.decorator("gridOptionMessageControl",["$delegate","$log","$timeout","alertMessage","$rootScope","$filter",function(a,b,c,d,e,f){return a.show=function(a,e,f,g){return c(function(){if(!a.oneslogi||void 0==a.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[gridOptionMessageControl.show]");if(a.oneslogi.length<a.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[gridOptionMessageControl.show]");var c,h;c="object"==typeof e&&void 0!=e.length?e:[e],h="object"==typeof g&&void 0!=g.length?g:[g];for(var i,j=0;j<c.length;j++){for(i=c[j];i!=i.replaceAll([".","[","]"],"");)i=i.replaceAll([".","[","]"],"");for(var k=0;k<h.length;k++){var l=0,m=1;null!=h[k]?(l=h[k],m=h[k]+1):(l=0,m=a.ngGrid.rowCache.length);for(var n=l;n<m;n++){if(n>=a.ngGrid.rowCache.length){b.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+n);break}a.oneslogi[n].config[i].optionMessage.message=f,a.oneslogi[n].config[i].optionMessage.show=!0}}}if(a.columnDefs)a:for(var j=0;j<c.length;j++){fullColName=c[j];for(var n=0;n<a.columnDefs.length;n++)if(a.columnDefs[n].field&&a.columnDefs[n].field==fullColName&&!a.columnDefs[n].visible){d.setErrorMessageByCode("errorOccurredHideFieldOnGrid",[]);break a}}},0)},a.hide=function(a,d,e){return c(function(){if(!a.oneslogi||void 0==a.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[gridOptionMessageControl.hide]");if(a.oneslogi.length<a.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[gridOptionMessageControl.hide]");var c,f;c="object"==typeof d&&void 0!=d.length?d:[d],f="object"==typeof e&&void 0!=e.length?e:[e];for(var g,h=0;h<c.length;h++){for(g=c[h];g!=g.replaceAll([".","[","]"],"");)g=g.replaceAll([".","[","]"],"");for(var i=0;i<f.length;i++){var j=0,k=1;null!=f[i]?(j=f[i],k=f[i]+1):(j=0,k=a.ngGrid.rowCache.length);for(var l=j;l<k;l++){if(l>=a.ngGrid.rowCache.length){b.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+l);break}a.oneslogi[l].config[g].optionMessage.message="",a.oneslogi[l].config[g].optionMessage.show=!1}}}},0)},a.hideAll=function(a){return c(function(){if(!a.oneslogi||void 0==a.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[gridOptionMessageControl.hideAll]");if(a.oneslogi.length<a.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[gridOptionMessageControl.hideAll]");for(var b=0;b<a.ngGrid.rowCache.length;b++)for(var c in a.oneslogi[b].config)a.oneslogi[b].config.hasOwnProperty(c)&&null!=a.oneslogi[b].config[c].optionMessage&&(a.oneslogi[b].config[c].optionMessage.message="",a.oneslogi[b].config[c].optionMessage.show=!1)},0)},a}])}]).run(["$rootScope","$state","$log","$filter","$location","$timeout","owsScreen","owsItem","owsColumn","$ionicHistory",function(a,b,c,d,e,f,g,h,i,j){history.replaceState&&window.addEventListener("popstate",function(b){a.popstate={},null!=b.state&&(a.popstate.data=b.state)}),a.networkError=!1,a.connectionStatus=[],"undefined"!=typeof designMode?a.designMode=designMode:a.designMode=!1,a.designMode||a.$on("$stateChangeError",function(d,e,f,g,h,i){if(!a.isTokenInvalid){var k=f.system+"/partials/"+f.subSystem+"/"+f.screenCd+"SD.html";void 0!==k&&Object.keys(j.viewHistory().views).length&&(a.alerts=[],a.popstate={}),a.networkError=!0,c.error(i+" url:"+k+" params:"+f),f.system="base",f.subSystem="menu",f.screenCd="MainMenu",d.preventDefault(),b.go("error",f)}}),a.$on("$stateChangeStart",function(c,d,e,f,g,h){if(!a.isTokenInvalid){var i="/"+e.system+"/"+e.subSystem+"/"+e.screenCd+"/";if(i!=commonRedirectUrl||null==f.views)if(Object.keys(j.viewHistory().views).length){if(e.screenCd!=g.screenCd)if("/list"==f.url||"/detailList"==f.url||"/detail"==f.url){var k,l,m={};angular.forEach(j.viewHistory().views,function(a,b){"all.abstract.main"==a.stateName&&(k&&(a.backViewId=k.viewId,m[k.viewId].forwardViewId=a.viewId),m[b]=a,k=a)}),l=k,k=m[l.backViewId],j.viewHistory().views=m,j.viewHistory().backView=k,j.viewHistory().currentView=l,j.viewHistory().histories.ion1.stack=[],angular.forEach(m,function(a,b){j.viewHistory().histories.ion1.stack.push(a)})}else a.networkError&&"error"==f.name&&(a.networkError=!1);a.alerts=[],a.popstate={}}else"MainMenu"==e.screenCd&&"error"!=d.name||(e={system:"base",subSystem:"menu",screenCd:"MainMenu"},a.networkError=!1,c.preventDefault(),b.go("all.abstract.main",e));if(!isNullOrUndefined(a.modalViews)&&!isNullOrUndefined(a.modalViews.length)&&0!=a.modalViews.length){for(var n=0;n<a.modalViews.length;n++)a.modalViews[n].dismiss(),a.modalViews[n]=null;a.modalViews=[]}}}),a.$on("$stateChangeSuccess",function(b,c,d,e,f){if(!a.isTokenInvalid){"error"!=c.name&&(a.networkError=!1),a.connectionStatus=[];var g=a.duplicateCheckToken;return g&&(a.duplicateCheckToken=null),"MainMenu"==d.screenCd&&"error"!=c.name?(j.nextViewOptions({historyRoot:!0}),void sessionStorage.setItem("ionicHistory",null)):void 0}}),a.$on("$includeContentRequested",function(a){}),a.$on("$includeContentLoaded",function(a){g.getData(a.targetScope.$$childHead.screenCd,!0),h.getData(a.targetScope.$$childHead.screenCd),i.getData(a.targetScope.$$childHead.screenCd)})}]).factory("detailMultiTextControl",["$timeout","$filter","$q","detailDirectiveControl","gridOptionMessageControl","owsCommon","validControl","directiveControl","overlayFunction",function(a,b,c,d,e,f,g,h,i){return{setMultiText:function(a,b,c,e,g,h,i){if(multiTextEditableMode){if(!isNullOrUndefined(b.oneslogi))for(var j=0;j<4;j++){var k=a[c][e].multiTextCd+(j+1),l=d.isDefaultEditable(b,k,i);d.editable(b,k,l,i)}}else for(var j=0;j<4;j++){var k=a[c][e].multiTextCd+(j+1);d.editable(b,k,multiTextEditableMode,i)}if(isNullOrUndefined(g)||""==g){var m=f.getMultiTextModels(4);return void(a[c][e].model=angular.copy(m))}if(a[c][e].model=f.setMultiTextInit(a[c][e].model,h),"1"!=a[c][e].model[0].decimalExistFlg&&1!=h.length)for(var j=h.length;j<4;j++){var k=a[c][e].multiTextCd+(j+1);d.editable(b,k,!1,i),a[c][e].model[j].initFlg=!0,a[c][e].model[j].unit=null,a[c][e].model[j].value=null,a[c][e].model[j].unitNum=null,a[c][e].model[j].calcUnitNum=null}else for(var j=0;j<4;j++){var k=a[c][e].multiTextCd+(j+1);d.editable(b,k,!1,i),a[c][e].model[j].initFlg=!0,a[c][e].model[j].unit=null,a[c][e].model[j].value=null,a[c][e].model[j].unitNum=null,a[c][e].model[j].calcUnitNum=null}},checkDecimalInput:function(a,c,d,f,h,i){var j=!1,k=a[f][h].model[0].listLength,l=a[f][h].model[0].decimalExistFlg,m=e.isShow(d,h,i);if(isNullOrUndefined(k)||""==k){m&&e.hide(d,h,i);for(var n=0;n<4;n++){var o=a[f][h].multiTextCd+(n+1),p=e.isShow(d,o,i);p&&e.hide(d,o,i)}return j}if(isNullOrUndefined(l)||"0"!=l){if(!isNullOrUndefined(l)&&"1"==l){m&&e.hide(d,h,i);for(var n=0;n<4;n++){var o=a[f][h].multiTextCd+(n+1),p=e.isShow(d,o,i);p&&e.hide(d,o,i)}}}else{var q=g.decimallength(c,0);q?m&&e.hide(d,h,i):(j=!0,e.show(d,h,b("owfMessage")("integerError"),i));for(var n=0;n<4;n++){var o=a[f][h].multiTextCd+(n+1),r=a[f][h].model[n].value,s=g.decimallength(r,0);if(s){var p=e.isShow(d,o,i);p&&e.hide(d,o,i)}else j=!0,e.show(d,o,b("owfMessage")("integerError"),i)}}return j},deferredCheckDecimalInput:function(b,d,e,f,g,j,k){var l=c.defer(),m=!1;this.checkDecimalInput(d,e,f,g,j,k);var n=function(){b.$invalid?h.firstErrorOnFocus(b.$name).then(function(){m=!0,i.processResponse(b),l.reject()}):(i.processResponse(b),l.resolve())};return i.processRequest(b),a(n,1),l.promise}}}]).factory("detailDirectiveControl",["$log","owsCommon","$timeout","directiveControl","$q","overlayFunction",function(a,b,c,d,e,f){return{show:function(b,d,e,f){return c(function(){if(!b.oneslogi||void 0==b.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[detailDirectiveControl.editable]");if(b.oneslogi.length<b.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[detailDirectiveControl.editable]");var c,g;c="object"==typeof d&&void 0!=d.length?d:[d],g="object"==typeof f&&void 0!=f.length?f:[f];for(var h,i=0;i<c.length;i++){for(h=c[i];h!=h.replaceAll([".","[","]"],"");)h=h.replaceAll([".","[","]"],"");for(var j=0;j<g.length;j++){var k=0,l=1;null!=g[j]?(k=g[j],l=g[j]+1):(k=0,l=b.ngGrid.rowCache.length);for(var m=k;m<l;m++){if(m>=b.ngGrid.rowCache.length){a.info("ng-grid上で行がまだ作成されていない為、show操作出来ません。行No.:"+m);break}b.oneslogi[f].config[h].show=e}}}},0)},isShow:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");return a.oneslogi[c].config[d].show},editable:function(b,d,e,f){return c(function(){if(!b.oneslogi||void 0==b.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[detailDirectiveControl.editable]");if(b.oneslogi.length<b.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[detailDirectiveControl.editable]");var c,g;c="object"==typeof d&&void 0!=d.length?d:[d],g="object"==typeof f&&void 0!=f.length?f:[f];for(var h,i=0;i<c.length;i++){for(h=c[i];h!=h.replaceAll([".","[","]"],"");)h=h.replaceAll([".","[","]"],"");for(var j=0;j<g.length;j++){var k=0,l=1;null!=g[j]?(k=g[j],l=g[j]+1):(k=0,l=b.ngGrid.rowCache.length);for(var m=k;m<l;m++){if(m>=b.ngGrid.rowCache.length){a.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+m);break}b.oneslogi[f].config[h].editable=e}}}},0)},isEditable:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");return a.oneslogi[c].config[d].editable},isDefaultEditable:function(a,b,c){for(var d=b;d!=d.replaceAll([".","[","]"],"");)d=d.replaceAll([".","[","]"],"");return a.oneslogi[c].config[d].defaultEditable},validity:function(b,d,e){return c(function(){if(!b.oneslogi||void 0==b.oneslogi.length)throw new Error("Grid制御用の変数が初期化されていません。[detailDirectiveControl.validity]");if(b.oneslogi.length<b.ngGrid.rowCache.length)throw new Error("Gridの行数に対して、Grid制御用の変数の行が不足しています。[detailDirectiveControl.validity]");var c;c="object"==typeof e&&void 0!=e.length?e:[e];for(var f=0;f<c.length;f++){var g=0,h=1;null!=c[f]?(g=c[f],h=c[f]+1):(g=0,h=b.ngGrid.rowCache.length);for(var i=g;i<h;i++){if(i>=b.ngGrid.rowCache.length){a.info("ng-grid上で行がまだ作成されていない為、editable操作出来ません。行No.:"+i);break}b.oneslogi[e].config.validity=d}}},0)},isValidity:function(a,b){return a.oneslogi[b].config.validity},isBlankRow:function(a,c){for(var d=0;d<a.columnDefs.length;d++)if(a.columnDefs[d].visible&&a.columnDefs[d].editable&&null!=b.getDotValue(a.ngGrid.rowCache[c].entity,a.columnDefs[d].field)&&""!=b.getDotValue(a.ngGrid.rowCache[c].entity,a.columnDefs[d].field))return!1;return!0},isBlankRowByEntity:function(a,c){for(var d=0;d<a.columnDefs.length;d++)if(a.columnDefs[d].visible&&a.columnDefs[d].editable&&null!=b.getDotValue(c,a.columnDefs[d].field)&&""!=b.getDotValue(c,a.columnDefs[d].field))return!1;return!0},blankRows:function(a){for(var b=[],c=!0,d=0;d<a.ngGrid.rowCache.length;d++)c=this.isBlankRow(a,d),c&&b.push(d);return b},firstErrorOnFocus:function(a){return c(function(){var b=$("#"+a).find("ng-form");if(b.length>0)for(var c=0;c<b.length;c++)if(b[c].className.indexOf("invalid")>-1){var d=angular.element(b[c]),e=d.scope();for(var f in e)if(e.hasOwnProperty(f)&&f.indexOf("gridform")!==-1&&e[f].$invalid){var g=d.find("input,textarea,select");if(g.length>0)return void g[0].focus()}}},100)},isValidCheckAllRows:function(a,b){var g=e.defer(),h=a.ngGrid.$viewport.scrollTop(),i=!1,j=function(){if(b.$invalid)d.firstErrorOnFocus(b.$name).then(function(){i=!0,f.processResponse(b),g.reject()});else if(a.$gridScope.renderedRows.length>0&&a.ngGrid.data.length>a.$gridScope.renderedRows.length){var e=a.$gridScope.renderedRows[a.$gridScope.renderedRows.length-1].rowIndex;if(a.ngGrid.data.length-1<=e)a.ngGrid.$viewport.scrollTop(h),f.processResponse(b),g.resolve();else{var k=a.rowHeight*(e+1);a.ngGrid.$viewport.scrollTop(k),c(j,1)}}else a.ngGrid.$viewport.scrollTop(h),f.processResponse(b),g.resolve()};return f.processRequest(b),a.ngGrid.$viewport.scrollTop(0),c(j,1),g.promise},isValidCheckDetail:function(a){var b=e.defer(),g=!1,h=function(){a.$invalid?d.firstErrorOnFocus(a.$name).then(function(){g=!0,f.processResponse(a),b.reject()}):(f.processResponse(a),b.resolve())};return f.processRequest(a),c(h,1),b.promise},scrollingByRowIndex:function(a,b){var c=a.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)},scrollingByRowIndexForViewOnlyList:function(a,b){var c=a.$gridScope.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)},scrollingByRowIndex:function(a,b){var c=a.rowHeight*(b+1);a.ngGrid.$viewport.scrollTop(c)}}}]).directive("owdDivider",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){var c="";b.labelText;for(c+="<span>",c+=b.class?'<span id="'+b.id+'" ng-show="{1}" class="item item-divider '+b.class+'">{{{4}}}</span>':'<span id="'+b.id+'" ng-show="{1}" class="item item-divider">{{{4}}}</span>',c+="</span>";c!=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)c=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");return c=c.replace("{4}","item[screenCd]['"+b.id+"'].itemNm"),b.class="",c},controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdText",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=0;d<a[0].attributes.length;d++){var e=a[0].attributes[d];0!==e.name.lastIndexOf("ng-",0)&&0!==e.name.lastIndexOf("ui-",0)||"ng-model"!==e.name&&"ng-disabled"!==e.name&&"ng-show"!==e.name&&"ng-class"!==e.name&&(c+=e.name+'="'+e.value+'" ')}c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var f="";for(f+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',f+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',f+=b.owdAddButton?'    <div id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-stacked-label owd-stacked-label item-text-wrap item-button-right" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >':'    <label id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-stacked-label owd-stacked-label item-text-wrap" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',f+='      <span class="input-label" ng-show="!'+b.id+"form."+b.id+".$error.required && !"+b.id+"form."+b.id+".$error.pattern && !"+b.id+"form."+b.id+".$error.minlength && !"+b.id+"form."+b.id+".$error.maxlength && !"+b.id+"form."+b.id+".$error.validator && !"+b.id+"form."+b.id+'.$error.exterror"><h2>{{{4}}}</h2></span>',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.required">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.pattern">{{{4} + " - " + (item[screenCd]["'+b.id+'"].message)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.pattern">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:item[screenCd]["'+b.id+'"].minChars)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.minlength">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:item[screenCd]["'+b.id+'"].maxChars)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.maxlength">',b.owdValidateMessage&&(f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.validator">'),f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',b.owdValidateMessage&&(f+="        </div>"),f+="          </div></div></div></div>",b.owdAddButton?(f+='    <input type="text" style="margin-right:65px" owd-textvalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[{3}, {5}]" '+c+" errorborder/>",f+='    <button style="width:48px" tabindex="-1" class="button button-icon button-clear button-dark icon ion-search" ng-disabled="{0}" ng-click="'+b.owdAddButton+'"></button>'):f+='    <input type="text" owd-textvalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[{3}, {5}]" '+c+" errorborder/>",f+="    <div ng-transclude></div>",f+=b.owdAddButton?"    </div>":"    </label>",f+="  </div>",f+="</ng-form></span>";f!=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)f=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");for(;f!=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)f=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");for(f=f.replace("{3}","item[screenCd]['"+b.id+"'].textAlign");f!=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)f=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");for(;f!=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");)f=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");return f},require:"^?owdScreen",controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdTextvalid",["$rootScope","validControl",function(a,b){return{restrict:"A",scope:!1,require:"ngModel",link:function(c,d,e,f){if(c.$watch(e.ngModel,function(){c.oneslogi[e.id].optionMessage.show&&(c.oneslogi[e.id].optionMessage.show=!1)}),void 0!=a.item[c.screenCd][e.id].necessary&&"1"==a.item[c.screenCd][e.id].necessary){d.attr("required","required");var g=function(a){return f.$setValidity("required",b.required(a)),a};f.$formatters.push(g),f.$parsers.push(g)}if(a.item[c.screenCd][e.id].inputLimit){var h=function(d){return f.$setValidity("pattern",b.pattern(d,a.item[c.screenCd][e.id].inputLimit)),d};f.$formatters.push(h),f.$parsers.push(h)}if(a.item[c.screenCd][e.id].minChars){var i=function(d){return f.$setValidity("minlength",b.minlength(d,a.item[c.screenCd][e.id].minChars)),d};f.$formatters.push(i),f.$parsers.push(i)}if(a.item[c.screenCd][e.id].maxChars){var j=function(d){return f.$setValidity("maxlength",b.maxlength(d,a.item[c.screenCd][e.id].maxChars)),d};f.$formatters.push(j),f.$parsers.push(j)}}}}]).directive("owdNumber",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=0;d<a[0].attributes.length;d++){var e=a[0].attributes[d];0!==e.name.lastIndexOf("ng-",0)&&0!==e.name.lastIndexOf("ui-",0)||("ng-blur"==e.name?c+='ng-blur="'+e.value+'" ':"ng-model"!==e.name&&"ng-disabled"!==e.name&&"ng-show"!==e.name&&"ng-class"!==e.name&&(c+=e.name+'="'+e.value+'" '))}c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var f="";f+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',f+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',f+='    <label id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-stacked-label owd-stacked-label item-text-wrap" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',f+='      <span class="input-label" ng-show="!'+b.id+"form."+b.id+".$error.required && !"+b.id+"form."+b.id+".$error.pattern && !"+b.id+"form."+b.id+".$error.min && !"+b.id+"form."+b.id+".$error.max && !"+b.id+"form."+b.id+".$error.integerLength && !"+b.id+"form."+b.id+".$error.decimalLength && !"+b.id+"form."+b.id+".$error.number && !"+b.id+"form."+b.id+".$error.validator && !"+b.id+"form."+b.id+'.$error.exterror"><H2>{{{4}}}</H2></span>',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.required">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.pattern">{{{4} + " - " + (item[screenCd]["'+b.id+'"].message)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.pattern">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.min">{{{4} + " - " + ("minError" | owfMessage:item[screenCd]["'+b.id+'"].minNumber)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.min">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.max">{{{4} + " - " + ("maxError" | owfMessage:item[screenCd]["'+b.id+'"].maxNumber)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.max">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:item[screenCd]["'+b.id+'"].integerLength)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.integerLength">';var g="{{item[screenCd]['"+b.id+"'].decimalLength | number}}";for(f+='      <span class="input-label error-label" ng-show="'+g+" > 0 && "+b.id+"form."+b.id+'.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:item[screenCd]["'+b.id+'"].decimalLength)}}</span>',f+='      <span class="input-label error-label" ng-show="'+g+" <= 0 && "+b.id+"form."+b.id+'.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.decimalLength">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.number">{{{4} + " - " + (item[screenCd]["'+b.id+'"].message)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.number">',b.owdValidateMessage&&(f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.validator">'),f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',b.owdValidateMessage&&(f+="          </div>"),f+="          </div></div></div></div></div></div></div>",f+='      <input type="number" owd-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+="      <div ng-transclude></div>",f+="    </div>",f+="  </div>",f+="</ng-form></span>";f!=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)f=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");
for(;f!=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)f=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");for(;f!=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)f=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");for(;f!=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");)f=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");return f},require:"^?owdScreen",controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdNumbervalid",["$locale","$rootScope","validControl","$filter","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:!1,require:"ngModel",link:function(e,f,g,h){if(e.blurFormats||(e.blurFormats={}),e.blurFormats[g.ngModel.replaceAll([".","[","]"],"")]=function(){var a=c.pattern(h.$viewValue,j);if(a&&!isNullOrUndefined(h.$viewValue)&&""!=h.$viewValue){var b=d("owfNumber")(h.$viewValue);h.$setViewValue(b),h.$render()}},e.$watch(g.ngModel,function(){e.oneslogi[g.id].optionMessage.show&&(e.oneslogi[g.id].optionMessage.show=!1)}),void 0!=b.item[e.screenCd][g.id].necessary&&"1"==b.item[e.screenCd][g.id].necessary){f.attr("required","required");var i=function(a){return"null"===a&&(a=""),h.$setValidity("required",c.required(a)),a};h.$formatters.push(i),h.$parsers.push(i)}var j="^[-]?(0|[1-9][0-9]{0,2}(["+a.NUMBER_FORMATS.GROUP_SEP+"]?[0-9]{3})*)(\\"+a.NUMBER_FORMATS.DECIMAL_SEP+"[0-9]+)?$",k=function(a){"null"===a&&(a="");var b=c.pattern(a,j);return h.$setValidity("pattern",b),b?d("owfNumber")(a):a},l=function(a){"null"===a&&(a="");var b=c.pattern(a,j);if(h.$setValidity("pattern",b),b){if("string"==typeof a){var d=a.replaceAll(",","");if(!d)return null;var e=parseFloat(d);if(0<e.toString().indexOf("e"))return a;var f=new Decimal(d);return e.toString()==f.toString()?e:a}return a}return a};h.$formatters.push(k),h.$parsers.push(l);var m=d("owfMessage"),n=m("numberError");if(n&&"numberError"!=n||(n=m("patternError")),b.item[e.screenCd][g.id].message=n,void 0!==b.item[e.screenCd][g.id].minNumber&&null!==b.item[e.screenCd][g.id].minNumber){var o=function(a){return"null"===a&&(a=""),h.$setValidity("min",c.min(a,b.item[e.screenCd][g.id].minNumber)),a};h.$formatters.push(o),h.$parsers.push(o)}if(b.item[e.screenCd][g.id].maxNumber){var p=function(a){return"null"===a&&(a=""),h.$setValidity("max",c.max(a,b.item[e.screenCd][g.id].maxNumber)),a};h.$formatters.push(p),h.$parsers.push(p)}if(b.item[e.screenCd][g.id].integerLength){var q=function(a){return"null"===a&&(a=""),h.$setValidity("integerLength",c.integerlength(a,b.item[e.screenCd][g.id].integerLength)),a};h.$formatters.push(q),h.$parsers.push(q)}if(void 0!==b.item[e.screenCd][g.id].decimalLength&&null!==b.item[e.screenCd][g.id].decimalLength){var r=function(a){return"null"===a&&(a=""),h.$setValidity("decimalLength",c.decimallength(a,b.item[e.screenCd][g.id].decimalLength)),a};h.$formatters.push(r),h.$parsers.push(r)}}}}]).directive("owdCalcNumber",["$rootScope",function(a){return{restrict:"E",scope:!1,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=0;d<a[0].attributes.length;d++){var e=a[0].attributes[d];0!==e.name.lastIndexOf("ng-",0)&&0!==e.name.lastIndexOf("ui-",0)||("ng-blur"==e.name?c+='ng-blur="'+e.value+'" ':"ng-model"!==e.name&&"ng-disabled"!==e.name&&"ng-show"!==e.name&&"ng-class"!==e.name&&(c+=e.name+'="'+e.value+'" '))}c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var f="";f+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',f+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',f+='    <label id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-stacked-label owd-stacked-label item-text-wrap" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',f+='  <div class="form-inline" style="display: flex;">',f+='    <span style="width:42%">',f+='      <input type="number" style="width:80%;height:38px;float:left" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+='      <span style="width:10%;vertical-align:bottom;display:flex;margin-top:8px;" ng-bind="'+b.ngModel+'"></span>',f+="    </span>",f+='    <span style="width:4%;font-size:25px;margin-top:2px;">(</span>',f+='    <span style="width:28%">',f+='      <input type="number" style="width:70%;height:19px;display:inline;vertical-align:top;padding-top:0px;" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+='      <span style="width:20%">pt</span>',f+='      <input type="number" style="width:70%;height:19px;display:inline;vertical-align:top;padding-top:0px;" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+='      <span style="width:20%">bl</span>',f+="    </span>",f+='    <span style="width:28%">',f+='      <input type="number" style="width:70%;height:19px;display:inline;vertical-align:top;padding-top:0px;" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+='      <span style="width:20%">cs</span>',f+='      <input type="number" style="width:70%;height:19px;display:inline;vertical-align:top;padding-top:0px;" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+='      <span style="width:20%">ps</span>',f+="    </span>",f+='    <span style="width:1%;font-size:25px;margin-top:2px;">)</span>',f+="  </div>",f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.required">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.pattern">{{{4} + " - " + (item[screenCd]["'+b.id+'"].message)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.pattern">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.min">{{{4} + " - " + ("minError" | owfMessage:item[screenCd]["'+b.id+'"].minNumber)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.min">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.max">{{{4} + " - " + ("maxError" | owfMessage:item[screenCd]["'+b.id+'"].maxNumber)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.max">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:item[screenCd]["'+b.id+'"].integerLength)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.integerLength">';var g="{{item[screenCd]['"+b.id+"'].decimalLength | number}}";for(f+='      <span class="input-label error-label" ng-show="'+g+" > 0 && "+b.id+"form."+b.id+'.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:item[screenCd]["'+b.id+'"].decimalLength)}}</span>',f+='      <span class="input-label error-label" ng-show="'+g+" <= 0 && "+b.id+"form."+b.id+'.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.decimalLength">',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.number">{{{4} + " - " + (item[screenCd]["'+b.id+'"].message)}}</span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.number">',b.owdValidateMessage&&(f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>',f+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.validator">'),f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',b.owdValidateMessage&&(f+="          </div>"),f+="          </div></div></div></div></div></div></div>",f+='      <input type="number" owd-calc-numbervalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" owd-string-to-number ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[\'rightText\', {5}]" '+c+" errorborder/>",f+="      <div ng-transclude></div>",f+="    </div>",f+="  </div>",f+="</ng-form></span>";f!=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)f=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");for(;f!=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)f=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");for(;f!=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)f=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");for(;f!=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");)f=f.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");return f},require:"^?owdScreen",controller:["$scope","$element","$rootScope","owsMaster",function(a,b,c,d){d.setMaster(a,b,c)}]}}]).directive("owdCalcNumbervalid",["$locale","$rootScope","validControl","$filter","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:!1,require:"ngModel",link:function(e,f,g,h){if(e.blurFormats||(e.blurFormats={}),e.blurFormats[g.ngModel.replaceAll([".","[","]"],"")]=function(){var a=c.pattern(h.$viewValue,j);if(a&&!isNullOrUndefined(h.$viewValue)&&""!=h.$viewValue){var b=d("owfNumber")(h.$viewValue);h.$setViewValue(b),h.$render()}},e.$watch(g.ngModel,function(){e.oneslogi[g.id].optionMessage.show&&(e.oneslogi[g.id].optionMessage.show=!1)}),void 0!=b.item[e.screenCd][g.id].necessary&&"1"==b.item[e.screenCd][g.id].necessary){f.attr("required","required");var i=function(a){return"null"===a&&(a=""),h.$setValidity("required",c.required(a)),a};h.$formatters.push(i),h.$parsers.push(i)}var j="^[-]?(0|[1-9][0-9]{0,2}(["+a.NUMBER_FORMATS.GROUP_SEP+"]?[0-9]{3})*)(\\"+a.NUMBER_FORMATS.DECIMAL_SEP+"[0-9]+)?$",k=function(a){"null"===a&&(a="");var b=c.pattern(a,j);return h.$setValidity("pattern",b),b?d("owfNumber")(a):a},l=function(a){"null"===a&&(a="");var b=c.pattern(a,j);if(h.$setValidity("pattern",b),b){if("string"==typeof a){var d=a.replaceAll(",","");if(!d)return null;if(d.indexOf(".")>-1){var e=parseFloat(d);if(0<e.toString().indexOf("e"))return a;var f=new Decimal(d);return e.toString()==f.toString()?e:a}return parseInt(d)}return a}return a};h.$formatters.push(k),h.$parsers.push(l);var m=d("owfMessage"),n=m("numberError");if(n&&"numberError"!=n||(n=m("patternError")),b.item[e.screenCd][g.id].message=n,void 0!==b.item[e.screenCd][g.id].minNumber&&null!==b.item[e.screenCd][g.id].minNumber){var o=function(a){return"null"===a&&(a=""),h.$setValidity("min",c.min(a,b.item[e.screenCd][g.id].minNumber)),a};h.$formatters.push(o),h.$parsers.push(o)}if(b.item[e.screenCd][g.id].maxNumber){var p=function(a){return"null"===a&&(a=""),h.$setValidity("max",c.max(a,b.item[e.screenCd][g.id].maxNumber)),a};h.$formatters.push(p),h.$parsers.push(p)}if(b.item[e.screenCd][g.id].integerLength){var q=function(a){return"null"===a&&(a=""),h.$setValidity("integerLength",c.integerlength(a,b.item[e.screenCd][g.id].integerLength)),a};h.$formatters.push(q),h.$parsers.push(q)}if(void 0!==b.item[e.screenCd][g.id].decimalLength&&null!==b.item[e.screenCd][g.id].decimalLength){var r=function(a){return"null"===a&&(a=""),h.$setValidity("decimalLength",c.decimallength(a,b.item[e.screenCd][g.id].decimalLength)),a};h.$formatters.push(r),h.$parsers.push(r)}}}}]).directive("owdSelect",["$rootScope",function(a){return{restrict:"E",scope:!0,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=0;d<a[0].attributes.length;d++){var e=a[0].attributes[d];0!==e.name.lastIndexOf("ng-",0)&&0!==e.name.lastIndexOf("ui-",0)||"ng-model"!==e.name&&"ng-disabled"!==e.name&&"ng-show"!==e.name&&"ng-class"!==e.name&&"ng-options"!==e.name&&(c+=e.name+'="'+e.value+'" ')}c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var f="";for(f+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',f+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',f+='      <div data-tap-disabled="true">',f+='    <label id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-select owd-item-stacked-select item-text-wrap" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',f+='      <span class="input-label" ng-show="!'+b.id+"form."+b.id+".$error.required && !"+b.id+"form."+b.id+".$error.validator && !"+b.id+"form."+b.id+'.$error.exterror"><H2>{{{4}}}</H2></span>',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',b.owdValidateMessage&&(f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>'),f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',f+='      <select owd-selectvalid id="'+b.id+'" name="'+b.id+'" ng-model="'+b.ngModel+'" placeholder="{{{4}}}" ng-disabled="{0}" ng-options="{2}" ng-class="{\'owc-editable-border\': (item[screenCd][\''+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}\" "+c+"errorborder>{3}</select>",f+="      <div ng-transclude></div>",f+="    </label>",f+="      </div>",f+="  </div>",f+="</ng-form></span>";f!=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)f=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");for(;f!=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)f=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");var g="obj.{0} as formatViewValue(obj) for obj in {2}",h="key",i="value";for(a.attr("owd-repeat-key")&&(h=a.attr("owd-repeat-key")),a.attr("owd-repeat-value")&&(i=a.attr("owd-repeat-value")),g=g.replace("{0}",h),g=g.replace("{1}",i),g=g.replace("{2}",a.attr("owd-models")),f=f.replace("{2}",g),f=""==a.attr("owd-remove-blank")?f.replace("{3}",""):f.replace("{3}",'<option value=""></option>');f!=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)f=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");return f},require:"^?owdScreen",controller:["$scope","$element","owsMaster","owsCommon",function(b,c,d,e){d.setMaster(b,c,a);var f=c.attr("owd-models"),g="key",h="value",i=!0;if(c.attr("owd-repeat-key")&&(g=c.attr("owd-repeat-key")),c.attr("owd-repeat-value")&&(h=c.attr("owd-repeat-value")),c.attr("owd-repeat-view-with-key")){var j=c.attr("owd-repeat-view-with-key");"string"==typeof j?(j=j.replace(/(^\s+)|(\s+$)/g,""),j=j.toLowerCase(),"false"==j&&(i=!1)):"boolean"==typeof j&&(i=c.attr("owd-repeat-view-with-key"))}var k=c.attr("ng-model");b.formatViewValue=function(a){return i?null==e.getDotValue(a,g)?e.getDotValue(a,h):e.getDotValue(a,g)+":"+e.getDotValue(a,h):e.getDotValue(a,h)},b.$watch(f,function(a,c){var d=!1;if(b[f]){for(var h=b[f].length,i=e.getDotValue(b,k),j=0;j<h;j++)e.getDotValue(b[f][j],g)==i&&(d=!0);d||e.setDotValue(b,k,null)}})}]}}]).directive("owdMultiSelect",["$rootScope","$ionicPopup","$ionicModal","$ionicGesture",function(a,b,c,d){return{restrict:"E",scope:!0,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=0;d<a[0].attributes.length;d++){var e=a[0].attributes[d];0!==e.name.lastIndexOf("ng-",0)&&0!==e.name.lastIndexOf("ui-",0)||"ng-model"!==e.name&&"ng-disabled"!==e.name&&"ng-show"!==e.name&&"ng-class"!==e.name&&"ng-options"!==e.name&&(c+=e.name+'="'+e.value+'" ')}c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var f="";for(f+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',f+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',f+='    <label id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input owd-item-stacked-select item-icon-right" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',f+='      <span class="input-label" ng-show="!'+b.id+"form."+b.id+".$error.required && !"+b.id+"form."+b.id+".$error.validator && !"+b.id+"form."+b.id+'.$error.exterror"><H2>{{{4}}}</H2></span>',f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',b.owdValidateMessage&&(f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>'),f+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',f+='      <i class="icon ion-android-arrow-dropdown"></i>',f+='      <textarea owd-selectvalid id="'+b.id+'" name="'+b.id+'" ng-model="'+b.ngModel+'" placeholder="{{{4}}}" disabled="disabled" ng-class="{\'owc-editable-border\': (item[screenCd][\''+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}\" "+c+" errorborder></textarea>",f+="      <div ng-transclude></div>",f+="    </label>",f+="  </div>",f+="</ng-form></span>";f!=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)f=f.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");for(;f!=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)f=f.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");for(;f!=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)f=f.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");return f},require:"^?owdScreen",controller:["$scope","$element","$attrs","$filter","$parse","$ionicPlatform","owsMaster","owsCommon",function(c,e,f,g,h,i,j,k){j.setMaster(c,e,a),c.multiSelect={title:a.item[c.screenCd][f.id].itemNm,tempOptions:[],keyTag:f.owdRepeatKey||"key",valueTag:f.owdRepeatValue||"value",selectedTag:f.selectedProperty||"selected",renderCheckbox:!f.renderCheckbox||"true"==f.renderCheckbox};var l=c.multiSelect.keyTag,m=c.multiSelect.valueTag,n=!0;c.showPopup=function(){c.options=c[f.owdModels],c.multiSelect.tempOptions=c.options.map(function(a){var b={};return b[c.multiSelect.keyTag]=a[c.multiSelect.keyTag],b[c.multiSelect.valueTag]=a[c.multiSelect.valueTag],b[c.multiSelect.selectedTag]=a[c.multiSelect.selectedTag],b}),c.myPopup=b.show({templateUrl:"wms/partials/assist/multiSelect.html",scope:c})},a.item[c.screenCd][f.id].editable&&d.on("tap",c.showPopup,e),c.closePopup=function(){c.myPopup.close()},c.$on("$destroy",function(){c.myPopup&&c.myPopup.close()}),c.saveSelection=function(){for(var a=0;a<c.multiSelect.tempOptions.length;a++)for(var b=c.multiSelect.tempOptions[a],d=0;d<c.options.length;d++){var e=c.options[d];if(b[c.multiSelect.keyTag]==e[c.multiSelect.keyTag]){e[c.multiSelect.selectedTag]=b[c.multiSelect.selectedTag];break}}var g=h(f.ngModel);g.assign(c,c.getOptionsSelected(c.options,c.multiSelect.valueTag,c.multiSelect.selectedTag)),c.myPopup.close()},c.getOptionsSelected=function(a,b,c){var d=g("filter")(a,function(a){return 1==a[c]});return d.map(function(a){return a[b]}).join(", ")},c.formatViewValue=function(a){return n?null==k.getDotValue(a,l)?k.getDotValue(a,m):k.getDotValue(a,l)+":"+k.getDotValue(a,m):k.getDotValue(a,m)}}]}}]).directive("owdSelectvalid",["$rootScope","validControl",function(a,b){return{restrict:"A",scope:!1,require:"ngModel",link:function(c,d,e,f){if(c.$watch(e.ngModel,function(){c.oneslogi[e.id].optionMessage.show&&(c.oneslogi[e.id].optionMessage.show=!1)}),void 0!=a.item[c.screenCd][e.id].necessary&&"1"==a.item[c.screenCd][e.id].necessary){d.attr("required","required");var g=function(a){return f.$setValidity("required",b.required(a)),a};f.$formatters.push(g),f.$parsers.push(g)}}}}]).directive("owdDate",["$rootScope","$timeout","owsCommon",function(a,b,c){return{restrict:"E",scope:!0,replace:!0,transclude:!0,template:function(a,b){for(var c="",d=!1,e=0;e<a[0].attributes.length;e++){var f=a[0].attributes[e];0!==f.name.lastIndexOf("ng-",0)&&0!==f.name.lastIndexOf("ui-",0)||("ng-blur"==f.name?(c+="ng-blur=\"blurFormats['"+b.ngModel.replaceAll([".","[","]"],"")+"']();"+f.value+'" ',d=!0):"ng-model"!==f.name&&"ng-disabled"!==f.name&&"ng-show"!==f.name&&"ng-class"!==f.name&&(c+=f.name+'="'+f.value+'" '))}d||(c+="ng-blur=\"blurFormats['"+b.ngModel.replaceAll([".","[","]"],"")+"']()\" "),c+=b.owdValidate?" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show' ,validator:'"+b.owdValidate+"'}\"":" ui-validate=\"{exterror:'!oneslogi."+b.id+".optionMessage.show'}\"",c+=b.owdValidateWatch?" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show', validator:"+b.owdValidateWatch+'}"':" ui-validate-watch=\"{exterror:'oneslogi."+b.id+".optionMessage.show'}\"";var g="";for(g+='<span ng-disabled="{0}" ng-show="{1}"><ng-form name="'+b.id+'form" novalidate>',g+="  <div ng-class=\"{ 'has-error' : "+b.id+"form."+b.id+'.$invalid }" ng-disabled="{0}" ng-show="{1}">',g+='    <div id="'+b.id+'label" for="'+b.id+'" class="control-label item owd-itemdisable item-input item-stacked-label owd-stacked-label item-text-wrap item-button-right" ng-class="{necessaryColor: item[screenCd][\''+b.id+'\'].necessary}" ng-disabled="{0}" >',g+='      <span class="input-label" ng-show="!'+b.id+"form."+b.id+".$error.required && !"+b.id+"form."+b.id+".$error.date && !"+b.id+"form."+b.id+".$error.validator && !"+b.id+"form."+b.id+'.$error.exterror"><H2>{{{4}}}</H2></span>',g+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',g+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.required">',g+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+'.$error.date">{{{4} + " - " + ("dateError" | owfMessage:dateFormat)}}</span>',g+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.date">',b.owdValidateMessage&&(g+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.validator\" ng-bind-html=\"{4} + ' - ' + "+b.owdValidateMessage+'"></span>',g+='          <div ng-show="!'+b.id+"form."+b.id+'.$error.validator">'),g+='      <span class="input-label error-label" ng-show="'+b.id+"form."+b.id+".$error.exterror\" ng-bind-html=\"{4} + ' - ' + oneslogi."+b.id+'.optionMessage.message"></span>',b.owdValidateMessage&&(g+="          </div>"),g+="          </div></div>",g+='      <input type="text" style="margin-right:65px" owd-datevalid id="'+b.id+'" name="'+b.id+'" placeholder="{{{4}}}" ng-trim="false" ng-model="'+b.ngModel+'" ng-disabled="{0}" ng-class="[{3}, {5}]" '+c+" errorborder/>",g+='      <button style="width:48px" tabindex="-1" class="button button-icon button-clear button-dark icon ion-calendar" ng-disabled="{0}" ng-click="openDatePicker()"></button>',g+="      <div ng-transclude></div>",g+="    </div>",g+="  </div>",g+="</ng-form></span>";g!=g.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");)g=g.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");for(;g!=g.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)g=g.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");for(g=g.replace("{3}","item[screenCd]['"+b.id+"'].textAlign");g!=g.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");)g=g.replace("{4}","item[screenCd]['"+b.id+"'].itemNm");for(;g!=g.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");)g=g.replace("{5}","{'owc-editable-border': (item[screenCd]['"+b.id+"'].editable) && (oneslogi['"+b.id+"'].editable)}");return g},require:["^?owdScreen","?^ngModel"],controller:["$scope","$element","$filter","owsMaster","ionicDatePicker","userInfo","owsCommon","owsCommonSd",function(b,c,d,e,f,g,h,i){e.setMaster(b,c,a),b.openCal=function(a){b.opened?b.opened=!1:b.opened=!0};var j=i.getSdCalendarValue(),k=c.controller("ngModel"),l={callback:function(a){k.$setViewValue(h.stringToDate(h.dateToString(new Date(a))))},setLabel:j.set,closeLabel:j.close,mondayFirst:!1,weeksList:j.weeksList,monthsList:j.monthsList,closeOnSelect:!1,templateType:"popup",dateFormat:a.dateFormat};b.openDatePicker=function(){var a=h.stringToDateType(k.$modelValue);if("[object Date]"===Object.prototype.toString.call(a))l.inputDate=a;else{var b=h.stringToDateType(g.systemDt);"[object Date]"===Object.prototype.toString.call(b)?l.inputDate=b:l.inputDate=new Date}f.openDatePicker(l)}}],link:function(a,d,e,f){var g=f[1];g&&(g.$formatters.push(function(a){if(a){if("string"==typeof a&&8==a.length&&RegExp("(19[0-9]{2}|[2-9]{1}[0-9]{1}[0-9]{2})(0[1-9]|1[0-2])(3[01]|[12][0-9]|0[1-9])").test(a))return c.stringToDate(a);if("string"==typeof a&&c.dateRegExp().test(a)&&c.isDate(a,c.dateRegExp()))return b(function(){g.$setViewValue(a)},3),a}return a}),g.$parsers.push(function(b){var d=c.dateToString(b);return c.isDate(b,c.dateRegExp())?a.date=d:a.date=null,d}))}}}]).directive("owdDatevalid",["$rootScope","validControl","owsCommon","$timeout",function(a,b,c,d){return{restrict:"A",scope:!1,require:"ngModel",link:function(e,f,g,h){if(e.blurFormats||(e.blurFormats={}),e.blurFormats[g.ngModel.replaceAll([".","[","]"],"")]=function(){var a=c.stringDateFormat(h.$viewValue);h.$setViewValue(a),h.$render()},e.$watch(g.ngModel,function(){e.oneslogi[g.id].optionMessage.show&&(e.oneslogi[g.id].optionMessage.show=!1)}),void 0!=a.item[e.screenCd][g.id].necessary&&"1"==a.item[e.screenCd][g.id].necessary){f.attr("required","required");var i=function(a){return h.$setValidity("required",b.required(a)),a};h.$formatters.push(i),h.$parsers.push(i)}var j=function(a){return h.$setValidity("date",b.date(a,h.$modelValue)),a};h.$formatters.push(j),h.$parsers.push(j),h.$formatters.push(function(a){if(a){if("string"==typeof a&&8==a.length&&RegExp("(19[0-9]{2}|[2-9]{1}[0-9]{1}[0-9]{2})(0[1-9]|1[0-2])(3[01]|[12][0-9]|0[1-9])").test(a))return c.stringToDate(a);if("string"==typeof a&&c.dateRegExp().test(a)&&c.isDate(a,c.dateRegExp()))return d(function(){h.$setViewValue(a)},3),a}return a}),h.$parsers.push(function(a){var b=c.dateToString(a);return c.isDate(a,c.dateRegExp())?e.date=b:e.date=null,b})}}}]).directive("owdButton",["$rootScope",function(a){return{restrict:"E",priority:1e3,scope:!0,replace:!0,transclude:!1,controller:["$scope","$element","$rootScope","owsMaster","$interval","$parse","alertMessage",function(a,b,c,d,e,f,g){d.setMaster(a,b,c),a.clickDisable=function(){$(".button").addClass("event-disabled");var c=b.attr("id");return"undefined"!=typeof a.oneslogi[c]&&null!=a.oneslogi[c]&&""!=a.oneslogi[c]&&(a.oneslogi[c].editable=!1),e(function(){$(".button").removeClass("event-disabled");var c=b.attr("id");"undefined"!=typeof a.oneslogi[c]&&null!=a.oneslogi[c]&&""!=a.oneslogi[c]&&(a.oneslogi[c].editable=!0)},1200,1)},a.clearAlerts=function(){g.deleteAll()}}],template:function(a,b){var c="",d=a.text();for(c+='<div class="padding-horizontal">',c+='<ion-item type="button" class="button button-block '+b.class+'" id="'+b.id+'" ng-disabled="{0}" ng-show="{1}" ng-click="{3}" label-text="'+d+'">{{{2}}}</ion-item>',c+="</div>","undefined"!=typeof b.ngDisabled&&null!=b.ngDisabled&&""!=b.ngDisabled?(c=c.replace("{0}","(("+b.ngDisabled+") || (!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))"),b.ngDisabled=""):c=c.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");c!=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)c=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");c=c.replace("{2}","item[screenCd]['"+b.id+"'].itemNm");var e;for(e=void 0==b.owdNoAlertClear?"clickDisable();clearAlerts();"+b.ngClick:"clickDisable();"+b.ngClick;c!=c.replace("{3}",e);)c=c.replace("{3}",e);return b.class="",b.ngClick="",c}}}]).directive("owdFloatingButton",["$rootScope",function(a){return{restrict:"E",priority:1e3,scope:!0,replace:!0,transclude:!1,controller:["$scope","$element","$rootScope","owsMaster","$interval","$parse","alertMessage",function(a,b,c,d,e,f,g){d.setMaster(a,b,c),a.clickDisable=function(){$(".button").addClass("event-disabled");var c=b.attr("id");return"undefined"!=typeof a.oneslogi[c]&&null!=a.oneslogi[c]&&""!=a.oneslogi[c]&&(a.oneslogi[c].editable=!1),e(function(){$(".button").removeClass("event-disabled");var c=b.attr("id");"undefined"!=typeof a.oneslogi[c]&&null!=a.oneslogi[c]&&""!=a.oneslogi[c]&&(a.oneslogi[c].editable=!0)},1200,1)},a.clearAlerts=function(){g.deleteAll()}}],template:function(a,b){var c="",d=a.text();for(c+='<div class="padding-horizontal" style="display: inline-block">',c+='  <ion-item style="box-shadow: 0 4px 50px 0 rgba(0, 0, 0, 0.2), 0 6px 50px 0 rgba(0, 0, 0, 0.19);" type="button" class="pull-right button '+b.class+'" id="'+b.id+'" ng-disabled="{0}" ng-show="{1}" ng-click="{3}" label-text="'+d+'">{{{2}}}</ion-item>',c+="</div>","undefined"!=typeof b.ngDisabled&&null!=b.ngDisabled&&""!=b.ngDisabled?(c=c.replace("{0}","(("+b.ngDisabled+") || (!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))"),b.ngDisabled=""):c=c.replace("{0}","((!item[screenCd]['"+b.id+"'].editable) || (!oneslogi['"+b.id+"'].editable))");c!=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");)c=c.replace("{1}","((item[screenCd]['"+b.id+"'].visible) && (oneslogi['"+b.id+"'].show))");c=c.replace("{2}","item[screenCd]['"+b.id+"'].itemNm");var e;for(e=void 0==b.owdNoAlertClear?"clickDisable();clearAlerts();"+b.ngClick:"clickDisable();"+b.ngClick;c!=c.replace("{3}",e);)c=c.replace("{3}",e);return b.class="",b.ngClick="",c}}}]).directive("owdSearchResult",["$rootScope","$filter","$interval","$parse","alertMessage","$compile",function(a,b,c,d,e,f){
return{restrict:"E",scope:!0,replace:!0,transclude:!0,link:function(b,d,g){b.clickDisable=function(a){return $(".card.tablet-col.tablet-col-47").addClass("event-disabled"),$(".button").addClass("event-disabled"),c(function(){$(".card.tablet-col.tablet-col-47").removeClass("event-disabled"),$(".button").removeClass("event-disabled")},1200,1)},b.clearAlerts=function(){e.deleteAll()};var h=d.attr("owd-grid-option"),i=d.attr("owd-backcolor-option");if(a.colSettings||(a.colSettings={}),a.colSettings[b.screenCd]||(a.colSettings[b.screenCd]={}),a.column&&a.column[b.screenCd]&&a.column[b.screenCd][d.attr("id")])var j=a.column[b.screenCd][d.attr("id")];i=i?i.replace("row",d.attr("owd-result-list")+"[i]"):"",clickAction=d.attr("ng-click").replace("$index","i"),void 0==g.owdNoAlertClear?clickAction="clickDisable(i);clearAlerts();"+clickAction:clickAction="clickDisable(i);"+clickAction;var k="";k+='<div class="tablet-row" detail-push ng-repeat="row in '+d.attr("owd-result-list")+' track by $index" ng-if="$index % 2 == 0">',k+='<div class="card tablet-col tablet-col-47" ng-repeat="i in [$index, $index + 1]" ng-class="{\'even-item\': $index % 2 != 0}" ng-if="'+d.attr("owd-result-list")+'[i]!= null">',b[h].oneslogi=[];var l={},m=[],n={};n.config={},n.config.validity=!0;for(column in j)if(l={field:j[column].bCol.colCd,visible:"1"==j[column].bCol.visible,headerClass:"centerText",colType:j[column].bCol.colType,editable:"1"==j[column].bCol.editable},j[column].bDict&&(l.displayName=j[column].bDict.dictNm),j[column].bCol.textAlign&&"1"!=j[column].bCol.editable&&(l.cellClass=j[column].bCol.textAlign+"Text"),j[column].bCol.inColIndex&&(l.inColIndex=j[column].bCol.inColIndex),m.push(l),"1"==j[column].bCol.visible){for(var o=j[column].bCol.colCd.replace(".0.","[0].");o!=o.replace(".0.","[0].");)o=o.replace(".0.","[0].");for(var p=j[column].bCol.colCd.replaceAll([".","[","]"],"");p!=p.replaceAll([".","[","]"],"");)p=p.replaceAll([".","[","]"],"");switch(b[h].oneslogi||(b[h].oneslogi=[]),n.config[p]={},"1"==j[column].bCol.editable&&(n.config[p].editable="1"==j[column].bCol.editable,n.config[p].show=!0,n.config[p].optionMessage={},n.config[p].optionMessage.show=!1,n.config[p].optionMessage.message=""),j[column].bCol.colType){case"number":k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-click="'+clickAction+'" ng-show="{1}">',k+='    <span class="input-label" style="width:60%"><h2>'+j[column].bDict.dictNm+"</h2></span>",k+='    <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 40%;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>';break;case"calcnumber":k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-click="'+clickAction+'" ng-show="{1}">',k+='    <span class="input-label" style="width:60%"><h2>'+j[column].bDict.dictNm+"</h2></span>",k+='  <div class="form-inline" style="display: flex;width: 60%;">',k+='    <span style="width:42%">',k+='      <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width:80%;float:left;margin-top: 10px;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>',k+='      <span style="width:10%;vertical-align:bottom;display:flex;margin-top:8px;">ps</span>',k+="    </span>",k+='    <span style="width:4%;font-size:25px;margin-top:2px;">(</span>',k+='    <span style="width:28%">',k+='      <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width:70%;height:19px;display:inline-block;vertical-align:top;padding-top:0px;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>',k+='      <span style="width:20%">pt</span>',k+='      <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width:70%;height:19px;display:inline-block;vertical-align:top;padding-top:0px;float:left;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>',k+='      <span style="width:20%;display:flex;padding-left:4px;">bl</span>',k+="    </span>",k+='    <span style="width:28%">',k+='      <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width:70%;height:19px;display:inline-block;vertical-align:top;padding-top:0px;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>',k+='      <span style="width:20%">cs</span>',k+='      <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width:70%;height:19px;display:inline-block;vertical-align:top;padding-top:0px;float:left;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfNumber"></span>',k+='      <span style="width:20%;display:flex;padding-left:4px;">ps</span>',k+="    </span>",k+='    <span style="width:1%;font-size:25px;margin-top:2px;margin-left:5px;">)</span>',k+="  </div>";break;case"date":k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-click="'+clickAction+'" ng-show="{1}">',k+='    <span class="input-label" style="width:60%"><h2>'+j[column].bDict.dictNm+"</h2></span>",k+='    <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 40%;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+' | owfDateFromString"></span>';break;case"datetime":k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-click="'+clickAction+'" ng-show="{1}">',k+='    <span class="input-label" style="width:60%"><h2>'+j[column].bDict.dictNm+"</h2></span>",k+='    <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 40%;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+" | date: 'medium'\"></span>";break;case null:var q=b[d.attr("owd-button-options")],r=q[j[column].bCol.colCd].clickFunction.replace("$index","i");r=void 0==g.owdNoAlertClear?"clickDisable(i);clearAlerts();"+r:"clickDisable(i);"+r,q&&q[j[column].bCol.colCd]&&(k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-show="{1}">',k+='    <span class="input-label"></span>',k+="      <span>",k+='        <button type="'+q[j[column].bCol.colCd].buttonType+'" class="button '+q[j[column].bCol.colCd].buttonColor+'" ng-disabled="(!column[screenCd][\''+d.attr("id")+"']['"+j[column].bCol.colCd+"'].bCol.editable) || (!"+h+".oneslogi[i].config."+p+'.editable)" ng-click="'+r+';$event.stopPropagation()" label-text="'+q[j[column].bCol.colCd].text+'">'+j[column].bDict.dictNm+"</button>",k+="      </span>");break;default:k+='  <label class="item item-input search-result-item" ng-class="'+i+'" ng-click="'+clickAction+'" ng-show="{1}">',k+='    <span class="input-label" style="width:60%"><h2>'+j[column].bDict.dictNm+"</h2></span>",k+='    <span class="'+j[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 40%;" type="text" ng-bind="'+d.attr("owd-result-list")+"[i]."+o+'"></span>'}if(k+="  </label>","1"==j[column].bCol.editable)for(;k!=k.replace("{1}","((column[screenCd]['"+g.id+"']['"+j[column].bCol.colCd+"'].bCol.visible) && ("+h+".oneslogi[i].config."+p+".show))");)k=k.replace("{1}","((column[screenCd]['"+g.id+"']['"+j[column].bCol.colCd+"'].bCol.visible) && ("+h+".oneslogi[i].config."+p+".show))");else k=k.replace('ng-show="{1}"',"")}k+="</div>",k+="</div>",b.$on("ngListEventData",function(a){var c=angular.copy(b[d.attr("owd-result-list")]);b[h].columnDefs=m,b[h].ngGrid={},b[h].ngGrid.rowCache=[],b[h].ngGrid.rowCache=c;for(var e=0;e<c.length;e++){b[h].oneslogi||(b[h].oneslogi=[]);var f=angular.copy(n);f.entity=c[e],b[h].oneslogi[e]||(b[h].oneslogi.push(f),b.$emit("ngListEventDataReturn",e,c[e],h))}}),b.$emit("ngListEventData");var s=f(k)(b);d.replaceWith(s)},require:"^?owdScreen",controller:["$scope","$element","$attrs","$filter","$parse","owsMaster","owsCommon",function(b,c,d,e,f,g,h){g.setMaster(b,c,a)}]}}]).directive("owdSearchResultModal",["$rootScope","$filter","$compile",function(a,b,c){return{restrict:"E",scope:!0,replace:!0,transclude:!0,link:function(b,d,e){var f=d.attr("owd-backcolor-option");if(a.colSettings||(a.colSettings={}),a.colSettings[b.screenCd]||(a.colSettings[b.screenCd]={}),a.column&&a.column[b.screenCd]&&a.column[b.screenCd][d.attr("id")])var g=a.column[b.screenCd][d.attr("id")];var h="";h+='<div class="card" detail-push ng-repeat="row in '+d.attr("owd-result-list")+'" ng-click="'+d.attr("ng-click")+'">';for(column in g)if("1"==g[column].bCol.visible){for(var i=g[column].bCol.colCd.replace(".0.","[0].");i!=i.replace(".0.","[0].");)i=i.replace(".0.","[0].");switch(h+='  <label class="item item-input" ng-class="'+f+'">',h+='    <span class="input-label"><h2 ng-class="'+f+'">'+g[column].bDict.dictNm+"</h2></span>",g[column].bCol.colType){case"number":h+='    <span class="'+g[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 60%;" type="text" ng-bind="row.'+i+' | owfNumber">test</span>';break;case"date":h+='    <span class="'+g[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 60%;" type="text" ng-bind="row.'+i+' | owfDateFromString"></span>';break;case"datetime":h+='    <span class="'+g[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 60%;" type="text" ng-bind="row.'+i+" | date: 'medium'\"></span>";break;default:h+='    <span class="'+g[column].bCol.textAlign+'Text" style="padding-right: 0px;width: 60%;" type="text" ng-bind="row.'+i+'"></span>'}h+="  </label>"}var j=c(h)(b);d.replaceWith(j)},require:"^?owdScreen",controller:["$scope","$element","$attrs","$filter","$parse","owsMaster","owsCommon",function(b,c,d,e,f,g,h){g.setMaster(b,c,a)}]}}]).directive("owdDetail",["$rootScope","$filter","$compile","$log","ionicDatePicker","userInfo","owsCommon","owsCommonSd",function(a,b,c,d,e,f,g,h){return{restrict:"E",scope:!0,replace:!0,transclude:!0,link:function(i,j,k){var l=!1,m=[],n=j.attr("ng-detail");if(a.colSettings||(a.colSettings={}),a.colSettings[i.screenCd]||(a.colSettings[i.screenCd]={}),a.column&&a.column[i.screenCd]&&a.column[i.screenCd][j.attr("id")]){var o,p=a.column[i.screenCd][j.attr("id")];j.attr("owd-form-name")&&(o=j.attr("owd-form-name"))}for(var q="",r=0;r<j[0].attributes.length;r++){var s=j[0].attributes[r];0!==s.name.lastIndexOf("ng-",0)&&0!==s.name.lastIndexOf("ui-",0)||"ng-model"!==s.name&&"ng-disabled"!==s.name&&"ng-show"!==s.name&&"ng-class"!==s.name&&"ng-options"!==s.name&&(q+=s.name+'="'+s.value+'" ')}var t=j.attr("owd-detail-item"),u=h.getSdCalendarValue(),v="",w="";v+='<div class="list card">';var x=0,y={};for(column in p){if(y={field:p[column].bCol.colCd,visible:"1"==p[column].bCol.visible,headerClass:"centerText",colType:p[column].bCol.colType,editable:"1"==p[column].bCol.editable},p[column].bDict&&(y.displayName=p[column].bDict.dictNm),p[column].bCol.textAlign&&"1"!=p[column].bCol.editable&&(y.cellClass=p[column].bCol.textAlign+"Text"),p[column].bCol.inColIndex&&(y.inColIndex=p[column].bCol.inColIndex),a.colSettings[i.screenCd][p[column].bCol.colCd]={},"1"==p[column].bCol.editable?a.colSettings[i.screenCd][p[column].bCol.colCd].editable=!0:a.colSettings[i.screenCd][p[column].bCol.colCd].editable=!1,p[column].bCol.colType&&"1"==p[column].bCol.visible){for(var z=p[column].bCol.colCd.replaceAll([".","[","]"],"");z!=z.replaceAll([".","[","]"],"");)z=z.replaceAll([".","[","]"],"");var A=b("owfMessage"),B=A(p[column].bColValid.limitMessageCd);B&&B!=p[column].bColValid.limitMessageCd||(B=A("patternError"));var C=i[j.attr("owd-event-options")],D="";if(C&&C[p[column].bCol.colCd])for(var E in C[p[column].bCol.colCd])D+=E+'="'+C[p[column].bCol.colCd][E].eventFunction+'" ';var F=i[j.attr("owd-valid-add-options")],G="exterror:'!"+n+".oneslogi[searchResult.index].config."+z+".optionMessage.show'",H="exterror:'"+n+".oneslogi[searchResult.index].config."+z+".optionMessage.show'";if(F&&F[p[column].bCol.colCd])for(var I in F[p[column].bCol.colCd])G&&(G+=","),G+=I+":'"+F[p[column].bCol.colCd][I].validateFunction+"' ",F[p[column].bCol.colCd][I].validateWatch&&(H&&(H+=","),H+=I+":'"+F[p[column].bCol.colCd][I].validateWatch);G='ui-validate="{'+G+'}" ui-validate-watch="{'+H+'}"';var J=" && !gridform"+z+".gridcol"+z+".$error.exterror";if(F&&F[p[column].bCol.colCd])for(var I in F[p[column].bCol.colCd])J+=" && !gridform"+z+".gridcol"+z+".$error."+I;var K="";if(F&&F[p[column].bCol.colCd])for(var I in F[p[column].bCol.colCd])K+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+".$error."+I+'" ng-bind="\''+p[column].bDict.dictNm+" - ' + "+F[p[column].bCol.colCd][I].validateMessage+'"></span>';K+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.exterror" ng-bind-html="\''+p[column].bDict.dictNm+" - ' + "+n+".oneslogi[searchResult.index].config."+z+'.optionMessage.message"></span>';for(var L=p[column].bCol.colCd.replace(".0.","[0].");L!=L.replace(".0.","[0].");)L=L.replace(".0.","[0].");x%2==0?(v+='<div class="tablet-row">',v+="calcnumber"==p[column].bCol.colType?'<span class="item item-input item-stacked-label owd-stacked-label tablet-col tablet-col-50 tablet-detail" style="white-space:nowrap; height:73px" ng-class="{necessaryColorDetail: column[screenCd][\''+j.attr("id")+"']['"+L+'\'].bCol.necessary == \'1\'}" ng-show="{1}"><ng-form name="gridform'+z+'" owd-form-name="'+o+'" novalidate><div>':'<span class="item item-input item-stacked-label owd-stacked-label tablet-col tablet-col-50 tablet-detail" style="white-space:nowrap; height:73px" ng-class="{necessaryColorDetail: column[screenCd][\''+j.attr("id")+"']['"+L+'\'].bCol.necessary == \'1\'}" ng-show="{1}"><ng-form name="gridform'+z+'" owd-form-name="'+o+"\" novalidate><div ng-class=\"{ 'has-error' : gridform"+z+".gridcol"+z+'.$invalid }">'):v+="calcnumber"==p[column].bCol.colType?'<span class="even-item item item-input item-stacked-label owd-stacked-label tablet-col tablet-col-50 tablet-detail" style="white-space:nowrap; height:73px" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+'\'].bCol.necessary == \'1\'}" ng-show="{1}"><ng-form name="gridform'+z+'" owd-form-name="'+o+'" novalidate><div>':'<span class="even-item item item-input item-stacked-label owd-stacked-label tablet-col tablet-col-50 tablet-detail" style="white-space:nowrap; height:73px" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+'\'].bCol.necessary == \'1\'}" ng-show="{1}"><ng-form name="gridform'+z+'" owd-form-name="'+o+"\" novalidate><div ng-class=\"{ 'has-error' : gridform"+z+".gridcol"+z+'.$invalid }">';var M=i[j.attr("owd-button-options")];switch(v+=M&&M[p[column].bCol.colCd]||"date"==p[column].bCol.colType?'  <div class="owc-card-stacked-label　item item-stacked-label item-button-right" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+"'].bCol.necessary == '1'}\">":"dropdown"==p[column].bCol.colType?'  <label class="owc-card-stacked-label item-select owd-item-stacked-select item-text-wrap" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+"'].bCol.necessary == '1'}\">":"calcnumber"==p[column].bCol.colType?'  <div class="owc-card-stacked-label" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+"'].bCol.necessary == '1'}\">":'  <label class="owc-card-stacked-label" ng-class="{necessaryColor: column[screenCd][\''+j.attr("id")+"']['"+L+"'].bCol.necessary == '1'}\">",p[column].bCol.colType){case"text":if("1"==p[column].bCol.editable){if(v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-show="!gridform'+z+".gridcol"+z+".$error.required && !gridform"+z+".gridcol"+z+".$error.pattern && !gridform"+z+".gridcol"+z+".$error.minlength && !gridform"+z+".gridcol"+z+".$error.maxlength"+J+'" ng-bind="{4}"></span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+".$error.pattern\" ng-bind=\"{4} + ' - ' + '"+B+"'\"></span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[column].bColValid.minChars+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[column].bColValid.maxChars+")}}</span>",v+=K,M&&M[p[column].bCol.colCd]){var N="ion-search";M[p[column].bCol.colCd].icon&&(N=M[p[column].bCol.colCd].icon),v+='    <input type="text"  style="margin-right:65px" class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detailtextvalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" ng-model="'+t+"."+L+'" '+D+" "+G+" errorborder></input>",v+='    <button style="width:48px" tabindex="-1" class="button button-icon button-clear button-dark icon '+N+'" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" ng-click="'+M[p[column].bCol.colCd].clickFunction+'"></button>'}else v+='    <input type="text" class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detailtextvalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" ng-model="'+t+"."+L+'" '+D+" "+G+" errorborder></input>";for(;v!=v.replace("{4}","'"+p[column].bDict.dictNm+"'");)v=v.replace("{4}","'"+p[column].bDict.dictNm+"'")}else v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{'+t+"."+L+"}}</p>";v+=M&&M[p[column].bCol.colCd]?"  </div>":"  </label>";break;case"number":if("1"==p[column].bCol.editable)for(B=A("numberError"),B&&"numberError"!=B||(B=A("patternError")),v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-show="!gridform'+z+".gridcol"+z+".$error.required && !gridform"+z+".gridcol"+z+".$error.pattern && !gridform"+z+".gridcol"+z+".$error.minlength && !gridform"+z+".gridcol"+z+".$error.maxlength && !gridform"+z+".gridcol"+z+".$error.min && !gridform"+z+".gridcol"+z+".$error.max && !gridform"+z+".gridcol"+z+".$error.integerLength && !gridform"+z+".gridcol"+z+".$error.decimalLength && !gridform"+z+".gridcol"+z+".$error.number"+J+'" ng-bind="{4}"></span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[column].bColValid.minChars+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[column].bColValid.maxChars+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[column].bColValid.minNumber+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[column].bColValid.maxNumber+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[column].bColValid.integerLength+")}}</span>",v+=p[column].bColValid.decimalLength&&0<p[column].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[column].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>",v+=K,v+='    <input type="number" class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detailnumbervalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" owd-string-to-number ng-model="'+t+"."+L+'" '+D+" "+G+" errorborder></input>";v!=v.replace("{4}","'"+p[column].bDict.dictNm+"'");)v=v.replace("{4}","'"+p[column].bDict.dictNm+"'");else v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{('+t+"."+L+" | owfNumber)}}</p>";v+="  </label>";break;case"calcnumber":if("1"==p[column].bCol.editable){var O=j.attr("owd-multitext-options"),P=i[j.attr("owd-multitext-options")],Q="";if(C&&C[P[p[column].bCol.colCd].multiTextCd])for(var R in C[P[p[column].bCol.colCd].multiTextCd])Q+=R+'="'+C[P[p[column].bCol.colCd].multiTextCd][R].eventFunction+'" ';var S="exterror:'!"+n+".oneslogi[searchResult.rowIndex].config."+P[p[column].bCol.colCd].multiTextCd+"{0}.optionMessage.show'",T="exterror:'"+n+".oneslogi[searchResult.rowIndex].config."+P[p[column].bCol.colCd].multiTextCd+"{0}.optionMessage.show'";if(F&&F[P[p[column].bCol.colCd].multiTextCd])for(var U in F[P[p[column].bCol.colCd].multiTextCd])S&&(S+=","),S+=U+":'"+F[p[column].bCol.colCd][U].validateFunction+"' ",F[p[column].bCol.colCd][U].validateWatch&&(T&&(T+=","),T+=U+":'"+F[p[column].bCol.colCd][U].validateWatch);S='ui-validate="{'+S+'}" ui-validate-watch="{'+T+'}"';var V=" && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"{0}.$error.exterror";if(F&&F[P[p[column].bCol.colCd].multiTextCd])for(var U in F[P[p[column].bCol.colCd].multiTextCd])V+=" && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"{0}.$error."+I;var W="";if(F&&F[P[p[column].bCol.colCd].multiTextCd])for(var U in F[P[p[column].bCol.colCd].multiTextCd])W+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"{0}.$error."+I+'" ng-bind="\''+p[column].bDict.dictNm+" - ' + "+F[P[p[column].bCol.colCd].multiTextCd][I].validateMessage+'"></span>';if(W+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'{0}.$error.exterror" ng-bind-html="\''+p[column].bDict.dictNm+" - ' + "+n+".oneslogi[searchResult.index].config."+P[p[column].bCol.colCd].multiTextCd+'{0}.optionMessage.message"></span>',B=A("numberError"),B&&"numberError"!=B||(B=A("patternError")),D.indexOf("ng-blur")==-1?D+="ng-blur=\"blurDetailBreakdownQty('"+p[column].bCol.colCd+"')\" ":D=D.replace('ng-blur="',"ng-blur=\"blurDetailBreakdownQty('"+p[column].bCol.colCd+"');"),D.indexOf("ng-change")==-1?D+="ng-change=\"blurDetailBreakdownQty('"+p[column].bCol.colCd+"')\" ":D=D.replace('ng-change="',"ng-change=\"blurDetailBreakdownQty('"+p[column].bCol.colCd+"');"),Q.indexOf("ng-blur")==-1?Q+="ng-blur=\"blurDetailCalcQty('"+p[column].bCol.colCd+"')\" ":Q=Q.replace('ng-blur="',"ng-blur=\"blurDetailCalcQty('"+p[column].bCol.colCd+"');"),Q.indexOf("ng-change")==-1?Q+="ng-change=\"blurDetailCalcQty('"+p[column].bCol.colCd+"')\" ":Q=Q.replace('ng-change="',"ng-change=\"blurDetailCalcQty('"+p[column].bCol.colCd+"');"),P&&P[p[column].bCol.colCd]){v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-show="!gridform'+z+".gridcol"+z+".$error.required && !gridform"+z+".gridcol"+z+".$error.pattern && !gridform"+z+".gridcol"+z+".$error.minlength && !gridform"+z+".gridcol"+z+".$error.maxlength && !gridform"+z+".gridcol"+z+".$error.min && !gridform"+z+".gridcol"+z+".$error.max && !gridform"+z+".gridcol"+z+".$error.integerLength && !gridform"+z+".gridcol"+z+".$error.decimalLength && !gridform"+z+".gridcol"+z+".$error.number"+J+"&&";var X=V.replaceAll("{0}","4");v+=" !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.required && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.pattern && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.minlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.maxlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.min && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.max && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.integerLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.decimalLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"4.$error.number"+X+" &&";var Y=V.replaceAll("{0}","3");v+=" !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.required && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.pattern && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.minlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.maxlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.min && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.max && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.integerLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.decimalLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"3.$error.number"+Y+" &&";var Z=V.replaceAll("{0}","2");v+=" !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.required && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.pattern && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.minlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.maxlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.min && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.max && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.integerLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.decimalLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"2.$error.number"+Z+" &&";var $=V.replaceAll("{0}","1");v+=" !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.required && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.pattern && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.minlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.maxlength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.min && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.max && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.integerLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.decimalLength && !gridform"+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+"1.$error.number"+$,v+='" ng-bind="{4}"></span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[column].bColValid.minChars+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[column].bColValid.maxChars+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[column].bColValid.minNumber+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[column].bColValid.maxNumber+")}}</span>",v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[column].bColValid.integerLength+")}}</span>",v+=p[column].bColValid.decimalLength&&0<p[column].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[column].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>",v+=K,w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxChars+")}}</span>",
w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.integerLength+")}}</span>",w+=p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength&&0<p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>";var _=W.replaceAll("{0}","4");w+=_,w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.integerLength+")}}</span>",w+=p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength&&0<p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>";var aa=W.replaceAll("{0}","3");w+=aa,w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.integerLength+")}}</span>",w+=p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength&&0<p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>";var ba=W.replaceAll("{0}","2");w+=ba,w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.pattern">'+p[column].bDict.dictNm+" - "+B+"</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.minlength">{{{4} + " - " + ("minlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.maxlength">{{{4} + " - " + ("maxlengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxChars+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.min">{{{4} + " - " + ("minError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.minNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.max">{{{4} + " - " + ("maxError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.maxNumber+")}}</span>",w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.integerLength">{{{4} + " - " + ("integerLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.integerLength+")}}</span>",w+=p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength&&0<p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength?'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.decimalLength">{{{4} + " - " + ("decimalLengthError" | owfMessage:'+p[P[p[column].bCol.colCd].multiTextCd].bColValid.decimalLength+")}}</span>":'    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.decimalLength">{{{4} + " - " + ("integerError" | owfMessage)}}</span>',w+='    <span class="input-label error-label" ng-show="gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$error.number">'+p[column].bDict.dictNm+" - "+B+"</span>";var ca=W.replaceAll("{0}","1");w+=ca,v+=w,v+='    <div class="form-inline" style="display: flex;">',v+='      <span style="width:100%">',v+="        <label ng-class=\"{ 'has-error' : gridform"+z+".gridcol"+z+'.$invalid }">',v+='          <input type="number" style="width:80%;height:38px;float:left;padding:0;" class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detailcalcnumbervalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" owd-string-to-number ng-model="'+t+"."+L+'" '+D+" "+G+" errorborder></input>",v+='          <span style="display:flex;margin-top:19px;" ng-bind="'+O+"."+p[column].bCol.colCd+'.model[0].defaultUnit"></span>',v+="        </label>",v+="      </span>",v+='      <span style="width:4%;font-size:30px;margin-top:5px;padding-right:3px;">(</span>',v+='      <ng-form name="gridform'+P[p[column].bCol.colCd].multiTextCd+'" owd-form-name="'+o+'" novalidate>',v+="        <div>",v+='            <span style="display:flex;">',v+='              <label class="multiText-label" ng-class="{ \'has-error\' : gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'4.$invalid }">';var da=P[p[column].bCol.colCd].multiTextCd+"4",ea=S.replaceAll("{0}","4");v+='                <input type="number" style="width:45px;height:19px;display:inline;vertical-align:top;padding-top:0px;padding:0;" class="'+p[P[p[column].bCol.colCd].multiTextCd].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+P[p[column].bCol.colCd].multiTextCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+da+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+P[p[column].bCol.colCd].multiTextCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+da+'.editable)" owd-detailcalcnumbervalid="'+j.attr("id")+"@"+P[p[column].bCol.colCd].multiTextCd+'" ng-input="'+O+"."+p[column].bCol.colCd+'.model[3].value" name="gridcol'+da+'" owd-string-to-number ng-model="'+O+"."+p[column].bCol.colCd+'.model[3].value" '+Q+" "+ea+" errorborder></input>",v+='                <span ng-bind="'+O+"."+p[column].bCol.colCd+'.model[3].unit"></span>',v+="              </label>",v+='              <label class="multiText-label" ng-class="{ \'has-error\' : gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'3.$invalid }">';var fa=P[p[column].bCol.colCd].multiTextCd+"3",ga=S.replaceAll("{0}","3");v+='                <input type="number" style="width:45px;height:19px;float:left;vertical-align:top;padding-top:0px;padding:0;" class="'+p[P[p[column].bCol.colCd].multiTextCd].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+P[p[column].bCol.colCd].multiTextCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+fa+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+P[p[column].bCol.colCd].multiTextCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+fa+'.editable)" owd-detailcalcnumbervalid="'+j.attr("id")+"@"+P[p[column].bCol.colCd].multiTextCd+'" ng-input="'+O+"."+p[column].bCol.colCd+'.model[2].value" name="gridcol'+fa+'" owd-string-to-number ng-model="'+O+"."+p[column].bCol.colCd+'.model[2].value" '+Q+" "+ga+" errorborder></input>",v+='                <span style="padding-left:5px;" ng-bind="'+O+"."+p[column].bCol.colCd+'.model[2].unit"></span>',v+="              </label>",v+="            </span>",v+='            <span style="display:flex;">',v+='              <label class="multiText-label" ng-class="{ \'has-error\' : gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'2.$invalid }">';var ha=P[p[column].bCol.colCd].multiTextCd+"2",ia=S.replaceAll("{0}","2");v+='                <input type="number" style="width:45px;height:19px;display:inline;vertical-align:top;padding-top:0px;padding:0;" class="'+p[P[p[column].bCol.colCd].multiTextCd].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+P[p[column].bCol.colCd].multiTextCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+ha+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+P[p[column].bCol.colCd].multiTextCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+ha+'.editable)" owd-detailcalcnumbervalid="'+j.attr("id")+"@"+P[p[column].bCol.colCd].multiTextCd+'" ng-input="'+O+"."+p[column].bCol.colCd+'.model[1].value" name="gridcol'+ha+'" owd-string-to-number ng-model="'+O+"."+p[column].bCol.colCd+'.model[1].value" '+Q+" "+ia+" errorborder></input>",v+='                <span ng-bind="'+O+"."+p[column].bCol.colCd+'.model[1].unit"></span>',v+="              </label>",v+='              <label class="multiText-label" ng-class="{ \'has-error\' : gridform'+P[p[column].bCol.colCd].multiTextCd+".gridcol"+P[p[column].bCol.colCd].multiTextCd+'1.$invalid }">';var ja=P[p[column].bCol.colCd].multiTextCd+"1",ka=S.replaceAll("{0}","1");for(v+='                <input type="number" style="width:45px;height:19px;float:left;vertical-align:top;padding-top:0px;padding:0;" class="'+p[P[p[column].bCol.colCd].multiTextCd].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+P[p[column].bCol.colCd].multiTextCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+ja+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+P[p[column].bCol.colCd].multiTextCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+ja+'.editable)" owd-detailcalcnumbervalid="'+j.attr("id")+"@"+P[p[column].bCol.colCd].multiTextCd+'" ng-input="'+O+"."+p[column].bCol.colCd+'.model[0].value" name="gridcol'+ja+'" owd-string-to-number ng-model="'+O+"."+p[column].bCol.colCd+'.model[0].value" '+Q+" "+ka+" errorborder></input>",v+='                <span style="padding-left:5px;" ng-bind="'+O+"."+p[column].bCol.colCd+'.model[0].unit"></span>',v+="              </label>",v+="            </span>",v+="        </div>",v+="      </ng-form>",v+='      <span style="width:1%;font-size:30px;margin-top:5px;">)</span>',v+="    </div>";v!=v.replace("{4}","'"+p[column].bDict.dictNm+"'");)v=v.replace("{4}","'"+p[column].bDict.dictNm+"'")}}else v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{('+t+"."+L+" | owfNumber)}}</p>";v+="  </div>";break;case"dropdown":var la=i[j.attr("owd-select-options")];if(la&&la[p[column].bCol.colCd]){var ma="key",na="value",oa="true",pa=!1;if(la[p[column].bCol.colCd].key&&(ma=la[p[column].bCol.colCd].key),la[p[column].bCol.colCd].value&&(na=la[p[column].bCol.colCd].value),"undefined"!=typeof la[p[column].bCol.colCd].viewWithKey&&(oa=la[p[column].bCol.colCd].viewWithKey,"boolean"==typeof oa&&(oa=""+oa)),"undefined"!=typeof la[p[column].bCol.colCd].removeBlank&&(pa=!0),"1"==p[column].bCol.editable)for(v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-show="!gridform'+z+".gridcol"+z+'.$error.required">{{{4}}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',v+='    <select class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detailselectvalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" ng-model="'+t+"."+L+'" ng-options="obj.'+ma+" as formatViewValue(obj) for obj in "+la[p[column].bCol.colCd].listModel+'"  '+D+" "+G+' owd-models="'+la[p[column].bCol.colCd].listModel+'" owd-repeat-key="'+ma+'" owd-repeat-value="'+na+'" owd-repeat-view-with-key="'+oa+'">',pa||(v+='<option value=""></option>'),v+="</select>";v!=v.replace("{4}","'"+p[column].bDict.dictNm+"'");)v=v.replace("{4}","'"+p[column].bDict.dictNm+"'");else{var qa;angular.forEach(g.getDotValue(i,la[p[column].bCol.colCd].listModel),function(a,b){a[ma]==g.getDotValue(i,t+"."+L)&&(qa=b)}),v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{formatViewValueUneditable('+la[p[column].bCol.colCd].listModel+"["+qa+"],'"+ma+"','"+na+"','"+oa+"')}}</p>"}}else v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{'+t+"."+L+"}}</p>";v+="  </label>";break;case"date":if("1"==p[column].bCol.editable){for(D.indexOf("ng-blur")==-1?D+='ng-blur="blurFormat()" ':D=D.replace('ng-blur="','ng-blur="blurFormat();'),v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-show="!gridform'+z+".gridcol"+z+".$error.required && !gridform"+z+".gridcol"+z+".$error.date"+J+'" ng-bind="{4}"></span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.required">{{{4} + " - " + ("requiredError" | owfMessage)}}</span>',v+='    <span class="input-label error-label" ng-show="gridform'+z+".gridcol"+z+'.$error.date">{{{4} + " - " + ("dateError" | owfMessage:dateFormat)}}</span>',v+=K,v+='    <input type="text" class="'+p[column].bCol.textAlign+"Text\" ng-class=\"{'owc-editable-border': (colSettings[screenCd]['"+p[column].bCol.colCd+"'].editable) && ("+n+".oneslogi[searchResult.index].config."+z+'.editable)}" ng-trim="false" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" owd-detaildatevalid="'+j.attr("id")+"@"+p[column].bCol.colCd+'" ng-input="'+t+"."+L+'" name="gridcol'+z+'" ng-model="'+t+"."+L+'" '+D+" "+G+" errorborder></input>",v+='    <button style="width:48px" tabindex="-1" class="button button-icon button-clear button-dark icon ion-calendar" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" ng-click="openDatePicker('+t+"."+L+", '"+p[column].bCol.colCd+"')\"></button>";v!=v.replace("{4}","'"+p[column].bDict.dictNm+"'");)v=v.replace("{4}","'"+p[column].bDict.dictNm+"'");var ra={callback:function(a){g.setDotValue(i,t+"."+ra.columnName,g.dateToString(new Date(a)))},setLabel:u.set,closeLabel:u.close,mondayFirst:!1,weeksList:u.weeksList,monthsList:u.monthsList,closeOnSelect:!1,templateType:"popup",dateFormat:a.dateFormat};i.openDatePicker=function(a,b){var c=g.stringToDateType(a);if("[object Date]"===Object.prototype.toString.call(c))ra.inputDate=c;else{var d=g.stringToDateType(f.systemDt);"[object Date]"===Object.prototype.toString.call(d)?ra.inputDate=d:ra.inputDate=new Date}ra.columnName=b,e.openDatePicker(ra)}}else v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{('+t+"."+L+" | owfDateFromString)}}</p>";v+="  </div>";break;case"datetime":v+='    <span class="input-label" ng-class="\'owc-editable-label\'" ng-bind="\''+p[column].bDict.dictNm+"'\"></span>",v+='    <p class="owc-uneditable-detail '+p[column].bCol.textAlign+'Text" name="gridcol'+z+'">{{('+t+"."+L+" | date:'medium')}}</p>",v+="  </label>";break;case"button":var sa,M=i[j.attr("owd-button-options")],ta="left";"right"!=M[p[column].bCol.colCd].side&&"left"!=M[p[column].bCol.colCd].side||(ta=M[p[column].bCol.colCd].side),M&&M[p[column].bCol.colCd]&&(M[p[column].bCol.colCd].icon&&(sa="icon-"+ta+" "+M[p[column].bCol.colCd].icon),v+='    <div class="padding-horizontal">',v+='      <button class="button button-block '+M[p[column].bCol.colCd].buttonType+" "+sa+'" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" ng-click="'+M[p[column].bCol.colCd].clickFunction+';$event.stopPropagation();">',M[p[column].bCol.colCd].text&&(v+=M[p[column].bCol.colCd].text),v+="      </button>",v+="    </div>"),v+="  </label>";break;case"checkbox":var ua=i[j.attr("owd-checkbox-options")],va="1",wa="0",xa="";ua&&ua[p[column].bCol.colCd]&&(ua[p[column].bCol.colCd].trueValue&&(va=ua[p[column].bCol.colCd].trueValue),ua[p[column].bCol.colCd].falseValue&&(wa=ua[p[column].bCol.colCd].falseValue),ua[p[column].bCol.colCd].changeFunction&&(xa=ua[p[column].bCol.colCd].changeFunction)),v+='<ion-checkbox ng-model="'+t+"."+L+'" ng-true-value="\''+va+"'\" ng-false-value=\"'"+wa+'\'" ng-change="'+xa+'" ng-disabled="(!colSettings[screenCd][\''+p[column].bCol.colCd+"'].editable) || (!"+n+".oneslogi[searchResult.index].config."+z+'.editable)" name="gridcol'+z+"\">{{'"+p[column].bDict.dictNm+"'}}</ion-checkbox>",v+="  </label>"}if("1"==p[column].bCol.editable)for(;v!=v.replace("{1}","((column[screenCd]['"+k.id+"']['"+p[column].bCol.colCd+"'].bCol.visible) && ("+n+".oneslogi[searchResult.index].config."+z+".show))");)v=v.replace("{1}","((column[screenCd]['"+k.id+"']['"+p[column].bCol.colCd+"'].bCol.visible) && ("+n+".oneslogi[searchResult.index].config."+z+".show))");else v=v.replace('ng-show="{1}"',"");v+="</div></ng-form></span>",x%2==1&&(v+="</div>"),x+=1}"1"!=p[column].bCol.editable||"button"!=p[column].bCol.colType&&"text"!=p[column].bCol.colType&&"number"!=p[column].bCol.colType&&"calcnumber"!=p[column].bCol.colType&&"date"!=p[column].bCol.colType&&"dropdown"!=p[column].bCol.colType&&"checkbox"!=p[column].bCol.colType||(l=!0),m.push(y)}m.length>0&&(i[n].columnDefs=m,i[n].oneslogi=[],i[n].ngGrid={},i[n].ngGrid.rowCache=[],l&&(i.$on("ngDetailEventData",function(a){var b;if("string"==typeof i[n].data?isNullOrUndefined(i.$parent)||isNullOrUndefined(i.$parent.$parent)||isNullOrUndefined(i.$parent.$parent.$parent)||isNullOrUndefined(i.$parent.$parent.$parent.detailEventDataList)||(b=[],b=i.$parent.$parent.$parent.detailEventDataList):b=i[n].data,null==b)return i[n].oneslogi=[],void d.debug("[ngDetailEventData event]dataObj is null.");var c=b.length;if(null==c)return i[n].oneslogi=[],void d.debug("[ngDetailEventData event]dataObj.dataLength is null.");null==i[n].oneslogi&&(i[n].oneslogi=[]);var e;e="string"==typeof i[n].columnDefs?i[i[n].columnDefs]:i[n].columnDefs;var f=i[n].oneslogi;i[n].oneslogi=[];for(var g=0;g<c;g++){for(var h=!1,k=0;k<f.length;k++)if(f[k].entity==b[g]){h=!0,i[n].oneslogi.push(f[k]),f.splice(k,1);break}if(!h)if(f[g]){i[n].oneslogi[g]=f[g],i[n].oneslogi[g].entity=b[g],i[n].oneslogi[g].config.validity=!0;for(var l=0;l<e.length;l++){if(e[l].editable){for(var m=e[l].field.replaceAll([".","[","]"],"");m!=m.replaceAll([".","[","]"],"");)m=m.replaceAll([".","[","]"],"");i[n].oneslogi[g].config[m].editable=!0,i[n].oneslogi[g].config[m].show=!0,i[n].oneslogi[g].config[m].optionMessage={},i[n].oneslogi[g].config[m].optionMessage.show=!1,i[n].oneslogi[g].config[m].optionMessage.message=""}if("calcnumber"==e[l].colType){for(var m=e[l].field.replaceAll([".","[","]"],"");m!=m.replaceAll([".","[","]"],"");)m=m.replaceAll([".","[","]"],"");for(var o,p=i[j.attr("owd-multitext-options")],q=p[e[l].field].model,r=p[e[l].field].multiTextCd,s=(b[g],0);s<e.length;s++)if(e[s].field==r){o=s;break}for(var t=0;t<q.length;t++){var u=r+(t+1);i[n].oneslogi[g].config[u]={},i[n].oneslogi[g].config[u].defaultEditable=e[o].editable,i[n].oneslogi[g].config[u].editable=!0,i[n].oneslogi[g].config[u].show=!0,i[n].oneslogi[g].config[u].optionMessage={},i[n].oneslogi[g].config[u].optionMessage.show=!1,i[n].oneslogi[g].config[u].optionMessage.message=""}}}}else{i[n].oneslogi[g]={},i[n].oneslogi[g].entity=b[g],i[n].oneslogi[g].config={},i[n].oneslogi[g].config.validity=!0;for(var l=0;l<e.length;l++){if(e[l].editable){for(var m=e[l].field.replaceAll([".","[","]"],"");m!=m.replaceAll([".","[","]"],"");)m=m.replaceAll([".","[","]"],"");i[n].oneslogi[g].config[m]={},i[n].oneslogi[g].config[m].editable=!0,i[n].oneslogi[g].config[m].show=!0,i[n].oneslogi[g].config[m].optionMessage={},i[n].oneslogi[g].config[m].optionMessage.show=!1,i[n].oneslogi[g].config[m].optionMessage.message=""}if("calcnumber"==e[l].colType){for(var m=e[l].field.replaceAll([".","[","]"],"");m!=m.replaceAll([".","[","]"],"");)m=m.replaceAll([".","[","]"],"");for(var o,p=i[j.attr("owd-multitext-options")],q=p[e[l].field].model,r=p[e[l].field].multiTextCd,s=(b[g],0);s<e.length;s++)if(e[s].field==r){o=s;break}for(var t=0;t<q.length;t++){var u=r+(t+1);i[n].oneslogi[g].config[u]={},i[n].oneslogi[g].config[u].defaultEditable=e[o].editable,i[n].oneslogi[g].config[u].editable=!0,i[n].oneslogi[g].config[u].show=!0,i[n].oneslogi[g].config[u].optionMessage={},i[n].oneslogi[g].config[u].optionMessage.show=!1,i[n].oneslogi[g].config[u].optionMessage.message=""}}}i.$emit("ngDetailEventDataReturn",g,b[g])}}i[n].ngGrid.rowCache=b}),i.$emit("ngDetailEventData"))),v+="</div>";var ya=angular.element(v);j.replaceWith(ya),c(ya)(i)},require:"^?owdScreen",controller:["$scope","$element","$attrs","$filter","$parse","$ionicPlatform","owsMaster","owsCommon","owsCommonSd","detailMultiTextControl",function(b,c,d,e,f,g,h,i,j,k){h.setMaster(b,c,a),b.owsCommon={},b.owsCommon.getDotValue=i.getDotValue,b.formatViewValueUneditable=function(a,b,c,d){return d?null==i.getDotValue(a,b)?i.getDotValue(a,c):i.getDotValue(a,b)+":"+i.getDotValue(a,c):i.getDotValue(a,c)},b.blurDetailBreakdownQty=function(a){var d=c.attr("owd-detail-item"),e=c.attr("owd-multitext-options"),f=d+"."+a,g=j.getDotValue(b,f);i.getCalcAuxiliaryBreakdown(b,g,e,a);var h=c.attr("ng-detail"),l=c.attr("owd-detail-index"),m=j.getDotValue(b,l);k.checkDecimalInput(b,g,b[h],e,a,m)},b.blurDetailCalcQty=function(a){var d=c.attr("owd-detail-item"),e=c.attr("owd-multitext-options"),f=j.getDotValue(b,d),g=j.getDotValue(f,a),h=b[e][a].model,l=i.getCalcQty(g,h),m=d+"."+a;j.setDotValue(b,m,l);var n=c.attr("ng-detail"),o=c.attr("owd-detail-index"),p=j.getDotValue(b,o);k.checkDecimalInput(b,l,b[n],e,a,p)}}]}}]).directive("owdDetailtextvalid",["$rootScope","validControl",function(a,b){return{restrict:"A",scope:!0,require:"ngModel",link:function(c,d,e,f){for(var g=d.attr("owd-detailtextvalid").split("@"),h=g[1];h!=h.replaceAll([".","[","]"],"");)h=h.replaceAll([".","[","]"],"");var i=$("#"+g[0]);angular.element(i[0]).attr("ng-grid");if(a.column[c.screenCd][g[0]][g[1]]){var j=a.column[c.screenCd][g[0]][g[1]];if("1"==j.bCol.necessary){d.attr("required","required");var k=function(a){return f.$setValidity("required",b.required(a)),a};f.$formatters.push(k),f.$parsers.push(k)}if(j.bColValid.inputLimit){var l=function(a){return f.$setValidity("pattern",b.pattern(a,j.bColValid.inputLimit)),a};f.$formatters.push(l),f.$parsers.push(l)}if(null!==j.bColValid.minChars){var m=function(a){return f.$setValidity("minlength",b.minlength(a,j.bColValid.minChars)),a};f.$formatters.push(m),f.$parsers.push(m)}if(null!==j.bColValid.maxChars){var n=function(a){return f.$setValidity("maxlength",b.maxlength(a,j.bColValid.maxChars)),a};f.$formatters.push(n),f.$parsers.push(n)}}}}}]).directive("owdDetailnumbervalid",["$rootScope","validControl","$locale","$filter","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:!0,require:"ngModel",link:function(e,f,g,h){e.blurFormat=function(){var a=b.pattern(h.$viewValue,m);if(a&&!isNullOrUndefined(h.$viewValue)&&""!=h.$viewValue){var c=d("owfNumber")(h.$viewValue);h.$setViewValue(c),h.$render()}};for(var i=f.attr("owd-detailnumbervalid").split("@"),j=i[1];j!=j.replaceAll([".","[","]"],"");)j=j.replaceAll([".","[","]"],"");if(a.column[e.screenCd][i[0]][i[1]]){var k=a.column[e.screenCd][i[0]][i[1]];if("1"==k.bCol.necessary){f.attr("required","required");var l=function(a){return"null"===a&&(a=""),h.$setValidity("required",b.required(a)),a};h.$formatters.push(l),h.$parsers.push(l)}var m="^[-]?(0|[1-9][0-9]{0,2}(["+c.NUMBER_FORMATS.GROUP_SEP+"]?[0-9]{3})*)(\\"+c.NUMBER_FORMATS.DECIMAL_SEP+"[0-9]+)?$",n=function(a){"null"===a&&(a="");var c=b.pattern(a,m);return h.$setValidity("pattern",c),c?d("owfNumber")(a):a},o=function(a){"null"===a&&(a="");var c=b.pattern(a,m);if(h.$setValidity("pattern",c),c){if("string"==typeof a){var d=a.replaceAll(",","");if(!d)return null;var e=parseFloat(d);if(0<e.toString().indexOf("e"))return a;var f=new Decimal(d);return e.toString()==f.toString()?e:a}return a}return a};if(h.$formatters.push(n),h.$parsers.push(o),null!==k.bColValid.minNumber){var p=function(a){return"null"===a&&(a=""),h.$setValidity("min",b.min(a,k.bColValid.minNumber)),a};h.$formatters.push(p),h.$parsers.push(p)}if(null!==k.bColValid.maxNumber){var q=function(a){return"null"===a&&(a=""),h.$setValidity("max",b.max(a,k.bColValid.maxNumber)),a};h.$formatters.push(q),h.$parsers.push(q)}if(null!==k.bColValid.integerLength){var r=function(a){return"null"===a&&(a=""),h.$setValidity("integerLength",b.integerlength(a,k.bColValid.integerLength)),a};h.$formatters.push(r),h.$parsers.push(r)}if(null!==k.bColValid.decimalLength){var s=function(a){return"null"===a&&(a=""),h.$setValidity("decimalLength",b.decimallength(a,k.bColValid.decimalLength)),a};h.$formatters.push(s),h.$parsers.push(s)}}}}}]).directive("owdDetailcalcnumbervalid",["$rootScope","validControl","$locale","$filter","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:!0,require:"ngModel",link:function(e,f,g,h){e.blurFormat=function(){var a=b.pattern(h.$viewValue,m);if(a&&!isNullOrUndefined(h.$viewValue)&&""!=h.$viewValue){
var c=d("owfNumber")(h.$viewValue);h.$setViewValue(c),h.$render()}};for(var i=f.attr("owd-detailcalcnumbervalid").split("@"),j=i[1];j!=j.replaceAll([".","[","]"],"");)j=j.replaceAll([".","[","]"],"");if(a.column[e.screenCd][i[0]][i[1]]){var k=a.column[e.screenCd][i[0]][i[1]];if("1"==k.bCol.necessary){f.attr("required","required");var l=function(a){return"null"===a&&(a=""),h.$setValidity("required",b.required(a)),a};h.$formatters.push(l),h.$parsers.push(l)}var m="^[-]?(0|[1-9][0-9]{0,2}(["+c.NUMBER_FORMATS.GROUP_SEP+"]?[0-9]{3})*)(\\"+c.NUMBER_FORMATS.DECIMAL_SEP+"[0-9]+)?$",n=function(a){"null"===a&&(a="");var c=b.pattern(a,m);return h.$setValidity("pattern",c),c?a:a},o=function(a){"null"===a&&(a="");var c=b.pattern(a,m);if(h.$setValidity("pattern",c),c){if("string"==typeof a){var d=a.replaceAll(",","");if(!d)return null;var e=parseFloat(d);if(0<e.toString().indexOf("e"))return a;var f=new Decimal(d);return e.toString()==f.toString()?e:a}return a}return a};if(h.$formatters.push(n),h.$parsers.push(o),null!==k.bColValid.minNumber){var p=function(a){return"null"===a&&(a=""),h.$setValidity("min",b.min(a,k.bColValid.minNumber)),a};h.$formatters.push(p),h.$parsers.push(p)}if(null!==k.bColValid.maxNumber){var q=function(a){return"null"===a&&(a=""),h.$setValidity("max",b.max(a,k.bColValid.maxNumber)),a};h.$formatters.push(q),h.$parsers.push(q)}if(null!==k.bColValid.integerLength){var r=function(a){return"null"===a&&(a=""),h.$setValidity("integerLength",b.integerlength(a,k.bColValid.integerLength)),a};h.$formatters.push(r),h.$parsers.push(r)}if(null!==k.bColValid.decimalLength){var s=function(a){return"null"===a&&(a=""),h.$setValidity("decimalLength",b.decimallength(a,k.bColValid.decimalLength)),a};h.$formatters.push(s),h.$parsers.push(s)}}}}}]).directive("owdDetailselectvalid",["$rootScope","validControl","owsCommon",function(a,b,c){return{restrict:"A",scope:!0,require:"ngModel",controller:["$scope","$element",function(a,b){var d=b.attr("owd-models"),e="key",f="value",g=!0;if(b.attr("owd-repeat-key")&&(e=b.attr("owd-repeat-key")),b.attr("owd-repeat-value")&&(f=b.attr("owd-repeat-value")),b.attr("owd-repeat-view-with-key")){var h=b.attr("owd-repeat-view-with-key");"string"==typeof h?(h=h.replace(/(^\s+)|(\s+$)/g,""),h=h.toLowerCase(),"false"==h&&(g=!1)):"boolean"==typeof h&&(g=b.attr("owd-repeat-view-with-key"))}var i=b.attr("ng-model");a.formatViewValue=function(a){return g?null==c.getDotValue(a,e)?c.getDotValue(a,f):c.getDotValue(a,e)+":"+c.getDotValue(a,f):c.getDotValue(a,f)},a.$watch(d,function(b,f){var g=!1;if(a[d]){for(var h=a[d].length,j=c.getDotValue(a,i),k=0;k<h;k++)c.getDotValue(a[d][k],e)==j&&(g=!0);g||c.setDotValue(a,i,null)}})}],link:function(d,e,f,g){for(var h=e.attr("owd-detailselectvalid").split("@"),i=h[1];i!=i.replaceAll([".","[","]"],"");)i=i.replaceAll([".","[","]"],"");var j=e.attr("owd-models"),k="key";e.attr("owd-repeat-key")&&(k=e.attr("owd-repeat-key"));var l=function(a){var b=!1;if(d[j]){for(var e=d[j].length,f=0;f<e;f++)c.getDotValue(d[j][f],k)==g.$modelValue&&(b=!0);if(!b)return""}return a};if(g.$formatters.push(l),a.column[d.screenCd][h[0]][h[1]]){var m=a.column[d.screenCd][h[0]][h[1]];if("1"==m.bCol.necessary){e.attr("required","required");var n=function(a){return g.$setValidity("required",!0),a};g.$formatters.push(n),g.$parsers.push(n),d.$watchCollection("watchVar.oneslogi[searchResult.index].config",function(){g.$setValidity("required",b.required(g.$viewValue))},!0)}}}}}]).directive("owdDetaildatevalid",["$rootScope","validControl","owsCommon","$timeout",function(a,b,c,d){return{restrict:"A",scope:!1,require:"ngModel",link:function(e,f,g,h){e.blurFormat=function(){var a=c.stringDateFormat(h.$viewValue);h.$setViewValue(a),h.$render()};for(var i=f.attr("owd-detaildatevalid").split("@"),j=i[1];j!=j.replaceAll([".","[","]"],"");)j=j.replaceAll([".","[","]"],"");var k=$("#"+i[0]),l=angular.element(k[0]).attr("ng-grid");if(a.column[e.screenCd][i[0]][i[1]]){var m=a.column[e.screenCd][i[0]][i[1]];if("1"==m.bCol.necessary){f.attr("required","required");var n=function(a){return e[l].oneslogi[e.row.rowIndex].config.validity?h.$setValidity("required",b.required(a)):h.$setValidity("required",!0),a};h.$formatters.push(n),h.$parsers.push(n),e.watchVar=e[l],e.$watchCollection("watchVar.oneslogi[searchResult.index].config",function(){e.watchVar.oneslogi[e.row.rowIndex].config.validity?h.$setValidity("required",b.required(h.$viewValue)):h.$setValidity("required",!0)},!0)}var o=function(a){return h.$setValidity("date",b.date(a,h.$modelValue)),a};h.$formatters.push(o),h.$parsers.push(o),h.$formatters.push(function(a){if(a){if("string"==typeof a&&8==a.length&&RegExp("(19[0-9]{2}|[2-9]{1}[0-9]{1}[0-9]{2})(0[1-9]|1[0-2])(3[01]|[12][0-9]|0[1-9])").test(a))return c.stringToDate(a);if("string"==typeof a&&c.dateRegExp().test(a)&&c.isDate(a,c.dateRegExp()))return d(function(){h.$setViewValue(a)},3),a}return a}),h.$parsers.push(function(a){var b=c.dateToString(a);return c.isDate(a,c.dateRegExp())?e.date=b:e.date=null,b})}}}}]).factory("validControl",["$rootScope","$locale","owsCommon",function(a,b,c){return{required:function(a){return null!=a&&""!==a},pattern:function(a,b){var c=new RegExp(b);return!this.required(a)||!!c.test(a)},minlength:function(a,b){return!this.required(a)||String(a).length>=b},maxlength:function(a,b){return!this.required(a)||String(a).length<=b},min:function(a,c){if(this.required(a)){if("string"==typeof a)for(;a!==a.replace(b.NUMBER_FORMATS.GROUP_SEP,"");)a=a.replace(b.NUMBER_FORMATS.GROUP_SEP,"");var d=Number(a);return!!isNaN(d)||d>=Number(c)}return!0},max:function(a,c){if(this.required(a)){if("string"==typeof a)for(;a!==a.replace(b.NUMBER_FORMATS.GROUP_SEP,"");)a=a.replace(b.NUMBER_FORMATS.GROUP_SEP,"");var d=Number(a);return!!isNaN(d)||d<=Number(c)}return!0},date:function(a,b){return!this.required(a)||"string"==typeof a&&(!!c.dateRegExp().test(a)&&c.isDate(a,c.dateRegExp()))},integerlength:function(a,c){if(this.required(a)){for(var d=String(a).split(b.NUMBER_FORMATS.DECIMAL_SEP),e=d[0];e!==e.replace("-","");)e=e.replace("-","");if("string"==typeof e)for(;e!==e.replace(b.NUMBER_FORMATS.GROUP_SEP,"");)e=e.replace(b.NUMBER_FORMATS.GROUP_SEP,"");var f=new RegExp("^[0-9]*$");return!f.test(e)||!(e.length>c)}return!0},decimallength:function(a,c){if(this.required(a)){if(0==c&&String(a).indexOf(b.NUMBER_FORMATS.DECIMAL_SEP)>-1)return!1;var d=String(a).split(b.NUMBER_FORMATS.DECIMAL_SEP);if(2===d.length){for(var e=d[1];e!==e.replace("-","");)e=e.replace("-","");if("string"==typeof e)for(;e!==e.replace(b.NUMBER_FORMATS.GROUP_SEP,"");)e=e.replace(b.NUMBER_FORMATS.GROUP_SEP,"");var f=new RegExp("^[0-9]*$");return!f.test(e)||!(e.length>c)}return!0}return!0}}}]).factory("owsCommonSd",["$filter","$rootScope","$log","$timeout","$location",function(a,b,c,d,e){return{getDefaultPagingOptions:function(){return{pageSize:sdListLoadSize,currentPage:1}},getSdCalendarValue:function(){var b=a("owfMessage"),c=b("sdCalendarMon");c=this.getDefaultMessageValue(c,"sdCalendarMon","月");var d=b("sdCalendarTue");d=this.getDefaultMessageValue(d,"sdCalendarTue","火");var e=b("sdCalendarWed");e=this.getDefaultMessageValue(e,"sdCalendarWed","水");var f=b("sdCalendarThu");f=this.getDefaultMessageValue(f,"sdCalendarThu","木");var g=b("sdCalendarFri");g=this.getDefaultMessageValue(g,"sdCalendarFri","金");var h=b("sdCalendarSat");h=this.getDefaultMessageValue(h,"sdCalendarSat","土");var i=b("sdCalendarSun");i=this.getDefaultMessageValue(i,"sdCalendarSun","日");var j=b("sdCalendarJan");j=this.getDefaultMessageValue(j,"sdCalendarJan","1月");var k=b("sdCalendarFeb");k=this.getDefaultMessageValue(k,"sdCalendarFeb","2月");var l=b("sdCalendarMar");l=this.getDefaultMessageValue(l,"sdCalendarMar","3月");var m=b("sdCalendarApr");m=this.getDefaultMessageValue(m,"sdCalendarApr","4月");var n=b("sdCalendarMay");n=this.getDefaultMessageValue(n,"sdCalendarMay","5月");var o=b("sdCalendarJun");o=this.getDefaultMessageValue(o,"sdCalendarJun","6月");var p=b("sdCalendarJul");p=this.getDefaultMessageValue(p,"sdCalendarJul","7月");var q=b("sdCalendarAug");q=this.getDefaultMessageValue(q,"sdCalendarAug","8月");var r=b("sdCalendarSep");r=this.getDefaultMessageValue(r,"sdCalendarSep","9月");var s=b("sdCalendarOct");s=this.getDefaultMessageValue(s,"sdCalendarOct","10月");var t=b("sdCalendarNov");t=this.getDefaultMessageValue(t,"sdCalendarNov","11月");var u=b("sdCalendarDec");u=this.getDefaultMessageValue(u,"sdCalendarDec","12月");var v=b("selectInformation");v=this.getDefaultMessageValue(v,"selectInformation","選択");var w=b("cancel");w=this.getDefaultMessageValue(w,"cancel","閉じる");var x=[i,c,d,e,f,g,h],y=[j,k,l,m,n,o,p,q,r,s,t,u],z={weeksList:x,monthsList:y,set:v,close:w};return z},getDefaultMessageValue:function(a,b,c){return a&&a!=b||(a="*"+c),a},getDotValue:function(a,b){for(var c,d=/\./,e=a,f=b.split(d);c=f.shift();)if(e=e[c],isNullOrUndefined(e)||""===e)return null;return e},setDotValue:function(a,b,c){for(var d=/\./,e=a,f=b.split(d),g=0;g<f.length-1;g++)if(e=e[f[g]],isNullOrUndefined(e)||""===e)return null;e[f[f.length-1]]=c}}}]).directive("owdStringToNumber",["$rootScope",function(a){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b;if(null!=a){if(b=a.toString(),b.indexOf("e+")!=-1){b=b.replaceAll("e+",""),b.indexOf(".")!=-1&&(b=b.replaceAll(".",""));for(var c=b.length;c<16;c++)b+=0}}else b=""+a;return b}),d.$formatters.push(function(a){if(!a)return a;var b=parseFloat(a);if(0<b.toString().indexOf("e"))return a;var c=new Decimal(a);return b.toString()==c.toString()?b:a})}}}]).directive("owdBody",["$filter","owsCommon",function(a,b){return{restrict:"A",scope:!1,controller:["$scope","$element","$ionicHistory",function(c,d,e){!function(d){d.fn.jqKey=function(){var f=customKeyDownSettings;window.onhelp=function(){return!f.F1};var g=function(g){if(customKeyDownNextFocusGridControl)return!1;var h=getNextObject,i=g.keyCode,j=g.shiftKey,k=g.ctrlKey,l=g.altKey,m=g.target,n=!0;if(!f.Enter&&13==i)return!0;if(!f.Tab&&9==i)return!0;var o=function(){m=h(m,j);var a=d(g.target).closest("div[ng-row]"),b=d(m).closest("div[ng-row]");if(0==a.length&&b.length>0){if(m=null,customKeyDownNextFocusGridControl)return;customKeyDownNextFocusGridControl=!0;try{var e=b.closest("div[ng-grid]"),f=angular.element(e).scope(),i=g.target,k=f.domAccessProvider.grid.$viewport.scrollTop();j?f.domAccessProvider.grid.$viewport.scrollTop(f.domAccessProvider.grid.filteredRows.length*f.domAccessProvider.grid.config.rowHeight):f.domAccessProvider.grid.$viewport.scrollTop(0);var l=f.domAccessProvider.grid.$viewport.scrollTop(),n=null,o=function(){try{n&&n(),window.getSelection?window.getSelection().collapse(document.body,0):document.selection&&document.selection.empty();var a=h(i,j);a.focus(),a.select&&"button"!=a.type&&a.select(),setTimeout(function(){customKeyDownNextFocusGridControl=!1},10)}catch(a){customKeyDownNextFocusGridControl=!1}};l>-1&&l!=k?n=c.$on("ngGridEventScrollAfter",o):setTimeout(o,10)}catch(a){customKeyDownNextFocusGridControl=!1}}};switch(i){case 13:n=isNotEnterNextFocus(m),n||o();break;case 9:n=isNotTabNextFocus(m),n||o();break;case 8:switch(m.type){case"text":case"textarea":case"password":case"number":n=!0;break;default:if(b.isModalOpen())n=!1;else{var p=a("owfMessage"),q=p("keyDownBackSpaceInfo",null,!1);b.viewConfirm(q)?(n=!0,e.goBack(-1)):n=!1}}break;case 27:f.ESC&&(f.ESC(),n=!1);break;default:if(i>=112&&i<=123){var r=f["F"+(i-111)];r&&(r(m,j,k,l),n=!1)}}if(!n&&(g.preventDefault(),g.stopPropagation(),null!=m)){window.getSelection?window.getSelection().collapse(document.body,0):document.selection&&document.selection.empty();var s=function(){if(8==i)m.focus(),m.select&&"button"!=m.type&&m.select();else{var a=h(g.target,j);a.focus(),a.select&&"button"!=m.type&&a.select()}};g.target.blur(),setTimeout(s,10)}return n};this.each(function(){d(this).keydown(function(a){for(var b=0,c=0;c<document.forms.length;c++)b+=document.forms[c].length;if(0==b)return!0;var d=g(a);return d})})}}(jQuery),$(document).jqKey()}]}}]).directive("owdImage",["$rootScope","fileUpload","alertMessage",function(a,b,c){return{restrict:"E",scope:!1,replace:!1,transclude:!1,template:function(a,b){var c="",d=a.text(),e="",f=b.owdModels,g=b.owdRemove;b.class&&(e=" "+b.class);var h="";return b.ngDisabled&&(h=" "+b.ngDisabled),c+='<owd-button id="'+b.id+'" class="button-balanced '+e+'" ng-disabled="'+h+'">'+d+"</owd-button>",c+='<span hidden="true" owd-image-input owd-name="'+b.id+'"',"undefined"!=typeof b.owdBeforeUpload&&(c+=' owd-before-upload="'+b.owdBeforeUpload+'"'),"undefined"!=typeof b.owdAfterDialog&&(c+=' owd-after-dialog="'+b.owdAfterDialog+'"'),"undefined"!=typeof b.owdSuccess&&(c+=' owd-success="'+b.owdSuccess+'"'),"undefined"!=typeof b.owdOptions&&(c+=' owd-options="'+b.owdOptions+'"'),c+="></span>",a.removeAttr("id"),a.removeAttr("class"),c+='<div class="tablet-row" ng-repeat="image in '+f+' track by $index" ng-if="$index % 2 == 0">',c+='  <div class="card tablet-col tablet-col-47" ng-repeat="i in [$index, $index + 1]" ng-class="{\'even-item\': $index % 2 != 0}" ng-if="'+f+'[i]!= null">',c+='    <div class="item item-owd-image-left">',c+='      <div ng-click="enlarge(i)">',c+='        <img ng-src="data:image/png;base64,{{'+f+'[i].src}}" alt="{{}}">',c+="      </div>",c+='      <div style="text-align: right">',c+='         <i class="icon ion-close" ng-click="'+g+'"></i>',c+="      </div>",c+="      <h2>{{"+f+"[i].fileName}}</h2>",c+="      <p>{{"+f+"[i].info1}}</p>",c+="      <p>{{"+f+"[i].info2}}</p>",c+="    </div>",c+="  </div>",c+="</div>"},controller:["$scope","$element","owsMaster","alertMessage","$ionicModal",function(b,c,d,e,f){d.setMaster(b,c,a);var g=c.attr("owd-models");b.removeImage=function(a){confirm("Do you really want to remove this image?")&&b.uploadedImages.splice(a,1)},b.enlarge=function(a){b.myModal=f.fromTemplate('<div class="modal image-modal transparent" ng-click="closeModal()">\t<ion-pane class="transparent">\t\t<img class="fullscreen-image" ng-src="data:image/png;base64,'+b[g][a].src+'">\t</ion-pane></div>',{scope:b}),b.openModal()},b.openModal=function(){b.myModal.show()},b.closeModal=function(){b.myModal.remove()},b.$on("$destroy",function(){b.myModal&&b.myModal.remove()})}]}}]).directive("owdImage2",["$rootScope","fileUpload","alertMessage",function(a,b,c){return{restrict:"E",scope:!1,replace:!1,transclude:!1,template:function(a,b){var c="",d=a.text(),e="",f=b.owdModels,g=b.owdRemove;b.class&&(e=" "+b.class);var h="";return b.ngDisabled&&(h=" "+b.ngDisabled),c+='<owd-button id="'+b.id+'" class="button-balanced '+e+'" ng-disabled="'+h+'">'+d+"</owd-button>",c+='<span hidden="true" owd-image-input owd-name="'+b.id+'"',"undefined"!=typeof b.owdBeforeUpload&&(c+=' owd-before-upload="'+b.owdBeforeUpload+'"'),"undefined"!=typeof b.owdAfterDialog&&(c+=' owd-after-dialog="'+b.owdAfterDialog+'"'),"undefined"!=typeof b.owdSuccess&&(c+=' owd-success="'+b.owdSuccess+'"'),"undefined"!=typeof b.owdOptions&&(c+=' owd-options="'+b.owdOptions+'"'),c+="></span>",a.removeAttr("id"),a.removeAttr("class"),c+='<div class="tablet-row" ng-repeat="image in '+f+' track by $index" ng-if="$index % 2 == 0">',c+='  <div class="list card tablet-col tablet-col-47" ng-repeat="i in [$index, $index + 1]" ng-class="{\'even-item\': $index % 2 != 0}" ng-if="'+f+'[i]!= null">',c+='    <div style="text-align: right; padding-right: 10px; padding-top: 10px">',c+='      <i class="icon ion-close" style="font-size: 16pt" ng-click="'+g+'"></i>',c+="    </div>",c+='    <div class="item item-image item-owd-image" ng-click="enlarge(i)">',c+='      <img class="padding-horizontal" ng-src="data:image/png;base64,{{'+f+'[i].src}}">',c+="    </div>",c+='    <div class="item">',c+="      <h2>{{"+f+"[i].fileName}}</h2>",c+="    </div>",c+="  </div>",c+="</div>"},controller:["$scope","$element","owsMaster","alertMessage","$ionicModal",function(b,c,d,e,f){d.setMaster(b,c,a);var g=c.attr("owd-models");b.removeImage=function(a){confirm("Do you really want to remove this image?")&&b.uploadedImages.splice(a,1)},b.enlarge=function(a){b.myModal=f.fromTemplate('<div class="modal image-modal transparent" ng-click="closeModal()">\t<ion-pane class="transparent">\t\t<img class="fullscreen-image" ng-src="data:image/png;base64,'+b[g][a].src+'">\t</ion-pane></div>',{scope:b}),b.openModal()},b.openModal=function(){b.myModal.show()},b.closeModal=function(){b.myModal.remove()},b.$on("$destroy",function(){b.myModal&&b.myModal.remove()})}]}}]).directive("owdImageInput",["$rootScope","fileUpload","alertMessage",function(a,b,c){return{restrict:"A",scope:!1,replace:!1,transclude:!1,template:function(a,b){var c="";return c+='<input type="file" accept="image/*">'},controller:["$scope","$element","$filter","owsMaster",function(a,b,d,e){b.children().on("fileuploadfail",function(a,b){var e=d("owfMessage"),f=e("httpConnectionError",null,!1);c.setErrorMessage(f)});var f=b.attr("owd-options"),g={};g.pasteZone=null,g.autoUpload=!0,g.singleFileUploads=!0,g.minFileSize=1,g.maxFileSize=10485760,g.maxNumberOfFiles=1,g.formData=null,"undefined"!=typeof f&&null!=f&&""!=f&&angular.extend(g,a[f]),b.children().fileupload(g);var h=!1;b.children().on("fileuploadprocessalways",function(e,f){if(0==f.index&&(h=!1),f.files[f.index].error&&!h){h=!0;var g,i=d("owfMessage"),j=f.files[f.index].error;return g=j==f.i18n("maxNumberOfFiles")?i("maxNumberOfFiles",null,!1):j==f.i18n("acceptFileTypes")?i("acceptFileTypes",null,!1):j==f.i18n("maxFileSize")?i("maxFileSize",null,!1):j==f.i18n("minFileSize")?i("minFileSize",null,!1):i("unknownError",null,!1),void c.setErrorMessage(g)}var k=b.attr("owd-after-dialog");"undefined"!=typeof k&&null!=k&&""!=k&&a[k]()});var i=b.attr("owd-success");"undefined"!=typeof i&&null!=i&&""!=i&&b.children().on("fileuploaddone",function(b,e){if($.isFunction(e.result.data)&&(e.result=angular.fromJson($(e.result[0].body).text())),e.result&&e.result.status&&e.result.status.statusCode<0){var f=d("owfMessage"),g=f(e.result.status.messageCode,e.result.status.messageReplaceValue,!1);return void c.setErrorMessage(g)}a.$apply(a[i](b,e))});var j=function(){c.deleteAll(),a.$apply();var d=b.attr("owd-before-upload");"undefined"!=typeof d&&null!=d&&""!=d&&a[d](),angular.extend(g,a[f]),b.children().fileupload(g),b.children()[0].click()};b.parent().children("#"+b.attr("owd-name")).on("click",j)}]}}]),angular.module("oneslogiWeb.date",[]).factory("owsDateCommon",function(){return{dateRegExp:function(a){for(var b="",c=0;c<a.length;c++)b+="/"==a.substring(c,c+1)?"\\/":"."==a.substring(c,c+1)?"\\.":a.substring(c,c+1);return a=b,a=a.replace("yyyy","(19[0-9]{2}|[2-9]{1}[0-9]{1}[0-9]{2})"),a=a.replace("yy","([0-9]{2})"),a=a.replace("MM","(0[1-9]|1[0-2])"),a=a.replace("M","([1-9]|1[0-2])"),a=a.replace("dd","(3[01]|[12][0-9]|0[1-9])"),a=a.replace("d","(3[01]|[12][0-9]|[1-9])"),a="^"+a+"$",new RegExp(a)},isDate:function(a,b,c){try{var d,e,f,g=a.match(c);d=b.search(/y/i),e=b.search(/M/i),f=b.search(/d/i);var h=[{name:"y",sortKey:d},{name:"m",sortKey:e},{name:"d",sortKey:f}];h.sort(function(a,b){return a.sortKey-b.sortKey});for(var i=0;i<h.length;i++)"y"==h[i].name?d=parseInt(g[i+1]):"m"==h[i].name?e=parseInt(g[i+1])-1:"d"==h[i].name&&(f=parseInt(g[i+1]));var j=new Date(d,e,f);return j.getFullYear()==d&&j.getMonth()==e&&j.getDate()==f}catch(a){return!1}},dateToString:function(a,b){if(null==a)return a;if(a instanceof Date)return a.getFullYear()+("0"+(a.getMonth()+1)).slice(-2)+("0"+a.getDate()).slice(-2);if(null==b)return a;if(!this.dateRegExp(b).test(a))return a;var c=a.match(this.dateRegExp(b));try{var d,e,f;d=b.search(/y/i),e=b.search(/M/i),f=b.search(/d/i);var g=[{name:"y",sortKey:d},{name:"m",sortKey:e},{name:"d",sortKey:f}];g.sort(function(a,b){return a.sortKey-b.sortKey});for(var h=0;h<g.length;h++)"y"==g[h].name?d=parseInt(c[h+1]):"m"==g[h].name?e=parseInt(c[h+1])-1:"d"==g[h].name&&(f=parseInt(c[h+1]));var i=new Date(d,e,f);return i.getFullYear()==d&&i.getMonth()==e&&i.getDate()==f?i.getFullYear()+("0"+(i.getMonth()+1)).slice(-2)+("0"+i.getDate()).slice(-2):a}catch(b){return a}},stringToDate:function(a,b){if(null!=a){if(a instanceof Date||8==a.length){var c=b;c=c.replace("yyyy",a.substring(0,4)),c=c.replace("yy",a.substring(2,4)),c=c.replace("MM",a.substring(4,6));var d;return d=a.substring(4,6),c="0"==d.substring(0,1)?c.replace("M",a.substring(5,6)):c.replace("M",a.substring(4,6)),c=c.replace("dd",a.substring(6,8)),d=a.substring(6,8),c="0"==d.substring(0,1)?c.replace("d",a.substring(7,8)):c.replace("d",a.substring(6,8))}return a}return a},stringDateFormat:function(a,b){if(null==a||null==b||"string"!=typeof a||"string"!=typeof b)return a;try{var c,d=b;d.indexOf("/")!=-1?c="/":d.indexOf("-")!=-1?c="-":d.indexOf(".")!=-1?c=".":d.indexOf(" ")!=-1&&(c=" ");for(var e=a.split(c),f=[],g=0;g<e.length;g++)e[g]=e[g].trim(),""!=e[g]&&f.push(e[g]);if(a.length!=d.length&&a.replaceAll(c,"").length==d.replaceAll(c,"").length&&(a=a.replaceAll(c,""),f=[],f.push(a)),f.length<2||f.length>3){if(1==f.length){var h=d.split(c),i=d.replaceAll(c,"");if(a.length==i.length){for(var f="",j=0,g=0;g<h.length;g++)f.length>0&&(f+=c),f+=a.substr(j,h[g].length),j+=h[g].length;return this.stringToDate(this.dateToString(f,d),d)}if(8==i.length&&d.indexOf("yyyy")!=-1&&d.indexOf("MM")!=-1&&d.indexOf("dd")!=-1||6==i.length&&d.indexOf("yy")!=-1&&d.indexOf("MM")!=-1&&d.indexOf("dd")!=-1||4==i.length&&d.indexOf("MM")!=-1&&d.indexOf("dd")!=-1){var k,f,j;if(4==a.length){if(8==i.length){f="",j=0;for(var g=0;g<h.length;g++)if(f.length>0&&(f+=c),h[g].indexOf("yyyy")==-1){if(h[g].indexOf("MM")!=-1){k=parseInt(a.substr(j,h[g].length));break}f+=a.substr(j,h[g].length),j+=h[g].length}f="",j=0;for(var g=0;g<h.length;g++)f.length>0&&(f+=c),h[g].indexOf("yyyy")==-1?(f+=a.substr(j,h[g].length),j+=h[g].length):f+=this.calcYear(-1,k)}else if(6==i.length){f="",j=0;for(var g=0;g<h.length;g++)f.length>0&&(f+=c),h[g].indexOf("yy")==-1?(f+=a.substr(j,h[g].length),j+=h[g].length):f+=this.calcYear(-1)-2e3}return this.stringToDate(this.dateToString(f,d),d)}if(6==a.length){if(8==i.length){f="",j=0;for(var g=0;g<h.length;g++)if(f.length>0&&(f+=c),h[g].indexOf("yyyy")==-1){if(h[g].indexOf("MM")!=-1){k=parseInt(a.substr(j,h[g].length));break}f+=a.substr(j,h[g].length),j+=h[g].length}else j+=2;f="",j=0;for(var g=0;g<h.length;g++)f.length>0&&(f+=c),h[g].indexOf("yyyy")==-1?(f+=a.substr(j,h[g].length),j+=h[g].length):(f+=this.calcYear(parseInt(a.substr(j,2)),k),j+=2)}return this.stringToDate(this.dateToString(f,d),d)}}}return a}var l,m,n;l=b.search(/y/i),m=b.search(/M/i),n=b.search(/d/i);var o=[{name:"y",sortKey:l},{name:"m",sortKey:m},{name:"d",sortKey:n}];o.sort(function(a,b){return a.sortKey-b.sortKey});for(var p=0,g=0;g<o.length;g++)"y"==o[g].name&&3==f.length?l=parseInt(f[p++]):"m"==o[g].name?m=parseInt(f[p++])-1:"d"==o[g].name&&(n=parseInt(f[p++]));l=3==f.length?this.calcYear(l,m+1):this.calcYear(-1,m+1);var q=new Date(l,m,n);if(q.getFullYear()==l&&q.getMonth()==m&&q.getDate()==n){var r=q.getFullYear()+("0"+(q.getMonth()+1)).slice(-2)+("0"+q.getDate()).slice(-2);return this.stringToDate(r,d)}return a}catch(b){return a}},calcYear:function(a,b){var c=0,d=0,e=a,f=b;if(e>99)return e;if(e>-1)e+=2e3;else{var g=new Date;curM=g.getMonth()+1,e=curM>c&&curM<13-d?g.getFullYear():curM<=c&&f>=13-d?g.getFullYear()-1:curM>=13-d&&f<=c?g.getFullYear()+1:g.getFullYear()}return e}}});var SCREEN_MODE={Create:0,Update:1,Delete:2,Read:3,Copy:4},customKeyDownDefaultSetting={Enter:!1,Tab:!1,F1:null,F2:null,F3:null,F4:null,F5:null,F6:null,F7:null,F8:null,F9:null,F10:null,F11:null,F12:null,ESC:null},customKeyDownUpdateSetting={Enter:!0,Tab:!0},customKeyDownSettings=$.extend({},customKeyDownDefaultSetting,customKeyDownUpdateSetting),customKeyDownNextFocusGridControl=!1;window.addEventListener("focusin",function(a){var b=a.target;b&&b.form&&"FIELDSET"!=b.tagName&&"hidden"!=b.type&&!b.disabled&&b.tabIndex!=-1&&$(b).is(":visible")&&("undefined"==typeof b||"hidden"!=b.visibility&&"none"!=b.display)&&centeringElment(b)}),String.prototype.replaceAll=function(a,b){if("undefined"==typeof b)throw"dest is undefined.";if(Array.isArray(a)){for(var c=this,d=0;d<a.length;d++)c=c.split(a[d]).join(b);return c}return this.split(a).join(b)},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},$("body").on("oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend",function(a){var b=a.target;b.className&&"modal-dialog"==b.className&&document.activeElement&&document.activeElement.focus()});var dependsModules=new function(){this.modules=[],this.push=function(a){this.modules.push(a)},this.get=function(){return this.modules}};angular.module("oneslogiWeb.base.common.UserAutoPrintSettingList",["ui.bootstrap"]).constant("SCREEN_CD_USER_AUTO_PRINT_SETTING_LIST","UserAutoPrintSettingList").constant("CTRL_NM_USER_AUTO_PRINT_SETTING_LIST_SD","UserAutoPrintSettingListSDCtrl").constant("FORM_NM_USER_AUTO_PRINT_SETTING_LIST","userautoprintsettinglistform").constant("TEMPLATE_URL_USER_AUTO_PRINT_SETTING_LIST_SD","base/partials/common/UserAutoPrintSettingListSD.html").factory("UserAutoPrintSettingListDialog",["$ionicModal","$q","owsScreen","owsItem","owsColumn","alertMessage","SCREEN_CD_USER_AUTO_PRINT_SETTING_LIST","CTRL_NM_USER_AUTO_PRINT_SETTING_LIST_SD","TEMPLATE_URL_USER_AUTO_PRINT_SETTING_LIST_SD",function(a,b,c,d,e,f,g,h,i){return{show:function(h,j){var k;document.activeElement;return b.all([new c.getData(g,!0),new d.getData(g),new e.getData(g)]).then(function(){return h.modal?k=new Promise(function(a,b){a(h.modal)}):(k=a.fromTemplateUrl(i,{scope:h,animation:"slide-in-up"}).then(function(a){return h.modal=a,h.items=j,f.addModalAlert(a,"UserAutoPrintSettingListSD"),a}),h.openModal=function(){h.modal.show()},h.closeModal=function(){h.modal.hide(),h.modal.remove(),f.removeModalAlert("UserAutoPrintSettingListSD")},h.$on("$destroy",function(){alert("destroying modal (pc.js)"),h.modal.remove(),f.removeModalAlert("UserAutoPrintSettingListSD")}),h.$on("modal.hidden",function(){h.closeAction&&(h.closeAction(),f.removeModalAlert("UserAutoPrintSettingListSD"))}),h.$on("modal.removed",function(){h.modal=null,f.removeModalAlert("UserAutoPrintSettingListSD")}),k)})}}}]).factory("UserAutoPrintSettingListApi",["AngularAPIClient",function(a){return{dropdownList:a.make([["printerGroup","GET","resources/common/printerGroup/selectByVariableAttributes"]]),userAutoPrintSettingList:a.make([["initSearch","GET","resources/common/userAutoPrintSettingList/initSearch"]])}}]).controller("UserAutoPrintSettingListSDCtrl",["$scope","$state","$filter","$location","$q","$window","alertMessage","directiveControl","gridDirectiveControl","optionMessageControl","gridOptionMessageControl","owsHistory","owsCommon","userInfo","statusInfo","UserAutoPrintSettingListApi","UserAutoPrintSettingEditDialog","FORM_NM_USER_AUTO_PRINT_SETTING_LIST",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a.userAutoPrintSettingListGridCols=[{field:"reportNm",displayName:"帳票名"},{field:"reportLayoutNm",displayName:"レイアウト名"},{field:"attribute1",displayName:"属性１"},{field:"attribute2",displayName:"属性２"},{field:"attribute3",displayName:"属性３"},{field:"attribute4",displayName:"属性４"},{field:"attribute5",displayName:"属性５"},{field:"printerGroupNm",displayName:"プリンタグループ"},{field:"printerNm",displayName:"プリンタ"},{field:"trayNm",displayName:"トレイ"}],a.initScreen=function(){j.hideAll(a),g.deleteAll(),a.searchResult={},a.isopen=!0,a.gridOptions={data:"userAutoPrintSettingList",columnDefs:"userAutoPrintSettingListGridCols"},a.initScreenHttp()},a.initScreenHttp=function(){e.all([a.deferredGetPrinterGroup()]).then(function(b){return a.deferredGetInitData()})},a.deferredGetPrinterGroup=function(){var b=e.defer(),c={};return p.dropdownList.printerGroup(c).then(function(c){a.printerGroupList=c.data,b.resolve()}),b.promise},a.deferredGetInitData=function(){var b=e.defer(),c={};return p.userAutoPrintSettingList.initSearch(c).then(function(c){return o.isSuccessAndShowMessage(c,"userAutoPrintSettingListForm")?(a.userAutoPrintSettingList=c.data,a.searchResult.totalServerItems=c.data.length,l.hasState()&&(a.head=l.popState(),a.search()),$("#close").focus(),void b.resolve()):void b.reject()}),b.promise},a.getClassForRow=function(a){return"1"==a.delFlg?"baselegendred":""},a.showSubModal=function(b){j.hideAll(a),g.deleteAll(),q.show(a,a.userAutoPrintSettingList[b],function(){var b=e.defer();return a.initScreenHttp(),b.resolve(),b.promise}).then(function(b){a.openSubModal()})},a.initScreen()}]),angular.module("oneslogiWeb.base.common.UserAutoPrintSettingEdit",["ui.bootstrap"]).constant("SCREEN_CD_USER_AUTO_PRINT_SETTING_EDIT","UserAutoPrintSettingEdit").constant("CTRL_NM_USER_AUTO_PRINT_SETTING_EDIT_SD","UserAutoPrintSettingEditSDCtrl").constant("FORM_NM_USER_AUTO_PRINT_SETTING_EDIT","userautoprintsettingeditform").constant("TEMPLATE_URL_USER_AUTO_PRINT_SETTING_EDIT_SD","base/partials/common/UserAutoPrintSettingEditSD.html").factory("UserAutoPrintSettingEditDialog",["$ionicModal","$q","owsScreen","owsItem","owsColumn","alertMessage","SCREEN_CD_USER_AUTO_PRINT_SETTING_EDIT","CTRL_NM_USER_AUTO_PRINT_SETTING_EDIT_SD","TEMPLATE_URL_USER_AUTO_PRINT_SETTING_EDIT_SD",function(a,b,c,d,e,f,g,h,i){return{show:function(f,h,j){var k;document.activeElement;return b.all([new c.getData(g,!0),new d.getData(g),new e.getData(g)]).then(function(){return f.subModal?k=new Promise(function(a,b){a(f.subModal)}):(k=a.fromTemplateUrl(i,{scope:f,animation:"slide-in-up"}).then(function(a){return f.subModal=a,f.subItems=h,f.onUpdateSuccessFunction=j,a}),f.openSubModal=function(){f.subModal.show()},f.closeSubModal=function(){f.subModal.hide(),f.subModal.remove(),f.subModal=null},f.$on("$destroy",function(){f.subModal&&(alert("destroying subModal (pc.js)"),f.subModal.remove(),f.subModal=null)}),f.$on("subModal.hidden",function(){f.subCloseAction&&f.subCloseAction()}),f.$on("subModal.removed",function(){f.subModal=null}),k)})}}}]).factory("UserAutoPrintSettingEditApi",["AngularAPIClient",function(a){return{dropdownList:a.make([["getPrinterGroupList","GET","resources/common/printerGroup/selectByVariableAttributes"],["getPrinterList","GET","resources/common/printer/selectByPrinterGroupId"],["getPrinterAttributeList","GET","resources/common/printerAttribute/selectByPrinterId"]]),userAutoPrintSettingEdit:a.make([["initUpdate","GET","resources/common/userAutoPrintSettingEdit/initUpdate"],["inputCheck","POST","resources/common/userAutoPrintSettingEdit/inputCheck"],["update","POST","resources/common/userAutoPrintSettingEdit/update"]])}}]).controller("UserAutoPrintSettingEditSDCtrl",["$scope","$state","$filter","$location","$q","$window","alertMessage","directiveControl","gridDirectiveControl","optionMessageControl","gridOptionMessageControl","owsHistory","owsCommon","userInfo","statusInfo","UserAutoPrintSettingEditApi","FORM_NM_USER_AUTO_PRINT_SETTING_EDIT",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a.initScreen=function(){e.defer();a.reportLayout={},a.userAutoPrintSetting={},a.initScreenHttp()},a.initScreenHttp=function(){e.all([a.deferredGetPrinterGroupList()]).then(function(b){return a.deferredGetInitData()})},a.deferredGetPrinterGroupList=function(){var b=e.defer();return p.dropdownList.getPrinterGroupList().then(function(c){return o.isSuccessAndShowMessage(c,q)?(a.printerGroupList=c.data,void b.resolve()):void b.reject()}),b.promise},a.deferredGetInitData=function(){var b=e.defer(),c={};return a.subItems&&(c.reportLayoutId=a.subItems.reportLayoutId),p.userAutoPrintSettingEdit.initUpdate(c).then(function(c){if(!o.isSuccessAndShowMessage(c,q))return void b.reject();if(a.reportLayout=c.reportLayout,a.userAutoPrintSetting=c.userAutoPrintSetting,null!=a.userAutoPrintSetting.printerGroupId){var d={};d.printerGroupId=a.userAutoPrintSetting.printerGroupId,p.dropdownList.getPrinterList(d).then(function(c){if(!o.isSuccessAndShowMessage(c,q))return void b.reject();if(a.printerList=c.data,null!=a.userAutoPrintSetting.printerId){var d={};d.printerId=a.userAutoPrintSetting.printerId,
p.dropdownList.getPrinterAttributeList(d).then(function(c){return o.isSuccessAndShowMessage(c,q)?void(a.printerAttributeList=c.data):void b.reject()})}})}$("#printerGroupId").focus(),b.resolve()}),b.promise},a.changePrinterGroup=function(){if(null!=a.userAutoPrintSetting.printerGroupId&&""!=a.userAutoPrintSetting.printerGroupId){var b={};b.printerGroupId=a.userAutoPrintSetting.printerGroupId,p.dropdownList.getPrinterList(b).then(function(b){o.isSuccessAndShowMessage(b,q)&&(a.printerList=b.data,a.printerAttributeList={})})}else a.userAutoPrintSetting.printerId=null,a.userAutoPrintSetting.printerAttributeId=null},a.changePrinter=function(){if(null!=a.userAutoPrintSetting.printerId&&""!=a.userAutoPrintSetting.printerId){var b={};b.printerId=a.userAutoPrintSetting.printerId,p.dropdownList.getPrinterAttributeList(b).then(function(b){o.isSuccessAndShowMessage(b,q)&&(a.printerAttributeList=b.data)})}else a.userAutoPrintSetting.printerAttributeId=null},a.update=function(b){j.hideAll(a),g.deleteAll();var c={};c.userAutoPrintSetting={},c.reportLayout={},c.userAutoPrintSetting=a.userAutoPrintSetting,c.reportLayout=a.reportLayout,m.syncExec(function(){p.userAutoPrintSettingEdit.inputCheck(c).then(function(b){o.isSuccessAndShowMessage(b,q)&&p.userAutoPrintSettingEdit.update(c).then(function(b){o.isSuccessAndShowMessage(b,q)&&(m.viewAlert(b.status.messageCode,b.status.messageReplaceValue),a.onUpdateSuccessFunction().then(function(){a.closeSubModal()}))})})},1e3)},a.initScreen()}]);